(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fu(t,e){const n=new Set(t.split(","));return i=>n.has(i)}const Re={},bs=[],Ht=()=>{},hy=()=>!1,qa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pu=t=>t.startsWith("onUpdate:"),je=Object.assign,_u=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},dy=Object.prototype.hasOwnProperty,de=(t,e)=>dy.call(t,e),Y=Array.isArray,Ts=t=>_o(t)==="[object Map]",Ga=t=>_o(t)==="[object Set]",nd=t=>_o(t)==="[object Date]",ne=t=>typeof t=="function",$e=t=>typeof t=="string",Wn=t=>typeof t=="symbol",Ie=t=>t!==null&&typeof t=="object",Fp=t=>(Ie(t)||ne(t))&&ne(t.then)&&ne(t.catch),Np=Object.prototype.toString,_o=t=>Np.call(t),fy=t=>_o(t).slice(8,-1),Mp=t=>_o(t)==="[object Object]",mu=t=>$e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,br=fu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ka=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},py=/-(\w)/g,Dn=Ka(t=>t.replace(py,(e,n)=>n?n.toUpperCase():"")),_y=/\B([A-Z])/g,tr=Ka(t=>t.replace(_y,"-$1").toLowerCase()),Ya=Ka(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rl=Ka(t=>t?`on${Ya(t)}`:""),Di=(t,e)=>!Object.is(t,e),qo=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Lp=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},la=t=>{const e=parseFloat(t);return isNaN(e)?t:e},my=t=>{const e=$e(t)?Number(t):NaN;return isNaN(e)?t:e};let id;const Up=()=>id||(id=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bs(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=$e(i)?Cy(i):Bs(i);if(s)for(const r in s)e[r]=s[r]}return e}else if($e(t)||Ie(t))return t}const gy=/;(?![^(]*\))/g,yy=/:([^]+)/,vy=/\/\*[^]*?\*\//g;function Cy(t){const e={};return t.replace(vy,"").split(gy).forEach(n=>{if(n){const i=n.split(yy);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function gu(t){let e="";if($e(t))e=t;else if(Y(t))for(let n=0;n<t.length;n++){const i=gu(t[n]);i&&(e+=i+" ")}else if(Ie(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Dy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ey=fu(Dy);function Bp(t){return!!t||t===""}function wy(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Qa(t[i],e[i]);return n}function Qa(t,e){if(t===e)return!0;let n=nd(t),i=nd(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Wn(t),i=Wn(e),n||i)return t===e;if(n=Y(t),i=Y(e),n||i)return n&&i?wy(t,e):!1;if(n=Ie(t),i=Ie(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Qa(t[o],e[o]))return!1}}return String(t)===String(e)}function by(t,e){return t.findIndex(n=>Qa(n,e))}const ce=t=>$e(t)?t:t==null?"":Y(t)||Ie(t)&&(t.toString===Np||!ne(t.toString))?JSON.stringify(t,Wp,2):String(t),Wp=(t,e)=>e&&e.__v_isRef?Wp(t,e.value):Ts(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[Pl(i,r)+" =>"]=s,n),{})}:Ga(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Pl(n))}:Wn(e)?Pl(e):Ie(e)&&!Y(e)&&!Mp(e)?String(e):e,Pl=(t,e="")=>{var n;return Wn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zt;class Ty{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Zt,!e&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Zt;try{return Zt=this,e()}finally{Zt=n}}}on(){Zt=this}off(){Zt=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Sy(t,e=Zt){e&&e.active&&e.effects.push(t)}function Iy(){return Zt}let Xi;class yu{constructor(e,n,i,s){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Sy(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ai();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Ay(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ki()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=di,n=Xi;try{return di=!0,Xi=this,this._runnings++,sd(this),this.fn()}finally{rd(this),this._runnings--,Xi=n,di=e}}stop(){this.active&&(sd(this),rd(this),this.onStop&&this.onStop(),this.active=!1)}}function Ay(t){return t.value}function sd(t){t._trackId++,t._depsLength=0}function rd(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Vp(t.deps[e],t);t.deps.length=t._depsLength}}function Vp(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let di=!0,uc=0;const $p=[];function Ai(){$p.push(di),di=!1}function ki(){const t=$p.pop();di=t===void 0?!0:t}function vu(){uc++}function Cu(){for(uc--;!uc&&hc.length;)hc.shift()()}function Hp(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&Vp(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const hc=[];function zp(t,e,n){vu();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s??(s=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s??(s=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&hc.push(i.scheduler)))}Cu()}const jp=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},dc=new WeakMap,Ji=Symbol(""),fc=Symbol("");function At(t,e,n){if(di&&Xi){let i=dc.get(t);i||dc.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=jp(()=>i.delete(n))),Hp(Xi,s)}}function Mn(t,e,n,i,s,r){const o=dc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Y(t)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!Wn(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Y(t)?mu(n)&&a.push(o.get("length")):(a.push(o.get(Ji)),Ts(t)&&a.push(o.get(fc)));break;case"delete":Y(t)||(a.push(o.get(Ji)),Ts(t)&&a.push(o.get(fc)));break;case"set":Ts(t)&&a.push(o.get(Ji));break}vu();for(const l of a)l&&zp(l,4);Cu()}const ky=fu("__proto__,__v_isRef,__isVue"),qp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Wn)),od=Ry();function Ry(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=me(this);for(let r=0,o=this.length;r<o;r++)At(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(me)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ai(),vu();const i=me(this)[e].apply(this,n);return Cu(),ki(),i}}),t}function Py(t){Wn(t)||(t=String(t));const e=me(this);return At(e,"has",t),e.hasOwnProperty(t)}class Gp{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?zy:Xp:r?Qp:Yp).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Y(e);if(!s){if(o&&de(od,n))return Reflect.get(od,n,i);if(n==="hasOwnProperty")return Py}const a=Reflect.get(e,n,i);return(Wn(n)?qp.has(n):ky(n))||(s||At(e,"get",n),r)?a:kt(a)?o&&mu(n)?a:a.value:Ie(a)?s?Zp(a):mo(a):a}}class Kp extends Gp{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=Wr(r);if(!ca(i)&&!Wr(i)&&(r=me(r),i=me(i)),!Y(e)&&kt(r)&&!kt(i))return l?!1:(r.value=i,!0)}const o=Y(e)&&mu(n)?Number(n)<e.length:de(e,n),a=Reflect.set(e,n,i,s);return e===me(s)&&(o?Di(i,r)&&Mn(e,"set",n,i):Mn(e,"add",n,i)),a}deleteProperty(e,n){const i=de(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Mn(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Wn(n)||!qp.has(n))&&At(e,"has",n),i}ownKeys(e){return At(e,"iterate",Y(e)?"length":Ji),Reflect.ownKeys(e)}}class xy extends Gp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Oy=new Kp,Fy=new xy,Ny=new Kp(!0);const Du=t=>t,Xa=t=>Reflect.getPrototypeOf(t);function Fo(t,e,n=!1,i=!1){t=t.__v_raw;const s=me(t),r=me(e);n||(Di(e,r)&&At(s,"get",e),At(s,"get",r));const{has:o}=Xa(s),a=i?Du:n?bu:Vr;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function No(t,e=!1){const n=this.__v_raw,i=me(n),s=me(t);return e||(Di(t,s)&&At(i,"has",t),At(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Mo(t,e=!1){return t=t.__v_raw,!e&&At(me(t),"iterate",Ji),Reflect.get(t,"size",t)}function ad(t){t=me(t);const e=me(this);return Xa(e).has.call(e,t)||(e.add(t),Mn(e,"add",t,t)),this}function ld(t,e){e=me(e);const n=me(this),{has:i,get:s}=Xa(n);let r=i.call(n,t);r||(t=me(t),r=i.call(n,t));const o=s.call(n,t);return n.set(t,e),r?Di(e,o)&&Mn(n,"set",t,e):Mn(n,"add",t,e),this}function cd(t){const e=me(this),{has:n,get:i}=Xa(e);let s=n.call(e,t);s||(t=me(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&Mn(e,"delete",t,void 0),r}function ud(){const t=me(this),e=t.size!==0,n=t.clear();return e&&Mn(t,"clear",void 0,void 0),n}function Lo(t,e){return function(i,s){const r=this,o=r.__v_raw,a=me(o),l=e?Du:t?bu:Vr;return!t&&At(a,"iterate",Ji),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function Uo(t,e,n){return function(...i){const s=this.__v_raw,r=me(s),o=Ts(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...i),u=n?Du:e?bu:Vr;return!e&&At(r,"iterate",l?fc:Ji),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Kn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function My(){const t={get(r){return Fo(this,r)},get size(){return Mo(this)},has:No,add:ad,set:ld,delete:cd,clear:ud,forEach:Lo(!1,!1)},e={get(r){return Fo(this,r,!1,!0)},get size(){return Mo(this)},has:No,add:ad,set:ld,delete:cd,clear:ud,forEach:Lo(!1,!0)},n={get(r){return Fo(this,r,!0)},get size(){return Mo(this,!0)},has(r){return No.call(this,r,!0)},add:Kn("add"),set:Kn("set"),delete:Kn("delete"),clear:Kn("clear"),forEach:Lo(!0,!1)},i={get(r){return Fo(this,r,!0,!0)},get size(){return Mo(this,!0)},has(r){return No.call(this,r,!0)},add:Kn("add"),set:Kn("set"),delete:Kn("delete"),clear:Kn("clear"),forEach:Lo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Uo(r,!1,!1),n[r]=Uo(r,!0,!1),e[r]=Uo(r,!1,!0),i[r]=Uo(r,!0,!0)}),[t,n,e,i]}const[Ly,Uy,By,Wy]=My();function Eu(t,e){const n=e?t?Wy:By:t?Uy:Ly;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(de(n,s)&&s in i?n:i,s,r)}const Vy={get:Eu(!1,!1)},$y={get:Eu(!1,!0)},Hy={get:Eu(!0,!1)};const Yp=new WeakMap,Qp=new WeakMap,Xp=new WeakMap,zy=new WeakMap;function jy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qy(t){return t.__v_skip||!Object.isExtensible(t)?0:jy(fy(t))}function mo(t){return Wr(t)?t:wu(t,!1,Oy,Vy,Yp)}function Jp(t){return wu(t,!1,Ny,$y,Qp)}function Zp(t){return wu(t,!0,Fy,Hy,Xp)}function wu(t,e,n,i,s){if(!Ie(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=qy(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function Tr(t){return Wr(t)?Tr(t.__v_raw):!!(t&&t.__v_isReactive)}function Wr(t){return!!(t&&t.__v_isReadonly)}function ca(t){return!!(t&&t.__v_isShallow)}function e_(t){return t?!!t.__v_raw:!1}function me(t){const e=t&&t.__v_raw;return e?me(e):t}function Gy(t){return Object.isExtensible(t)&&Lp(t,"__v_skip",!0),t}const Vr=t=>Ie(t)?mo(t):t,bu=t=>Ie(t)?Zp(t):t;class t_{constructor(e,n,i,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new yu(()=>e(this._value),()=>Go(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=me(this);return(!e._cacheable||e.effect.dirty)&&Di(e._value,e._value=e.effect.run())&&Go(e,4),n_(e),e.effect._dirtyLevel>=2&&Go(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Ky(t,e,n=!1){let i,s;const r=ne(t);return r?(i=t,s=Ht):(i=t.get,s=t.set),new t_(i,s,r||!s,n)}function n_(t){var e;di&&Xi&&(t=me(t),Hp(Xi,(e=t.dep)!=null?e:t.dep=jp(()=>t.dep=void 0,t instanceof t_?t:void 0)))}function Go(t,e=4,n){t=me(t);const i=t.dep;i&&zp(i,e)}function kt(t){return!!(t&&t.__v_isRef===!0)}function Ss(t){return i_(t,!1)}function Yy(t){return i_(t,!0)}function i_(t,e){return kt(t)?t:new Qy(t,e)}class Qy{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:me(e),this._value=n?e:Vr(e)}get value(){return n_(this),this._value}set value(e){const n=this.__v_isShallow||ca(e)||Wr(e);e=n?e:me(e),Di(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Vr(e),Go(this,4))}}function Is(t){return kt(t)?t.value:t}const Xy={get:(t,e,n)=>Is(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return kt(s)&&!kt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function s_(t){return Tr(t)?t:new Proxy(t,Xy)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fi(t,e,n,i){try{return i?t(...i):t()}catch(s){Ja(s,e,n)}}function Yt(t,e,n,i){if(ne(t)){const s=fi(t,e,n,i);return s&&Fp(s)&&s.catch(r=>{Ja(r,e,n)}),s}if(Y(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Yt(t[r],e,n,i));return s}}function Ja(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}r=r.parent}const l=e.appContext.config.errorHandler;if(l){Ai(),fi(l,null,10,[t,o,a]),ki();return}}Jy(t,n,s,i)}function Jy(t,e,n,i=!0){console.error(t)}let $r=!1,pc=!1;const ut=[];let pn=0;const As=[];let Zn=null,zi=0;const r_=Promise.resolve();let Tu=null;function go(t){const e=Tu||r_;return t?e.then(this?t.bind(this):t):e}function Zy(t){let e=pn+1,n=ut.length;for(;e<n;){const i=e+n>>>1,s=ut[i],r=Hr(s);r<t||r===t&&s.pre?e=i+1:n=i}return e}function Su(t){(!ut.length||!ut.includes(t,$r&&t.allowRecurse?pn+1:pn))&&(t.id==null?ut.push(t):ut.splice(Zy(t.id),0,t),o_())}function o_(){!$r&&!pc&&(pc=!0,Tu=r_.then(l_))}function ev(t){const e=ut.indexOf(t);e>pn&&ut.splice(e,1)}function tv(t){Y(t)?As.push(...t):(!Zn||!Zn.includes(t,t.allowRecurse?zi+1:zi))&&As.push(t),o_()}function hd(t,e,n=$r?pn+1:0){for(;n<ut.length;n++){const i=ut[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;ut.splice(n,1),n--,i()}}}function a_(t){if(As.length){const e=[...new Set(As)].sort((n,i)=>Hr(n)-Hr(i));if(As.length=0,Zn){Zn.push(...e);return}for(Zn=e,zi=0;zi<Zn.length;zi++)Zn[zi]();Zn=null,zi=0}}const Hr=t=>t.id==null?1/0:t.id,nv=(t,e)=>{const n=Hr(t)-Hr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function l_(t){pc=!1,$r=!0,ut.sort(nv);try{for(pn=0;pn<ut.length;pn++){const e=ut[pn];e&&e.active!==!1&&fi(e,null,14)}}finally{pn=0,ut.length=0,a_(),$r=!1,Tu=null,(ut.length||As.length)&&l_()}}function iv(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Re;let s=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=i[u]||Re;d&&(s=n.map(f=>$e(f)?f.trim():f)),h&&(s=n.map(la))}let a,l=i[a=Rl(e)]||i[a=Rl(Dn(e))];!l&&r&&(l=i[a=Rl(tr(e))]),l&&Yt(l,t,6,s);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Yt(c,t,6,s)}}function c_(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!ne(t)){const l=c=>{const u=c_(c,e,!0);u&&(a=!0,je(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ie(t)&&i.set(t,null),null):(Y(r)?r.forEach(l=>o[l]=null):je(o,r),Ie(t)&&i.set(t,o),o)}function Za(t,e){return!t||!qa(e)?!1:(e=e.slice(2).replace(/Once$/,""),de(t,e[0].toLowerCase()+e.slice(1))||de(t,tr(e))||de(t,e))}let gt=null,el=null;function ua(t){const e=gt;return gt=t,el=t&&t.type.__scopeId||null,e}function ln(t){el=t}function cn(){el=null}function _t(t,e=gt,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&wd(-1);const r=ua(e);let o;try{o=t(...s)}finally{ua(r),i._d&&wd(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function xl(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:_,inheritAttrs:p}=t,y=ua(t);let C,D;try{if(n.shapeFlag&4){const b=s||i,T=b;C=fn(c.call(T,b,u,h,f,d,_)),D=a}else{const b=e;C=fn(b.length>1?b(h,{attrs:a,slots:o,emit:l}):b(h,null)),D=e.props?a:sv(a)}}catch(b){Ar.length=0,Ja(b,t,1),C=fe(jt)}let E=C;if(D&&p!==!1){const b=Object.keys(D),{shapeFlag:T}=E;b.length&&T&7&&(r&&b.some(pu)&&(D=rv(D,r)),E=Ei(E,D,!1,!0))}return n.dirs&&(E=Ei(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),C=E,ua(y),C}const sv=t=>{let e;for(const n in t)(n==="class"||n==="style"||qa(n))&&((e||(e={}))[n]=t[n]);return e},rv=(t,e)=>{const n={};for(const i in t)(!pu(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function ov(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?dd(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==i[d]&&!Za(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?dd(i,o,c):!0:!!o;return!1}function dd(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Za(n,r))return!0}return!1}function av({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Iu="components";function ct(t,e){return d_(Iu,t,!0,e)||t}const u_=Symbol.for("v-ndc");function h_(t){return $e(t)?d_(Iu,t,!1)||t:t||u_}function d_(t,e,n=!0,i=!1){const s=gt||tt;if(s){const r=s.type;if(t===Iu){const a=n1(r,!1);if(a&&(a===e||a===Dn(e)||a===Ya(Dn(e))))return r}const o=fd(s[t]||r[t],e)||fd(s.appContext[t],e);return!o&&i?r:o}}function fd(t,e){return t&&(t[e]||t[Dn(e)]||t[Ya(Dn(e))])}const lv=t=>t.__isSuspense;function cv(t,e){e&&e.pendingBranch?Y(t)?e.effects.push(...t):e.effects.push(t):tv(t)}const uv=Symbol.for("v-scx"),hv=()=>Ln(uv),Bo={};function Ko(t,e,n){return f_(t,e,n)}function f_(t,e,{immediate:n,deep:i,flush:s,once:r,onTrack:o,onTrigger:a}=Re){if(e&&r){const S=e;e=(...x)=>{S(...x),T()}}const l=tt,c=S=>i===!0?S:Ki(S,i===!1?1:void 0);let u,h=!1,d=!1;if(kt(t)?(u=()=>t.value,h=ca(t)):Tr(t)?(u=()=>c(t),h=!0):Y(t)?(d=!0,h=t.some(S=>Tr(S)||ca(S)),u=()=>t.map(S=>{if(kt(S))return S.value;if(Tr(S))return c(S);if(ne(S))return fi(S,l,2)})):ne(t)?e?u=()=>fi(t,l,2):u=()=>(f&&f(),Yt(t,l,3,[_])):u=Ht,e&&i){const S=u;u=()=>Ki(S())}let f,_=S=>{f=E.onStop=()=>{fi(S,l,4),f=E.onStop=void 0}},p;if(rl)if(_=Ht,e?n&&Yt(e,l,3,[u(),d?[]:void 0,_]):u(),s==="sync"){const S=hv();p=S.__watcherHandles||(S.__watcherHandles=[])}else return Ht;let y=d?new Array(t.length).fill(Bo):Bo;const C=()=>{if(!(!E.active||!E.dirty))if(e){const S=E.run();(i||h||(d?S.some((x,A)=>Di(x,y[A])):Di(S,y)))&&(f&&f(),Yt(e,l,3,[S,y===Bo?void 0:d&&y[0]===Bo?[]:y,_]),y=S)}else E.run()};C.allowRecurse=!!e;let D;s==="sync"?D=C:s==="post"?D=()=>Et(C,l&&l.suspense):(C.pre=!0,l&&(C.id=l.uid),D=()=>Su(C));const E=new yu(u,Ht,D),b=Iy(),T=()=>{E.stop(),b&&_u(b.effects,E)};return e?n?C():y=E.run():s==="post"?Et(E.run.bind(E),l&&l.suspense):E.run(),p&&p.push(T),T}function dv(t,e,n){const i=this.proxy,s=$e(t)?t.includes(".")?p_(i,t):()=>i[t]:t.bind(i,i);let r;ne(e)?r=e:(r=e.handler,n=e);const o=yo(this),a=f_(s,r.bind(i),n);return o(),a}function p_(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Ki(t,e=1/0,n){if(e<=0||!Ie(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,kt(t))Ki(t.value,e,n);else if(Y(t))for(let i=0;i<t.length;i++)Ki(t[i],e,n);else if(Ga(t)||Ts(t))t.forEach(i=>{Ki(i,e,n)});else if(Mp(t))for(const i in t)Ki(t[i],e,n);return t}function ge(t,e){if(gt===null)return t;const n=ol(gt)||gt.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,o,a,l=Re]=e[s];r&&(ne(r)&&(r={mounted:r,updated:r}),r.deep&&Ki(o),i.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ni(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Ai(),Yt(l,n,8,[t.el,a,t,e]),ki())}}const ei=Symbol("_leaveCb"),Wo=Symbol("_enterCb");function fv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return il(()=>{t.isMounted=!0}),C_(()=>{t.isUnmounting=!0}),t}const Vt=[Function,Array],__={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vt,onEnter:Vt,onAfterEnter:Vt,onEnterCancelled:Vt,onBeforeLeave:Vt,onLeave:Vt,onAfterLeave:Vt,onLeaveCancelled:Vt,onBeforeAppear:Vt,onAppear:Vt,onAfterAppear:Vt,onAppearCancelled:Vt},pv={name:"BaseTransition",props:__,setup(t,{slots:e}){const n=Xv(),i=fv();return()=>{const s=e.default&&g_(e.default(),!0);if(!s||!s.length)return;let r=s[0];if(s.length>1){for(const d of s)if(d.type!==jt){r=d;break}}const o=me(t),{mode:a}=o;if(i.isLeaving)return Ol(r);const l=pd(r);if(!l)return Ol(r);const c=_c(l,o,i,n);mc(l,c);const u=n.subTree,h=u&&pd(u);if(h&&h.type!==jt&&!ji(l,h)){const d=_c(h,o,i,n);if(mc(h,d),a==="out-in"&&l.type!==jt)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Ol(r);a==="in-out"&&l.type!==jt&&(d.delayLeave=(f,_,p)=>{const y=m_(i,h);y[String(h.key)]=h,f[ei]=()=>{_(),f[ei]=void 0,delete c.delayedLeave},c.delayedLeave=p})}return r}}},_v=pv;function m_(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function _c(t,e,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:f,onLeaveCancelled:_,onBeforeAppear:p,onAppear:y,onAfterAppear:C,onAppearCancelled:D}=e,E=String(t.key),b=m_(n,t),T=(A,k)=>{A&&Yt(A,i,9,k)},S=(A,k)=>{const j=k[1];T(A,k),Y(A)?A.every(ee=>ee.length<=1)&&j():A.length<=1&&j()},x={mode:r,persisted:o,beforeEnter(A){let k=a;if(!n.isMounted)if(s)k=p||a;else return;A[ei]&&A[ei](!0);const j=b[E];j&&ji(t,j)&&j.el[ei]&&j.el[ei](),T(k,[A])},enter(A){let k=l,j=c,ee=u;if(!n.isMounted)if(s)k=y||l,j=C||c,ee=D||u;else return;let L=!1;const G=A[Wo]=he=>{L||(L=!0,he?T(ee,[A]):T(j,[A]),x.delayedLeave&&x.delayedLeave(),A[Wo]=void 0)};k?S(k,[A,G]):G()},leave(A,k){const j=String(t.key);if(A[Wo]&&A[Wo](!0),n.isUnmounting)return k();T(h,[A]);let ee=!1;const L=A[ei]=G=>{ee||(ee=!0,k(),G?T(_,[A]):T(f,[A]),A[ei]=void 0,b[j]===t&&delete b[j])};b[j]=t,d?S(d,[A,L]):L()},clone(A){return _c(A,e,n,i)}};return x}function Ol(t){if(tl(t))return t=Ei(t),t.children=null,t}function pd(t){if(!tl(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ne(n.default))return n.default()}}function mc(t,e){t.shapeFlag&6&&t.component?mc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function g_(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Ne?(o.patchFlag&128&&s++,i=i.concat(g_(o.children,e,a))):(e||o.type!==jt)&&i.push(a!=null?Ei(o,{key:a}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function y_(t,e){return ne(t)?je({name:t.name},e,{setup:t}):t}const Yo=t=>!!t.type.__asyncLoader,tl=t=>t.type.__isKeepAlive;function mv(t,e){v_(t,"a",e)}function gv(t,e){v_(t,"da",e)}function v_(t,e,n=tt){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(nl(e,i,n),n){let s=n.parent;for(;s&&s.parent;)tl(s.parent.vnode)&&yv(i,e,n,s),s=s.parent}}function yv(t,e,n,i){const s=nl(e,t,i,!0);Au(()=>{_u(i[e],s)},n)}function nl(t,e,n=tt,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Ai();const a=yo(n),l=Yt(e,n,t,o);return a(),ki(),l});return i?s.unshift(r):s.push(r),r}}const jn=t=>(e,n=tt)=>(!rl||t==="sp")&&nl(t,(...i)=>e(...i),n),vv=jn("bm"),il=jn("m"),Cv=jn("bu"),Dv=jn("u"),C_=jn("bum"),Au=jn("um"),Ev=jn("sp"),wv=jn("rtg"),bv=jn("rtc");function Tv(t,e=tt){nl("ec",t,e)}function zt(t,e,n,i){let s;const r=n;if(Y(t)||$e(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r)}else if(Ie(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,r));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(t[c],c,a,r)}}else s=[];return s}const gc=t=>t?N_(t)?ol(t)||t.proxy:gc(t.parent):null,Sr=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gc(t.parent),$root:t=>gc(t.root),$emit:t=>t.emit,$options:t=>ku(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Su(t.update)}),$nextTick:t=>t.n||(t.n=go.bind(t.proxy)),$watch:t=>dv.bind(t)}),Fl=(t,e)=>t!==Re&&!t.__isScriptSetup&&de(t,e),Sv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(Fl(i,e))return o[e]=1,i[e];if(s!==Re&&de(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&de(c,e))return o[e]=3,r[e];if(n!==Re&&de(n,e))return o[e]=4,n[e];yc&&(o[e]=0)}}const u=Sr[e];let h,d;if(u)return e==="$attrs"&&At(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Re&&de(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,de(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return Fl(s,e)?(s[e]=n,!0):i!==Re&&de(i,e)?(i[e]=n,!0):de(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==Re&&de(t,o)||Fl(e,o)||(a=r[0])&&de(a,o)||de(i,o)||de(Sr,o)||de(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:de(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _d(t){return Y(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let yc=!0;function Iv(t){const e=ku(t),n=t.proxy,i=t.ctx;yc=!1,e.beforeCreate&&md(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:_,activated:p,deactivated:y,beforeDestroy:C,beforeUnmount:D,destroyed:E,unmounted:b,render:T,renderTracked:S,renderTriggered:x,errorCaptured:A,serverPrefetch:k,expose:j,inheritAttrs:ee,components:L,directives:G,filters:he}=e;if(c&&Av(c,i,null),o)for(const Z in o){const se=o[Z];ne(se)&&(i[Z]=se.bind(n))}if(s){const Z=s.call(n,n);Ie(Z)&&(t.data=mo(Z))}if(yc=!0,r)for(const Z in r){const se=r[Z],Ct=ne(se)?se.bind(n,n):ne(se.get)?se.get.bind(n,n):Ht,Dt=!ne(se)&&ne(se.set)?se.set.bind(n):Ht,ot=en({get:Ct,set:Dt});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>ot.value,set:Le=>ot.value=Le})}if(a)for(const Z in a)D_(a[Z],i,n,Z);if(l){const Z=ne(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(se=>{Qo(se,Z[se])})}u&&md(u,t,"c");function ie(Z,se){Y(se)?se.forEach(Ct=>Z(Ct.bind(n))):se&&Z(se.bind(n))}if(ie(vv,h),ie(il,d),ie(Cv,f),ie(Dv,_),ie(mv,p),ie(gv,y),ie(Tv,A),ie(bv,S),ie(wv,x),ie(C_,D),ie(Au,b),ie(Ev,k),Y(j))if(j.length){const Z=t.exposed||(t.exposed={});j.forEach(se=>{Object.defineProperty(Z,se,{get:()=>n[se],set:Ct=>n[se]=Ct})})}else t.exposed||(t.exposed={});T&&t.render===Ht&&(t.render=T),ee!=null&&(t.inheritAttrs=ee),L&&(t.components=L),G&&(t.directives=G)}function Av(t,e,n=Ht){Y(t)&&(t=vc(t));for(const i in t){const s=t[i];let r;Ie(s)?"default"in s?r=Ln(s.from||i,s.default,!0):r=Ln(s.from||i):r=Ln(s),kt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function md(t,e,n){Yt(Y(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function D_(t,e,n,i){const s=i.includes(".")?p_(n,i):()=>n[i];if($e(t)){const r=e[t];ne(r)&&Ko(s,r)}else if(ne(t))Ko(s,t.bind(n));else if(Ie(t))if(Y(t))t.forEach(r=>D_(r,e,n,i));else{const r=ne(t.handler)?t.handler.bind(n):e[t.handler];ne(r)&&Ko(s,r,t)}}function ku(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(c=>ha(l,c,o,!0)),ha(l,e,o)),Ie(e)&&r.set(e,l),l}function ha(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&ha(t,r,n,!0),s&&s.forEach(o=>ha(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=kv[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const kv={data:gd,props:yd,emits:yd,methods:yr,computed:yr,beforeCreate:pt,created:pt,beforeMount:pt,mounted:pt,beforeUpdate:pt,updated:pt,beforeDestroy:pt,beforeUnmount:pt,destroyed:pt,unmounted:pt,activated:pt,deactivated:pt,errorCaptured:pt,serverPrefetch:pt,components:yr,directives:yr,watch:Pv,provide:gd,inject:Rv};function gd(t,e){return e?t?function(){return je(ne(t)?t.call(this,this):t,ne(e)?e.call(this,this):e)}:e:t}function Rv(t,e){return yr(vc(t),vc(e))}function vc(t){if(Y(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function pt(t,e){return t?[...new Set([].concat(t,e))]:e}function yr(t,e){return t?je(Object.create(null),t,e):e}function yd(t,e){return t?Y(t)&&Y(e)?[...new Set([...t,...e])]:je(Object.create(null),_d(t),_d(e??{})):e}function Pv(t,e){if(!t)return e;if(!e)return t;const n=je(Object.create(null),t);for(const i in e)n[i]=pt(t[i],e[i]);return n}function E_(){return{app:null,config:{isNativeTag:hy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xv=0;function Ov(t,e){return function(i,s=null){ne(i)||(i=je({},i)),s!=null&&!Ie(s)&&(s=null);const r=E_(),o=new WeakSet;let a=!1;const l=r.app={_uid:xv++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:s1,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ne(c.install)?(o.add(c),c.install(l,...u)):ne(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const d=fe(i,s);return d.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(d,c):t(d,c,h),a=!0,l._container=c,c.__vue_app__=l,ol(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){const u=Ir;Ir=l;try{return c()}finally{Ir=u}}};return l}}let Ir=null;function Qo(t,e){if(tt){let n=tt.provides;const i=tt.parent&&tt.parent.provides;i===n&&(n=tt.provides=Object.create(i)),n[t]=e}}function Ln(t,e,n=!1){const i=tt||gt;if(i||Ir){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ir._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ne(e)?e.call(i&&i.proxy):e}}const w_={},b_=()=>Object.create(w_),T_=t=>Object.getPrototypeOf(t)===w_;function Fv(t,e,n,i=!1){const s={},r=b_();t.propsDefaults=Object.create(null),S_(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:Jp(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function Nv(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=me(s),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Za(t.emitsOptions,d))continue;const f=e[d];if(l)if(de(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const _=Dn(d);s[_]=Cc(l,a,_,f,t,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{S_(t,e,s,r)&&(c=!0);let u;for(const h in a)(!e||!de(e,h)&&((u=tr(h))===h||!de(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Cc(l,a,h,void 0,t,!0)):delete s[h]);if(r!==a)for(const h in r)(!e||!de(e,h))&&(delete r[h],c=!0)}c&&Mn(t.attrs,"set","")}function S_(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(br(l))continue;const c=e[l];let u;s&&de(s,u=Dn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Za(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=me(n),c=a||Re;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Cc(s,l,h,c[h],t,!de(c,h))}}return o}function Cc(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=de(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ne(l)){const{propsDefaults:c}=s;if(n in c)i=c[n];else{const u=yo(s);i=c[n]=l.call(null,e),u()}}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===tr(n))&&(i=!0))}return i}function I_(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!ne(t)){const u=h=>{l=!0;const[d,f]=I_(h,e,!0);je(o,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Ie(t)&&i.set(t,bs),bs;if(Y(r))for(let u=0;u<r.length;u++){const h=Dn(r[u]);vd(h)&&(o[h]=Re)}else if(r)for(const u in r){const h=Dn(u);if(vd(h)){const d=r[u],f=o[h]=Y(d)||ne(d)?{type:d}:je({},d);if(f){const _=Ed(Boolean,f.type),p=Ed(String,f.type);f[0]=_>-1,f[1]=p<0||_<p,(_>-1||de(f,"default"))&&a.push(h)}}}const c=[o,a];return Ie(t)&&i.set(t,c),c}function vd(t){return t[0]!=="$"&&!br(t)}function Cd(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Dd(t,e){return Cd(t)===Cd(e)}function Ed(t,e){return Y(e)?e.findIndex(n=>Dd(n,t)):ne(e)&&Dd(e,t)?0:-1}const A_=t=>t[0]==="_"||t==="$stable",Ru=t=>Y(t)?t.map(fn):[fn(t)],Mv=(t,e,n)=>{if(e._n)return e;const i=_t((...s)=>Ru(e(...s)),n);return i._c=!1,i},k_=(t,e,n)=>{const i=t._ctx;for(const s in t){if(A_(s))continue;const r=t[s];if(ne(r))e[s]=Mv(s,r,i);else if(r!=null){const o=Ru(r);e[s]=()=>o}}},R_=(t,e)=>{const n=Ru(e);t.slots.default=()=>n},Lv=(t,e)=>{const n=t.slots=b_();if(t.vnode.shapeFlag&32){const i=e._;i?(je(n,e),Lp(n,"_",i,!0)):k_(e,n)}else e&&R_(t,e)},Uv=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=Re;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:(je(s,e),!n&&a===1&&delete s._):(r=!e.$stable,k_(e,s)),o=e}else e&&(R_(t,e),o={default:1});if(r)for(const a in s)!A_(a)&&o[a]==null&&delete s[a]};function Dc(t,e,n,i,s=!1){if(Y(t)){t.forEach((d,f)=>Dc(d,e&&(Y(e)?e[f]:e),n,i,s));return}if(Yo(i)&&!s)return;const r=i.shapeFlag&4?ol(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Re?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&($e(c)?(u[c]=null,de(h,c)&&(h[c]=null)):kt(c)&&(c.value=null)),ne(l))fi(l,a,12,[o,u]);else{const d=$e(l),f=kt(l);if(d||f){const _=()=>{if(t.f){const p=d?de(h,l)?h[l]:u[l]:l.value;s?Y(p)&&_u(p,r):Y(p)?p.includes(r)||p.push(r):d?(u[l]=[r],de(h,l)&&(h[l]=u[l])):(l.value=[r],t.k&&(u[t.k]=l.value))}else d?(u[l]=o,de(h,l)&&(h[l]=o)):f&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,Et(_,n)):_()}}}const Et=cv;function Bv(t){return Wv(t)}function Wv(t,e){const n=Up();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=Ht,insertStaticContent:_}=t,p=(m,g,w,P=null,I=null,U=null,$=void 0,M=null,B=!!g.dynamicChildren)=>{if(m===g)return;m&&!ji(m,g)&&(P=R(m),Le(m,I,U,!0),m=null),g.patchFlag===-2&&(B=!1,g.dynamicChildren=null);const{type:O,ref:z,shapeFlag:Q}=g;switch(O){case sl:y(m,g,w,P);break;case jt:C(m,g,w,P);break;case Xo:m==null&&D(g,w,P,$);break;case Ne:L(m,g,w,P,I,U,$,M,B);break;default:Q&1?T(m,g,w,P,I,U,$,M,B):Q&6?G(m,g,w,P,I,U,$,M,B):(Q&64||Q&128)&&O.process(m,g,w,P,I,U,$,M,B,q)}z!=null&&I&&Dc(z,m&&m.ref,U,g||m,!g)},y=(m,g,w,P)=>{if(m==null)i(g.el=a(g.children),w,P);else{const I=g.el=m.el;g.children!==m.children&&c(I,g.children)}},C=(m,g,w,P)=>{m==null?i(g.el=l(g.children||""),w,P):g.el=m.el},D=(m,g,w,P)=>{[m.el,m.anchor]=_(m.children,g,w,P,m.el,m.anchor)},E=({el:m,anchor:g},w,P)=>{let I;for(;m&&m!==g;)I=d(m),i(m,w,P),m=I;i(g,w,P)},b=({el:m,anchor:g})=>{let w;for(;m&&m!==g;)w=d(m),s(m),m=w;s(g)},T=(m,g,w,P,I,U,$,M,B)=>{g.type==="svg"?$="svg":g.type==="math"&&($="mathml"),m==null?S(g,w,P,I,U,$,M,B):k(m,g,I,U,$,M,B)},S=(m,g,w,P,I,U,$,M)=>{let B,O;const{props:z,shapeFlag:Q,transition:K,dirs:te}=m;if(B=m.el=o(m.type,U,z&&z.is,z),Q&8?u(B,m.children):Q&16&&A(m.children,B,null,P,I,Nl(m,U),$,M),te&&Ni(m,null,P,"created"),x(B,m,m.scopeId,$,P),z){for(const Ee in z)Ee!=="value"&&!br(Ee)&&r(B,Ee,null,z[Ee],U,m.children,P,I,lt);"value"in z&&r(B,"value",null,z.value,U),(O=z.onVnodeBeforeMount)&&hn(O,P,m)}te&&Ni(m,null,P,"beforeMount");const le=Vv(I,K);le&&K.beforeEnter(B),i(B,g,w),((O=z&&z.onVnodeMounted)||le||te)&&Et(()=>{O&&hn(O,P,m),le&&K.enter(B),te&&Ni(m,null,P,"mounted")},I)},x=(m,g,w,P,I)=>{if(w&&f(m,w),P)for(let U=0;U<P.length;U++)f(m,P[U]);if(I){let U=I.subTree;if(g===U){const $=I.vnode;x(m,$,$.scopeId,$.slotScopeIds,I.parent)}}},A=(m,g,w,P,I,U,$,M,B=0)=>{for(let O=B;O<m.length;O++){const z=m[O]=M?ti(m[O]):fn(m[O]);p(null,z,g,w,P,I,U,$,M)}},k=(m,g,w,P,I,U,$)=>{const M=g.el=m.el;let{patchFlag:B,dynamicChildren:O,dirs:z}=g;B|=m.patchFlag&16;const Q=m.props||Re,K=g.props||Re;let te;if(w&&Mi(w,!1),(te=K.onVnodeBeforeUpdate)&&hn(te,w,g,m),z&&Ni(g,m,w,"beforeUpdate"),w&&Mi(w,!0),O?j(m.dynamicChildren,O,M,w,P,Nl(g,I),U):$||se(m,g,M,null,w,P,Nl(g,I),U,!1),B>0){if(B&16)ee(M,g,Q,K,w,P,I);else if(B&2&&Q.class!==K.class&&r(M,"class",null,K.class,I),B&4&&r(M,"style",Q.style,K.style,I),B&8){const le=g.dynamicProps;for(let Ee=0;Ee<le.length;Ee++){const Pe=le[Ee],Ye=Q[Pe],Jt=K[Pe];(Jt!==Ye||Pe==="value")&&r(M,Pe,Ye,Jt,I,m.children,w,P,lt)}}B&1&&m.children!==g.children&&u(M,g.children)}else!$&&O==null&&ee(M,g,Q,K,w,P,I);((te=K.onVnodeUpdated)||z)&&Et(()=>{te&&hn(te,w,g,m),z&&Ni(g,m,w,"updated")},P)},j=(m,g,w,P,I,U,$)=>{for(let M=0;M<g.length;M++){const B=m[M],O=g[M],z=B.el&&(B.type===Ne||!ji(B,O)||B.shapeFlag&70)?h(B.el):w;p(B,O,z,null,P,I,U,$,!0)}},ee=(m,g,w,P,I,U,$)=>{if(w!==P){if(w!==Re)for(const M in w)!br(M)&&!(M in P)&&r(m,M,w[M],null,$,g.children,I,U,lt);for(const M in P){if(br(M))continue;const B=P[M],O=w[M];B!==O&&M!=="value"&&r(m,M,O,B,$,g.children,I,U,lt)}"value"in P&&r(m,"value",w.value,P.value,$)}},L=(m,g,w,P,I,U,$,M,B)=>{const O=g.el=m?m.el:a(""),z=g.anchor=m?m.anchor:a("");let{patchFlag:Q,dynamicChildren:K,slotScopeIds:te}=g;te&&(M=M?M.concat(te):te),m==null?(i(O,w,P),i(z,w,P),A(g.children||[],w,z,I,U,$,M,B)):Q>0&&Q&64&&K&&m.dynamicChildren?(j(m.dynamicChildren,K,w,I,U,$,M),(g.key!=null||I&&g===I.subTree)&&P_(m,g,!0)):se(m,g,w,z,I,U,$,M,B)},G=(m,g,w,P,I,U,$,M,B)=>{g.slotScopeIds=M,m==null?g.shapeFlag&512?I.ctx.activate(g,w,P,$,B):he(g,w,P,I,U,$,B):De(m,g,B)},he=(m,g,w,P,I,U,$)=>{const M=m.component=Qv(m,P,I);if(tl(m)&&(M.ctx.renderer=q),Jv(M),M.asyncDep){if(I&&I.registerDep(M,ie),!m.el){const B=M.subTree=fe(jt);C(null,B,g,w)}}else ie(M,m,g,w,I,U,$)},De=(m,g,w)=>{const P=g.component=m.component;if(ov(m,g,w))if(P.asyncDep&&!P.asyncResolved){Z(P,g,w);return}else P.next=g,ev(P.update),P.effect.dirty=!0,P.update();else g.el=m.el,P.vnode=g},ie=(m,g,w,P,I,U,$)=>{const M=()=>{if(m.isMounted){let{next:z,bu:Q,u:K,parent:te,vnode:le}=m;{const ms=x_(m);if(ms){z&&(z.el=le.el,Z(m,z,$)),ms.asyncDep.then(()=>{m.isUnmounted||M()});return}}let Ee=z,Pe;Mi(m,!1),z?(z.el=le.el,Z(m,z,$)):z=le,Q&&qo(Q),(Pe=z.props&&z.props.onVnodeBeforeUpdate)&&hn(Pe,te,z,le),Mi(m,!0);const Ye=xl(m),Jt=m.subTree;m.subTree=Ye,p(Jt,Ye,h(Jt.el),R(Jt),m,I,U),z.el=Ye.el,Ee===null&&av(m,Ye.el),K&&Et(K,I),(Pe=z.props&&z.props.onVnodeUpdated)&&Et(()=>hn(Pe,te,z,le),I)}else{let z;const{el:Q,props:K}=g,{bm:te,m:le,parent:Ee}=m,Pe=Yo(g);if(Mi(m,!1),te&&qo(te),!Pe&&(z=K&&K.onVnodeBeforeMount)&&hn(z,Ee,g),Mi(m,!0),Q&&Oe){const Ye=()=>{m.subTree=xl(m),Oe(Q,m.subTree,m,I,null)};Pe?g.type.__asyncLoader().then(()=>!m.isUnmounted&&Ye()):Ye()}else{const Ye=m.subTree=xl(m);p(null,Ye,w,P,m,I,U),g.el=Ye.el}if(le&&Et(le,I),!Pe&&(z=K&&K.onVnodeMounted)){const Ye=g;Et(()=>hn(z,Ee,Ye),I)}(g.shapeFlag&256||Ee&&Yo(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&m.a&&Et(m.a,I),m.isMounted=!0,g=w=P=null}},B=m.effect=new yu(M,Ht,()=>Su(O),m.scope),O=m.update=()=>{B.dirty&&B.run()};O.id=m.uid,Mi(m,!0),O()},Z=(m,g,w)=>{g.component=m;const P=m.vnode.props;m.vnode=g,m.next=null,Nv(m,g.props,P,w),Uv(m,g.children,w),Ai(),hd(m),ki()},se=(m,g,w,P,I,U,$,M,B=!1)=>{const O=m&&m.children,z=m?m.shapeFlag:0,Q=g.children,{patchFlag:K,shapeFlag:te}=g;if(K>0){if(K&128){Dt(O,Q,w,P,I,U,$,M,B);return}else if(K&256){Ct(O,Q,w,P,I,U,$,M,B);return}}te&8?(z&16&&lt(O,I,U),Q!==O&&u(w,Q)):z&16?te&16?Dt(O,Q,w,P,I,U,$,M,B):lt(O,I,U,!0):(z&8&&u(w,""),te&16&&A(Q,w,P,I,U,$,M,B))},Ct=(m,g,w,P,I,U,$,M,B)=>{m=m||bs,g=g||bs;const O=m.length,z=g.length,Q=Math.min(O,z);let K;for(K=0;K<Q;K++){const te=g[K]=B?ti(g[K]):fn(g[K]);p(m[K],te,w,null,I,U,$,M,B)}O>z?lt(m,I,U,!0,!1,Q):A(g,w,P,I,U,$,M,B,Q)},Dt=(m,g,w,P,I,U,$,M,B)=>{let O=0;const z=g.length;let Q=m.length-1,K=z-1;for(;O<=Q&&O<=K;){const te=m[O],le=g[O]=B?ti(g[O]):fn(g[O]);if(ji(te,le))p(te,le,w,null,I,U,$,M,B);else break;O++}for(;O<=Q&&O<=K;){const te=m[Q],le=g[K]=B?ti(g[K]):fn(g[K]);if(ji(te,le))p(te,le,w,null,I,U,$,M,B);else break;Q--,K--}if(O>Q){if(O<=K){const te=K+1,le=te<z?g[te].el:P;for(;O<=K;)p(null,g[O]=B?ti(g[O]):fn(g[O]),w,le,I,U,$,M,B),O++}}else if(O>K)for(;O<=Q;)Le(m[O],I,U,!0),O++;else{const te=O,le=O,Ee=new Map;for(O=le;O<=K;O++){const Pt=g[O]=B?ti(g[O]):fn(g[O]);Pt.key!=null&&Ee.set(Pt.key,O)}let Pe,Ye=0;const Jt=K-le+1;let ms=!1,Zh=0;const ur=new Array(Jt);for(O=0;O<Jt;O++)ur[O]=0;for(O=te;O<=Q;O++){const Pt=m[O];if(Ye>=Jt){Le(Pt,I,U,!0);continue}let un;if(Pt.key!=null)un=Ee.get(Pt.key);else for(Pe=le;Pe<=K;Pe++)if(ur[Pe-le]===0&&ji(Pt,g[Pe])){un=Pe;break}un===void 0?Le(Pt,I,U,!0):(ur[un-le]=O+1,un>=Zh?Zh=un:ms=!0,p(Pt,g[un],w,null,I,U,$,M,B),Ye++)}const ed=ms?$v(ur):bs;for(Pe=ed.length-1,O=Jt-1;O>=0;O--){const Pt=le+O,un=g[Pt],td=Pt+1<z?g[Pt+1].el:P;ur[O]===0?p(null,un,w,td,I,U,$,M,B):ms&&(Pe<0||O!==ed[Pe]?ot(un,w,td,2):Pe--)}}},ot=(m,g,w,P,I=null)=>{const{el:U,type:$,transition:M,children:B,shapeFlag:O}=m;if(O&6){ot(m.component.subTree,g,w,P);return}if(O&128){m.suspense.move(g,w,P);return}if(O&64){$.move(m,g,w,q);return}if($===Ne){i(U,g,w);for(let Q=0;Q<B.length;Q++)ot(B[Q],g,w,P);i(m.anchor,g,w);return}if($===Xo){E(m,g,w);return}if(P!==2&&O&1&&M)if(P===0)M.beforeEnter(U),i(U,g,w),Et(()=>M.enter(U),I);else{const{leave:Q,delayLeave:K,afterLeave:te}=M,le=()=>i(U,g,w),Ee=()=>{Q(U,()=>{le(),te&&te()})};K?K(U,le,Ee):Ee()}else i(U,g,w)},Le=(m,g,w,P=!1,I=!1)=>{const{type:U,props:$,ref:M,children:B,dynamicChildren:O,shapeFlag:z,patchFlag:Q,dirs:K}=m;if(M!=null&&Dc(M,null,w,m,!0),z&256){g.ctx.deactivate(m);return}const te=z&1&&K,le=!Yo(m);let Ee;if(le&&(Ee=$&&$.onVnodeBeforeUnmount)&&hn(Ee,g,m),z&6)Wt(m.component,w,P);else{if(z&128){m.suspense.unmount(w,P);return}te&&Ni(m,null,g,"beforeUnmount"),z&64?m.type.remove(m,g,w,I,q,P):O&&(U!==Ne||Q>0&&Q&64)?lt(O,g,w,!1,!0):(U===Ne&&Q&384||!I&&z&16)&&lt(B,g,w),P&&An(m)}(le&&(Ee=$&&$.onVnodeUnmounted)||te)&&Et(()=>{Ee&&hn(Ee,g,m),te&&Ni(m,null,g,"unmounted")},w)},An=m=>{const{type:g,el:w,anchor:P,transition:I}=m;if(g===Ne){at(w,P);return}if(g===Xo){b(m);return}const U=()=>{s(w),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(m.shapeFlag&1&&I&&!I.persisted){const{leave:$,delayLeave:M}=I,B=()=>$(w,U);M?M(m.el,U,B):B()}else U()},at=(m,g)=>{let w;for(;m!==g;)w=d(m),s(m),m=w;s(g)},Wt=(m,g,w)=>{const{bum:P,scope:I,update:U,subTree:$,um:M}=m;P&&qo(P),I.stop(),U&&(U.active=!1,Le($,m,g,w)),M&&Et(M,g),Et(()=>{m.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},lt=(m,g,w,P=!1,I=!1,U=0)=>{for(let $=U;$<m.length;$++)Le(m[$],g,w,P,I)},R=m=>m.shapeFlag&6?R(m.component.subTree):m.shapeFlag&128?m.suspense.next():d(m.anchor||m.el);let H=!1;const V=(m,g,w)=>{m==null?g._vnode&&Le(g._vnode,null,null,!0):p(g._vnode||null,m,g,null,null,null,w),H||(H=!0,hd(),a_(),H=!1),g._vnode=m},q={p,um:Le,m:ot,r:An,mt:he,mc:A,pc:se,pbc:j,n:R,o:t};let ye,Oe;return{render:V,hydrate:ye,createApp:Ov(V,ye)}}function Nl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Mi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Vv(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function P_(t,e,n=!1){const i=t.children,s=e.children;if(Y(i)&&Y(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=ti(s[r]),a.el=o.el),n||P_(o,a)),a.type===sl&&(a.el=o.el)}}function $v(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(s=n[n.length-1],t[s]<c){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<c?r=a+1:o=a;c<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function x_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:x_(e)}const Hv=t=>t.__isTeleport,Ne=Symbol.for("v-fgt"),sl=Symbol.for("v-txt"),jt=Symbol.for("v-cmt"),Xo=Symbol.for("v-stc"),Ar=[];let nn=null;function N(t=!1){Ar.push(nn=t?null:[])}function zv(){Ar.pop(),nn=Ar[Ar.length-1]||null}let zr=1;function wd(t){zr+=t}function O_(t){return t.dynamicChildren=zr>0?nn||bs:null,zv(),zr>0&&nn&&nn.push(t),t}function W(t,e,n,i,s,r){return O_(v(t,e,n,i,s,r,!0))}function xt(t,e,n,i,s){return O_(fe(t,e,n,i,s,!0))}function Ec(t){return t?t.__v_isVNode===!0:!1}function ji(t,e){return t.type===e.type&&t.key===e.key}const F_=({key:t})=>t??null,Jo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$e(t)||kt(t)||ne(t)?{i:gt,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,i=0,s=null,r=t===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&F_(e),ref:e&&Jo(e),scopeId:el,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:gt};return a?(xu(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=$e(n)?8:16),zr>0&&!o&&nn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&nn.push(l),l}const fe=jv;function jv(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===u_)&&(t=jt),Ec(t)){const a=Ei(t,e,!0);return n&&xu(a,n),zr>0&&!r&&nn&&(a.shapeFlag&6?nn[nn.indexOf(t)]=a:nn.push(a)),a.patchFlag|=-2,a}if(i1(t)&&(t=t.__vccOpts),e){e=qv(e);let{class:a,style:l}=e;a&&!$e(a)&&(e.class=gu(a)),Ie(l)&&(e_(l)&&!Y(l)&&(l=je({},l)),e.style=Bs(l))}const o=$e(t)?1:lv(t)?128:Hv(t)?64:Ie(t)?4:ne(t)?2:0;return v(t,e,n,i,s,o,r,!0)}function qv(t){return t?e_(t)||T_(t)?je({},t):t:null}function Ei(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?Gv(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&F_(c),ref:e&&e.ref?n&&r?Y(r)?r.concat(Jo(e)):[r,Jo(e)]:Jo(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ei(t.ssContent),ssFallback:t.ssFallback&&Ei(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&(u.transition=l.clone(u)),u}function Ge(t=" ",e=0){return fe(sl,null,t,e)}function Pu(t,e){const n=fe(Xo,null,t);return n.staticCount=e,n}function _e(t="",e=!1){return e?(N(),xt(jt,null,t)):fe(jt,null,t)}function fn(t){return t==null||typeof t=="boolean"?fe(jt):Y(t)?fe(Ne,null,t.slice()):typeof t=="object"?ti(t):fe(sl,null,String(t))}function ti(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ei(t)}function xu(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Y(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),xu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!T_(e)?e._ctx=gt:s===3&&gt&&(gt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ne(e)?(e={default:e,_ctx:gt},n=32):(e=String(e),i&64?(n=16,e=[Ge(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gv(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=gu([e.class,i.class]));else if(s==="style")e.style=Bs([e.style,i.style]);else if(qa(s)){const r=e[s],o=i[s];o&&r!==o&&!(Y(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function hn(t,e,n,i=null){Yt(t,e,7,[n,i])}const Kv=E_();let Yv=0;function Qv(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Kv,r={uid:Yv++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ty(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:I_(i,s),emitsOptions:c_(i,s),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:i.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=iv.bind(null,r),t.ce&&t.ce(r),r}let tt=null;const Xv=()=>tt||gt;let da,wc;{const t=Up(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};da=e("__VUE_INSTANCE_SETTERS__",n=>tt=n),wc=e("__VUE_SSR_SETTERS__",n=>rl=n)}const yo=t=>{const e=tt;return da(t),t.scope.on(),()=>{t.scope.off(),da(e)}},bd=()=>{tt&&tt.scope.off(),da(null)};function N_(t){return t.vnode.shapeFlag&4}let rl=!1;function Jv(t,e=!1){e&&wc(e);const{props:n,children:i}=t.vnode,s=N_(t);Fv(t,n,s,e),Lv(t,i);const r=s?Zv(t,e):void 0;return e&&wc(!1),r}function Zv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Sv);const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?t1(t):null,r=yo(t);Ai();const o=fi(i,t,0,[t.props,s]);if(ki(),r(),Fp(o)){if(o.then(bd,bd),e)return o.then(a=>{Td(t,a,e)}).catch(a=>{Ja(a,t,0)});t.asyncDep=o}else Td(t,o,e)}else M_(t,e)}function Td(t,e,n){ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ie(e)&&(t.setupState=s_(e)),M_(t,n)}let Sd;function M_(t,e,n){const i=t.type;if(!t.render){if(!e&&Sd&&!i.render){const s=i.template||ku(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=je(je({isCustomElement:r,delimiters:a},o),l);i.render=Sd(s,c)}}t.render=i.render||Ht}{const s=yo(t);Ai();try{Iv(t)}finally{ki(),s()}}}const e1={get(t,e){return At(t,"get",""),t[e]}};function t1(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,e1),slots:t.slots,emit:t.emit,expose:e}}function ol(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(s_(Gy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Sr)return Sr[n](t)},has(e,n){return n in e||n in Sr}}))}function n1(t,e=!0){return ne(t)?t.displayName||t.name:t.name||e&&t.__name}function i1(t){return ne(t)&&"__vccOpts"in t}const en=(t,e)=>Ky(t,e,rl);function Ou(t,e,n){const i=arguments.length;return i===2?Ie(e)&&!Y(e)?Ec(e)?fe(t,null,[e]):fe(t,e):fe(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ec(n)&&(n=[n]),fe(t,e,n))}const s1="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const r1="http://www.w3.org/2000/svg",o1="http://www.w3.org/1998/Math/MathML",ni=typeof document<"u"?document:null,Id=ni&&ni.createElement("template"),a1={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?ni.createElementNS(r1,t):e==="mathml"?ni.createElementNS(o1,t):ni.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ni.createTextNode(t),createComment:t=>ni.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ni.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Id.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const a=Id.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Yn="transition",hr="animation",jr=Symbol("_vtc"),Fu=(t,{slots:e})=>Ou(_v,l1(t),e);Fu.displayName="Transition";const L_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Fu.props=je({},__,L_);const Li=(t,e=[])=>{Y(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ad=t=>t?Y(t)?t.some(e=>e.length>1):t.length>1:!1;function l1(t){const e={};for(const L in t)L in L_||(e[L]=t[L]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,_=c1(s),p=_&&_[0],y=_&&_[1],{onBeforeEnter:C,onEnter:D,onEnterCancelled:E,onLeave:b,onLeaveCancelled:T,onBeforeAppear:S=C,onAppear:x=D,onAppearCancelled:A=E}=e,k=(L,G,he)=>{Ui(L,G?u:a),Ui(L,G?c:o),he&&he()},j=(L,G)=>{L._isLeaving=!1,Ui(L,h),Ui(L,f),Ui(L,d),G&&G()},ee=L=>(G,he)=>{const De=L?x:D,ie=()=>k(G,L,he);Li(De,[G,ie]),kd(()=>{Ui(G,L?l:r),Qn(G,L?u:a),Ad(De)||Rd(G,i,p,ie)})};return je(e,{onBeforeEnter(L){Li(C,[L]),Qn(L,r),Qn(L,o)},onBeforeAppear(L){Li(S,[L]),Qn(L,l),Qn(L,c)},onEnter:ee(!1),onAppear:ee(!0),onLeave(L,G){L._isLeaving=!0;const he=()=>j(L,G);Qn(L,h),Qn(L,d),d1(),kd(()=>{L._isLeaving&&(Ui(L,h),Qn(L,f),Ad(b)||Rd(L,i,y,he))}),Li(b,[L,he])},onEnterCancelled(L){k(L,!1),Li(E,[L])},onAppearCancelled(L){k(L,!0),Li(A,[L])},onLeaveCancelled(L){j(L),Li(T,[L])}})}function c1(t){if(t==null)return null;if(Ie(t))return[Ml(t.enter),Ml(t.leave)];{const e=Ml(t);return[e,e]}}function Ml(t){return my(t)}function Qn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[jr]||(t[jr]=new Set)).add(e)}function Ui(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[jr];n&&(n.delete(e),n.size||(t[jr]=void 0))}function kd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let u1=0;function Rd(t,e,n,i){const s=t._endId=++u1,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=h1(t,e);if(!o)return i();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,d),r()},d=f=>{f.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,d)}function h1(t,e){const n=window.getComputedStyle(t),i=_=>(n[_]||"").split(", "),s=i(`${Yn}Delay`),r=i(`${Yn}Duration`),o=Pd(s,r),a=i(`${hr}Delay`),l=i(`${hr}Duration`),c=Pd(a,l);let u=null,h=0,d=0;e===Yn?o>0&&(u=Yn,h=o,d=r.length):e===hr?c>0&&(u=hr,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?Yn:hr:null,d=u?u===Yn?r.length:l.length:0);const f=u===Yn&&/\b(transform|all)(,|$)/.test(i(`${Yn}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function Pd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>xd(n)+xd(t[i])))}function xd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function d1(){return document.body.offsetHeight}function f1(t,e,n){const i=t[jr];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Od=Symbol("_vod"),p1=Symbol("_vsh"),_1=Symbol(""),m1=/(^|;)\s*display\s*:/;function g1(t,e,n){const i=t.style,s=$e(n);let r=!1;if(n&&!s){if(e)if($e(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Zo(i,a,"")}else for(const o in e)n[o]==null&&Zo(i,o,"");for(const o in n)o==="display"&&(r=!0),Zo(i,o,n[o])}else if(s){if(e!==n){const o=i[_1];o&&(n+=";"+o),i.cssText=n,r=m1.test(n)}}else e&&t.removeAttribute("style");Od in t&&(t[Od]=r?i.display:"",t[p1]&&(i.display="none"))}const Fd=/\s*!important$/;function Zo(t,e,n){if(Y(n))n.forEach(i=>Zo(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=y1(t,e);Fd.test(n)?t.setProperty(tr(i),n.replace(Fd,""),"important"):t[i]=n}}const Nd=["Webkit","Moz","ms"],Ll={};function y1(t,e){const n=Ll[e];if(n)return n;let i=Dn(e);if(i!=="filter"&&i in t)return Ll[e]=i;i=Ya(i);for(let s=0;s<Nd.length;s++){const r=Nd[s]+i;if(r in t)return Ll[e]=r}return e}const Md="http://www.w3.org/1999/xlink";function v1(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Md,e.slice(6,e.length)):t.setAttributeNS(Md,e,n);else{const r=Ey(e);n==null||r&&!Bp(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function C1(t,e,n,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Bp(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function qi(t,e,n,i){t.addEventListener(e,n,i)}function D1(t,e,n,i){t.removeEventListener(e,n,i)}const Ld=Symbol("_vei");function E1(t,e,n,i,s=null){const r=t[Ld]||(t[Ld]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=w1(e);if(i){const c=r[e]=S1(i,s);qi(t,a,c,l)}else o&&(D1(t,a,o,l),r[e]=void 0)}}const Ud=/(?:Once|Passive|Capture)$/;function w1(t){let e;if(Ud.test(t)){e={};let i;for(;i=t.match(Ud);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):tr(t.slice(2)),e]}let Ul=0;const b1=Promise.resolve(),T1=()=>Ul||(b1.then(()=>Ul=0),Ul=Date.now());function S1(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Yt(I1(i,n.value),e,5,[i])};return n.value=t,n.attached=T1(),n}function I1(t,e){if(Y(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Bd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,A1=(t,e,n,i,s,r,o,a,l)=>{const c=s==="svg";e==="class"?f1(t,i,c):e==="style"?g1(t,n,i):qa(e)?pu(e)||E1(t,e,n,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):k1(t,e,i,c))?C1(t,e,i,r,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),v1(t,e,i,c))};function k1(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Bd(e)&&ne(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Bd(e)&&$e(n)?!1:e in t}const fa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Y(e)?n=>qo(e,n):e};function R1(t){t.target.composing=!0}function Wd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ks=Symbol("_assign"),Ce={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[ks]=fa(s);const r=i||s.props&&s.props.type==="number";qi(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=la(a)),t[ks](a)}),n&&qi(t,"change",()=>{t.value=t.value.trim()}),e||(qi(t,"compositionstart",R1),qi(t,"compositionend",Wd),qi(t,"change",Wd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},r){if(t[ks]=fa(r),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?la(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===a)||(t.value=a))}},P1={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=Ga(e);qi(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?la(pa(o)):pa(o));t[ks](t.multiple?s?new Set(r):r:r[0]),t._assigning=!0,go(()=>{t._assigning=!1})}),t[ks]=fa(i)},mounted(t,{value:e,modifiers:{number:n}}){Vd(t,e)},beforeUpdate(t,e,n){t[ks]=fa(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||Vd(t,e)}};function Vd(t,e,n){const i=t.multiple,s=Y(e);if(!(i&&!s&&!Ga(e))){for(let r=0,o=t.options.length;r<o;r++){const a=t.options[r],l=pa(a);if(i)if(s){const c=typeof l;c==="string"||c==="number"?a.selected=e.some(u=>String(u)===String(l)):a.selected=by(e,l)>-1}else a.selected=e.has(l);else if(Qa(pa(a),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function pa(t){return"_value"in t?t._value:t.value}const x1=["ctrl","shift","alt","meta"],O1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>x1.some(n=>t[`${n}Key`]&&!e.includes(n))},Zi=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let o=0;o<e.length;o++){const a=O1[e[o]];if(a&&a(s,e))return}return t(s,...r)})},F1=je({patchProp:A1},a1);let $d;function N1(){return $d||($d=Bv(F1))}const M1=(...t)=>{const e=N1().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=U1(i);if(!s)return;const r=e._component;!ne(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,L1(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function L1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function U1(t){return $e(t)?document.querySelector(t):t}const Ze=mo({isAuthenticated:!1,user:null,isAdmin:!1,login(t){this.isAuthenticated=!0,this.user=t,this.isAdmin=t.isAdmin||!1},logout(){this.isAuthenticated=!1,this.user=null,this.isAdmin=!1}});var Hd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(t,e){if(!t)throw nr(e)},nr=function(t){return new Error("Firebase Database ("+U_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},B1=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Nu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new W1;const d=r<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const _=c<<6&192|h;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W_=function(t){const e=B_(t);return Nu.encodeByteArray(e,!0)},_a=function(t){return W_(t).replace(/\./g,"")},ma=function(t){try{return Nu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){return V_(void 0,t)}function V_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$1(n)||(t[n]=V_(t[n],e[n]));return t}function $1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=()=>H1().__FIREBASE_DEFAULTS__,j1=()=>{if(typeof process>"u"||typeof Hd>"u")return;const t=Hd.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ma(t[1]);return e&&JSON.parse(e)},Mu=()=>{try{return z1()||j1()||q1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$_=t=>{var e,n;return(n=(e=Mu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G1=t=>{const e=$_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},H_=()=>{var t;return(t=Mu())===null||t===void 0?void 0:t.config},z_=t=>{var e;return(e=Mu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_a(JSON.stringify(n)),_a(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function Y1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q1(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q_(){return U_.NODE_ADMIN===!0}function X1(){try{return typeof indexedDB=="object"}catch{return!1}}function J1(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="FirebaseError";class Ri extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Z1,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?eC(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ri(s,a,i)}}function eC(t,e){return t.replace(tC,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const tC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){return JSON.parse(t)}function Ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=qr(ma(r[0])||""),n=qr(ma(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},nC=function(t){const e=G_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},iC=function(t){const e=G_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ws(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ga(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function ya(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(zd(r)&&zd(o)){if(!ya(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function zd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Cr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):h<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const d=(s<<5|s>>>27)+c+l+u+i[h]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function rC(t,e){const n=new oC(t,e);return n.subscribe.bind(n)}class oC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");aC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Bl),s.error===void 0&&(s.error=Bl),s.complete===void 0&&(s.complete=Bl);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bl(){}function al(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,F(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ll=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hC(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(t){return t===Vi?void 0:t}function hC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const fC={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},pC=we.INFO,_C={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},mC=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=_C[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uu{constructor(e){this.name=e,this._logLevel=pC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const gC=(t,e)=>e.some(n=>t instanceof n);let jd,qd;function yC(){return jd||(jd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return qd||(qd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K_=new WeakMap,Tc=new WeakMap,Y_=new WeakMap,Wl=new WeakMap,Bu=new WeakMap;function CC(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(pi(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&K_.set(n,t)}).catch(()=>{}),Bu.set(e,t),e}function DC(t){if(Tc.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Tc.set(t,e)}let Sc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EC(t){Sc=t(Sc)}function wC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Vl(this),e,...n);return Y_.set(i,e.sort?e.sort():[e]),pi(i)}:vC().includes(t)?function(...e){return t.apply(Vl(this),e),pi(K_.get(this))}:function(...e){return pi(t.apply(Vl(this),e))}}function bC(t){return typeof t=="function"?wC(t):(t instanceof IDBTransaction&&DC(t),gC(t,yC())?new Proxy(t,Sc):t)}function pi(t){if(t instanceof IDBRequest)return CC(t);if(Wl.has(t))return Wl.get(t);const e=bC(t);return e!==t&&(Wl.set(t,e),Bu.set(e,t)),e}const Vl=t=>Bu.get(t);function TC(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=pi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(pi(o.result),l.oldVersion,l.newVersion,pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const SC=["get","getKey","getAll","getAllKeys","count"],IC=["put","add","delete","clear"],$l=new Map;function Gd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($l.get(e))return $l.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=IC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||SC.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return $l.set(e,r),r}EC(t=>({...t,get:(e,n,i)=>Gd(e,n)||t.get(e,n,i),has:(e,n)=>!!Gd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ic="@firebase/app",Kd="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Uu("@firebase/app"),RC="@firebase/app-compat",PC="@firebase/analytics-compat",xC="@firebase/analytics",OC="@firebase/app-check-compat",FC="@firebase/app-check",NC="@firebase/auth",MC="@firebase/auth-compat",LC="@firebase/database",UC="@firebase/database-compat",BC="@firebase/functions",WC="@firebase/functions-compat",VC="@firebase/installations",$C="@firebase/installations-compat",HC="@firebase/messaging",zC="@firebase/messaging-compat",jC="@firebase/performance",qC="@firebase/performance-compat",GC="@firebase/remote-config",KC="@firebase/remote-config-compat",YC="@firebase/storage",QC="@firebase/storage-compat",XC="@firebase/firestore",JC="@firebase/vertexai-preview",ZC="@firebase/firestore-compat",eD="firebase",tD="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="[DEFAULT]",nD={[Ic]:"fire-core",[RC]:"fire-core-compat",[xC]:"fire-analytics",[PC]:"fire-analytics-compat",[FC]:"fire-app-check",[OC]:"fire-app-check-compat",[NC]:"fire-auth",[MC]:"fire-auth-compat",[LC]:"fire-rtdb",[UC]:"fire-rtdb-compat",[BC]:"fire-fn",[WC]:"fire-fn-compat",[VC]:"fire-iid",[$C]:"fire-iid-compat",[HC]:"fire-fcm",[zC]:"fire-fcm-compat",[jC]:"fire-perf",[qC]:"fire-perf-compat",[GC]:"fire-rc",[KC]:"fire-rc-compat",[YC]:"fire-gcs",[QC]:"fire-gcs-compat",[XC]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[eD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Map,iD=new Map,kc=new Map;function Yd(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vs(t){const e=t.name;if(kc.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;kc.set(e,t);for(const n of va.values())Yd(n,t);for(const n of iD.values())Yd(n,t);return!0}function Wu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new Co("app","Firebase",sD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=tD;function Tn(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ac,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw _i.create("bad-app-name",{appName:String(s)});if(n||(n=H_()),!n)throw _i.create("no-options");const r=va.get(s);if(r){if(ya(n,r.options)&&ya(i,r.config))return r;throw _i.create("duplicate-app",{appName:s})}const o=new dC(s);for(const l of kc.values())o.addComponent(l);const a=new rD(n,i,o);return va.set(s,a),a}function Q_(t=Ac){const e=va.get(t);if(!e&&t===Ac&&H_())return Tn();if(!e)throw _i.create("no-app",{appName:t});return e}function mi(t,e,n){var i;let s=(i=nD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(a.join(" "));return}Vs(new ss(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="firebase-heartbeat-database",aD=1,Gr="firebase-heartbeat-store";let Hl=null;function X_(){return Hl||(Hl=TC(oD,aD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gr)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),Hl}async function lD(t){try{const n=(await X_()).transaction(Gr),i=await n.objectStore(Gr).get(J_(t));return await n.done,i}catch(e){if(e instanceof Ri)rs.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function Qd(t,e){try{const i=(await X_()).transaction(Gr,"readwrite");await i.objectStore(Gr).put(e,J_(t)),await i.done}catch(n){if(n instanceof Ri)rs.warn(n.message);else{const i=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(i.message)}}}function J_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=1024,uD=30*24*60*60*1e3;class hD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xd();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=uD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xd(),{heartbeatsToSend:i,unsentEntries:s}=dD(this._heartbeatsCache.heartbeats),r=_a(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Xd(){return new Date().toISOString().substring(0,10)}function dD(t,e=cD){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Jd(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jd(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class fD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X1()?J1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Qd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jd(t){return _a(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){Vs(new ss("platform-logger",e=>new AC(e),"PRIVATE")),Vs(new ss("heartbeat",e=>new hD(e),"PRIVATE")),mi(Ic,Kd,t),mi(Ic,Kd,"esm2017"),mi("fire-js","")}pD("");function Vu(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _D=Z_,em=new Co("auth","Firebase",Z_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new Uu("@firebase/auth");function mD(t,...e){Ca.logLevel<=we.WARN&&Ca.warn(`Auth (${sr}): ${t}`,...e)}function ea(t,...e){Ca.logLevel<=we.ERROR&&Ca.error(`Auth (${sr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,...e){throw $u(t,...e)}function yn(t,...e){return $u(t,...e)}function tm(t,e,n){const i=Object.assign(Object.assign({},_D()),{[e]:n});return new Co("auth","Firebase",i).create(e,{appName:t.name})}function Un(t){return tm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $u(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return em.create(t,...e)}function J(t,e,...n){if(!t)throw $u(e,...n)}function xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ea(e),new Error(e)}function Vn(t,e){t||xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gD(){return Zd()==="http:"||Zd()==="https:"}function Zd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gD()||Y1()||"connection"in navigator)?navigator.onLine:!0}function vD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=Lu()||j_()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e){Vn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Do(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xi(t,e,n,i,s={}){return im(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=ir(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),nm.fetch()(sm(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function im(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},CD),e);try{const s=new wD(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Vo(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vo(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vo(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vo(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tm(t,u,c);on(t,u)}}catch(s){if(s instanceof Ri)throw s;on(t,"network-request-failed",{message:String(s)})}}async function Eo(t,e,n,i,s={}){const r=await xi(t,e,n,i,s);return"mfaPendingCredential"in r&&on(t,"multi-factor-auth-required",{_serverResponse:r}),r}function sm(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Hu(t.config,s):`${t.config.apiScheme}://${s}`}function ED(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(yn(this.auth,"network-request-failed")),DD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vo(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=yn(t,e,i);return s.customData._tokenResponse=n,s}function ef(t){return t!==void 0&&t.enterprise!==void 0}class bD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ED(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function TD(t,e){return xi(t,"GET","/v2/recaptchaConfig",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){return xi(t,"POST","/v1/accounts:delete",e)}async function rm(t,e){return xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ID(t,e=!1){const n=rt(t),i=await n.getIdToken(e),s=zu(i);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:kr(zl(s.auth_time)),issuedAtTime:kr(zl(s.iat)),expirationTime:kr(zl(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function zl(t){return Number(t)*1e3}function zu(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ea("JWT malformed, contained fewer than 3 sections"),null;try{const s=ma(n);return s?JSON.parse(s):(ea("Failed to decode base64 JWT payload"),null)}catch(s){return ea("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function tf(t){const e=zu(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ri&&AD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function AD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kr(this.lastLoginAt),this.creationTime=kr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Kr(t,rm(n,{idToken:i}));J(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?om(r.providerUserInfo):[],a=PD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Pc(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function RD(t){const e=rt(t);await Da(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PD(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function om(t){return t.map(e=>{var{providerId:n}=e,i=Vu(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){const n=await im(t,{},async()=>{const i=ir({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=sm(t,s,"/v1/token",`key=${r}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nm.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OD(t,e){return xi(t,"POST","/v2/accounts:revokeToken",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=tf(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await xD(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Rs;return i&&(J(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(J(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(J(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rs,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Vu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Pc(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Kr(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ID(this,e)}reload(){return RD(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Da(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(Un(this.auth));const e=await this.getIdToken();return await Kr(this,SD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,D=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:b,isAnonymous:T,providerData:S,stsTokenManager:x}=n;J(E&&x,e,"internal-error");const A=Rs.fromJSON(this.name,x);J(typeof E=="string",e,"internal-error"),Xn(h,e.name),Xn(d,e.name),J(typeof b=="boolean",e,"internal-error"),J(typeof T=="boolean",e,"internal-error"),Xn(f,e.name),Xn(_,e.name),Xn(p,e.name),Xn(y,e.name),Xn(C,e.name),Xn(D,e.name);const k=new On({uid:E,auth:e,email:d,emailVerified:b,displayName:h,isAnonymous:T,photoURL:_,phoneNumber:f,tenantId:p,stsTokenManager:A,createdAt:C,lastLoginAt:D});return S&&Array.isArray(S)&&(k.providerData=S.map(j=>Object.assign({},j))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(e,n,i=!1){const s=new Rs;s.updateFromServerResponse(n);const r=new On({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Da(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];J(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?om(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),a=new Rs;a.updateFromIdToken(i);const l=new On({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Pc(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map;function Fn(t){Vn(t instanceof Function,"Expected a class definition");let e=nf.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nf.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}am.type="NONE";const sf=am;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,e,n){return`firebase:${t}:${e}:${n}`}class Ps{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=ta(this.userKey,s.apiKey,r),this.fullPersistenceKey=ta("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?On._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ps(Fn(sf),e,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Fn(sf);const o=ta(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=On._fromJSON(e,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Ps(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Ps(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(um(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lm(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dm(e))return"Blackberry";if(fm(e))return"Webos";if(ju(e))return"Safari";if((e.includes("chrome/")||cm(e))&&!e.includes("edge/"))return"Chrome";if(hm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function lm(t=ft()){return/firefox\//i.test(t)}function ju(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cm(t=ft()){return/crios\//i.test(t)}function um(t=ft()){return/iemobile/i.test(t)}function hm(t=ft()){return/android/i.test(t)}function dm(t=ft()){return/blackberry/i.test(t)}function fm(t=ft()){return/webos/i.test(t)}function cl(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FD(t=ft()){var e;return cl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ND(){return Q1()&&document.documentMode===10}function pm(t=ft()){return cl(t)||hm(t)||fm(t)||dm(t)||/windows phone/i.test(t)||um(t)}function MD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e=[]){let n;switch(t){case"Browser":n=rf(ft());break;case"Worker":n=`${rf(ft())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e={}){return xi(t,"GET","/v2/passwordPolicy",Pi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=6;class WD{constructor(e){var n,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:BD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new of(this),this.idTokenSubscription=new of(this),this.beforeStateQueue=new LD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=em,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ps.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rm(this,{idToken:e}),i=await On._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Da(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(Un(this));const n=e?rt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(Un(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(Un(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UD(this),n=new WD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await OD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Ps.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_m(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ds(t){return rt(t)}class of{constructor(e){this.auth=e,this.observer=null,this.addObserver=rC(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $D(t){ul=t}function mm(t){return ul.loadJS(t)}function HD(){return ul.recaptchaEnterpriseScript}function zD(){return ul.gapiScript}function jD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qD="recaptcha-enterprise",GD="NO_RECAPTCHA";class KD{constructor(e){this.type=qD,this.auth=ds(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{TD(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new bD(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;ef(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(GD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&ef(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HD();l.length!==0&&(l+=a),mm(l).then(()=>{s(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function af(t,e,n,i=!1){const s=new KD(t);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xc(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await af(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await af(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){const n=Wu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(ya(r,e??{}))return s;on(s,"already-initialized")}return n.initialize({options:e})}function QD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function XD(t,e,n){const i=ds(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=gm(e),{host:o,port:a}=JD(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),ZD()}function gm(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JD(t){const e=gm(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:lf(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:lf(o)}}}function lf(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,n){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}}async function eE(t,e){return xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(t,e){return Eo(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t,e){return Eo(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}async function iE(t,e){return Eo(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends qu{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yr(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Yr(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xc(e,n,"signInWithPassword",tE);case"emailLink":return nE(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xc(e,i,"signUpPassword",eE);case"emailLink":return iE(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t,e){return Eo(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="http://localhost";class os extends qu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Vu(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new os(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xs(e,n)}buildRequest(){const e={requestUri:sE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ir(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oE(t){const e=vr(Cr(t)).link,n=e?vr(Cr(e)).deep_link_id:null,i=vr(Cr(t)).deep_link_id;return(i?vr(Cr(i)).link:null)||i||n||e||t}class Gu{constructor(e){var n,i,s,r,o,a;const l=vr(Cr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=rE((s=l.mode)!==null&&s!==void 0?s:null);J(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oE(e);try{return new Gu(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.providerId=rr.PROVIDER_ID}static credential(e,n){return Yr._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Gu.parseLink(n);return J(i,"argument-error"),Yr._fromEmailAndCode(e,i.code,i.tenantId)}}rr.PROVIDER_ID="password";rr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends wo{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends wo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ri.credential(n,i)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends wo{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends wo{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ai.credential(n,i)}catch{return null}}}ai.TWITTER_SIGN_IN_METHOD="twitter.com";ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(t,e){return Eo(t,"POST","/v1/accounts:signUp",Pi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await On._fromIdTokenResponse(e,i,s),o=cf(i);return new as({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=cf(i);return new as({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function cf(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Ri{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ea.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Ea(e,n,i,s)}}function vm(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Ea._fromErrorAndOperation(t,r,e,i):r})}async function lE(t,e,n=!1){const i=await Kr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return as._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cE(t,e,n=!1){const{auth:i}=t;if(mn(i.app))return Promise.reject(Un(i));const s="reauthenticate";try{const r=await Kr(t,vm(i,s,e,t),n);J(r.idToken,i,"internal-error");const o=zu(r.idToken);J(o,i,"internal-error");const{sub:a}=o;return J(t.uid===a,i,"user-mismatch"),as._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&on(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(t,e,n=!1){if(mn(t.app))return Promise.reject(Un(t));const i="signIn",s=await vm(t,i,e),r=await as._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function uE(t,e){return Cm(ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t){const e=ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hE(t,e,n){if(mn(t.app))return Promise.reject(Un(t));const i=ds(t),o=await xc(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aE).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Dm(t),l}),a=await as._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function dE(t,e,n){return mn(t.app)?Promise.reject(Un(t)):uE(rt(t),rr.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Dm(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){return rt(t).setPersistence(e)}function pE(t,e,n,i){return rt(t).onIdTokenChanged(e,n,i)}function _E(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function mE(t,e,n,i){return rt(t).onAuthStateChanged(e,n,i)}function Em(t){return rt(t).signOut()}const wa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){const t=ft();return ju(t)||cl(t)}const yE=1e3,vE=10;class bm extends wm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=gE()&&MD(),this.fallbackToPolling=pm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);ND()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,vE):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},yE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bm.type="LOCAL";const Tm=bm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends wm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sm.type="SESSION";const Im=Sm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new hl(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await CE(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Ku("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function EE(t){vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function wE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bE(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TE(){return Am()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="firebaseLocalStorageDb",SE=1,ba="firebaseLocalStorage",Rm="fbase_key";class bo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dl(t,e){return t.transaction([ba],e?"readwrite":"readonly").objectStore(ba)}function IE(){const t=indexedDB.deleteDatabase(km);return new bo(t).toPromise()}function Oc(){const t=indexedDB.open(km,SE);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ba,{keyPath:Rm})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ba)?e(i):(i.close(),await IE(),e(await Oc()))})})}async function uf(t,e,n){const i=dl(t,!0).put({[Rm]:e,value:n});return new bo(i).toPromise()}async function AE(t,e){const n=dl(t,!1).get(e),i=await new bo(n).toPromise();return i===void 0?null:i.value}function hf(t,e){const n=dl(t,!0).delete(e);return new bo(n).toPromise()}const kE=800,RE=3;class Pm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>RE)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Am()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hl._getInstance(TE()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wE(),!this.activeServiceWorker)return;this.sender=new DE(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oc();return await uf(e,wa,"1"),await hf(e,wa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>uf(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AE(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hf(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=dl(s,!1).getAll();return new bo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pm.type="LOCAL";const PE=Pm;new Do(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e){return e?Fn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends qu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OE(t){return Cm(t.auth,new Yu(t),t.bypassAuthState)}function FE(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),cE(n,new Yu(t),t.bypassAuthState)}async function NE(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),lE(n,new Yu(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OE;case"linkViaPopup":case"linkViaRedirect":return NE;case"reauthViaPopup":case"reauthViaRedirect":return FE;default:on(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Do(2e3,1e4);class Cs extends xm{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");const e=Ku();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ME.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="pendingRedirect",na=new Map;class UE extends xm{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=na.get(this.auth._key());if(!e){try{const i=await BE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}na.set(this.auth._key(),e)}return this.bypassAuthState||na.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BE(t,e){const n=$E(e),i=VE(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function WE(t,e){na.set(t._key(),e)}function VE(t){return Fn(t._redirectPersistence)}function $E(t){return ta(LE,t.config.apiKey,t.name)}async function HE(t,e,n=!1){if(mn(t.app))return Promise.reject(Un(t));const i=ds(t),s=xE(i,e),o=await new UE(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=10*60*1e3;class jE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qE(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Om(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zE&&this.cachedEventUids.clear(),this.cachedEventUids.has(df(e))}saveEventToCache(e){this.cachedEventUids.add(df(e)),this.lastProcessedEventTime=Date.now()}}function df(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Om({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qE(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Om(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(t,e={}){return xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YE=/^https?/;async function QE(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GE(t);for(const n of e)try{if(XE(n))return}catch{}on(t,"unauthorized-domain")}function XE(t){const e=Rc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!YE.test(n))return!1;if(KE.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Do(3e4,6e4);function ff(){const t=vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZE(t){return new Promise((e,n)=>{var i,s,r;function o(){ff(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ff(),n(yn(t,"network-request-failed"))},timeout:JE.get()})}if(!((s=(i=vn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=vn().gapi)===null||r===void 0)&&r.load)o();else{const a=jD("iframefcb");return vn()[a]=()=>{gapi.load?o():n(yn(t,"network-request-failed"))},mm(`${zD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ia=null,e})}let ia=null;function ew(t){return ia=ia||ZE(t),ia}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Do(5e3,15e3),nw="__/auth/iframe",iw="emulator/auth/iframe",sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hu(e,iw):`https://${t.config.authDomain}/${nw}`,i={apiKey:e.apiKey,appName:t.name,v:sr},s=rw.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ir(i).slice(1)}`}async function aw(t){const e=await ew(t),n=vn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:ow(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sw,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=yn(t,"network-request-failed"),a=vn().setTimeout(()=>{r(o)},tw.get());function l(){vn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw=500,uw=600,hw="_blank",dw="http://localhost";class pf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fw(t,e,n,i=cw,s=uw){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},lw),{width:i.toString(),height:s.toString(),top:r,left:o}),c=ft().toLowerCase();n&&(a=cm(c)?hw:n),lm(c)&&(e=e||dw,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,_])=>`${d}${f}=${_},`,"");if(FD(c)&&a!=="_self")return pw(e||"",a),new pf(null);const h=window.open(e||"",a,u);J(h,t,"popup-blocked");try{h.focus()}catch{}return new pf(h)}function pw(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="__/auth/handler",mw="emulator/auth/handler",gw=encodeURIComponent("fac");async function _f(t,e,n,i,s,r){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:sr,eventId:s};if(e instanceof ym){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof wo){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${gw}=${encodeURIComponent(l)}`:"";return`${yw(t)}?${ir(a).slice(1)}${c}`}function yw({config:t}){return t.emulator?Hu(t,mw):`https://${t.authDomain}/${_w}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="webStorageSupport";class vw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Im,this._completeRedirectFn=HE,this._overrideRedirectResult=WE}async _openPopup(e,n,i,s){var r;Vn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await _f(e,n,i,Rc(),s);return fw(e,o,Ku())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await _f(e,n,i,Rc(),s);return EE(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Vn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await aw(e),i=new jE(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jl,{type:jl},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[jl];o!==void 0&&n(!!o),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QE(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pm()||ju()||cl()}}const Cw=vw;var mf="@firebase/auth",gf="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ww(t){Vs(new ss("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_m(t)},c=new VD(i,s,r,l);return QD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Vs(new ss("auth-internal",e=>{const n=ds(e.getProvider("auth").getImmediate());return(i=>new Dw(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(mf,gf,Ew(t)),mi(mf,gf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=5*60,Tw=z_("authIdTokenMaxAge")||bw;let yf=null;const Sw=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Tw)return;const s=n==null?void 0:n.token;yf!==s&&(yf=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Fm(t=Q_()){const e=Wu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YD(t,{popupRedirectResolver:Cw,persistence:[PE,Tm,Im]}),i=z_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=Sw(r.toString());_E(n,o,()=>o(n.currentUser)),pE(n,a=>o(a))}}const s=$_("auth");return s&&XD(n,`http://${s}`),n}function Iw(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$D({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=yn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",Iw().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ww("Browser");function Rn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Mt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$s={duration:.5,overwrite:!1,delay:0},Qu,nt,xe,qt=1e8,Se=1/qt,Fc=Math.PI*2,Aw=Fc/4,kw=0,Mm=Math.sqrt,Rw=Math.cos,Pw=Math.sin,Je=function(e){return typeof e=="string"},Be=function(e){return typeof e=="function"},$n=function(e){return typeof e=="number"},Xu=function(e){return typeof e>"u"},En=function(e){return typeof e=="object"},bt=function(e){return e!==!1},Ju=function(){return typeof window<"u"},$o=function(e){return Be(e)||Je(e)},Lm=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},dt=Array.isArray,Nc=/(?:-?\.?\d|\.)+/gi,Um=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ds=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ql=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Bm=/[+-]=-?[.\d]+/,Wm=/[^,'"\[\]\s]+/gi,xw=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Fe,dn,Mc,Zu,Lt={},Ta={},Vm,$m=function(e){return(Ta=Hs(e,Lt))&&Rt},eh=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Qr=function(e,n){return!n&&console.warn(e)},Hm=function(e,n){return e&&(Lt[e]=n)&&Ta&&(Ta[e]=n)||Lt},Xr=function(){return 0},Ow={suppressEvents:!0,isStart:!0,kill:!1},sa={suppressEvents:!0,kill:!1},Fw={suppressEvents:!0},th={},gi=[],Lc={},zm,Ot={},Gl={},vf=30,ra=[],nh="",ih=function(e){var n=e[0],i,s;if(En(n)||Be(n)||(e=[e]),!(i=(n._gsap||{}).harness)){for(s=ra.length;s--&&!ra[s].targetTest(n););i=ra[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new pg(e[s],i)))||e.splice(s,1);return e},es=function(e){return e._gsap||ih(Gt(e))[0]._gsap},jm=function(e,n,i){return(i=e[n])&&Be(i)?e[n]():Xu(i)&&e.getAttribute&&e.getAttribute(n)||i},Tt=function(e,n){return(e=e.split(",")).forEach(n)||e},Ve=function(e){return Math.round(e*1e5)/1e5||0},ze=function(e){return Math.round(e*1e7)/1e7||0},Os=function(e,n){var i=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),i==="+"?e+s:i==="-"?e-s:i==="*"?e*s:e/s},Nw=function(e,n){for(var i=n.length,s=0;e.indexOf(n[s])<0&&++s<i;);return s<i},Sa=function(){var e=gi.length,n=gi.slice(0),i,s;for(Lc={},gi.length=0,i=0;i<e;i++)s=n[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},qm=function(e,n,i,s){gi.length&&!nt&&Sa(),e.render(n,i,nt&&n<0&&(e._initted||e._startAt)),gi.length&&!nt&&Sa()},Gm=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Wm).length<2?n:Je(e)?e.trim():e},Km=function(e){return e},Ut=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},Mw=function(e){return function(n,i){for(var s in i)s in n||s==="duration"&&e||s==="ease"||(n[s]=i[s])}},Hs=function(e,n){for(var i in n)e[i]=n[i];return e},Cf=function t(e,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=En(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},Ia=function(e,n){var i={},s;for(s in e)s in n||(i[s]=e[s]);return i},Rr=function(e){var n=e.parent||Fe,i=e.keyframes?Mw(dt(e.keyframes)):Ut;if(bt(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e},Lw=function(e,n){for(var i=e.length,s=i===n.length;s&&i--&&e[i]===n[i];);return i<0},Ym=function(e,n,i,s,r){var o=e[s],a;if(r)for(a=n[r];o&&o[r]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[i],e[i]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},fl=function(e,n,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var r=n._prev,o=n._next;r?r._next=o:e[i]===n&&(e[i]=o),o?o._prev=r:e[s]===n&&(e[s]=r),n._next=n._prev=n.parent=null},wi=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ts=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Uw=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Uc=function(e,n,i,s){return e._startAt&&(nt?e._startAt.revert(sa):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},Bw=function t(e){return!e||e._ts&&t(e.parent)},Df=function(e){return e._repeat?zs(e._tTime,e=e.duration()+e._rDelay)*e:0},zs=function(e,n){var i=Math.floor(e=ze(e/n));return e&&i===e?i-1:i},Aa=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},pl=function(e){return e._end=ze(e._start+(e._tDur/Math.abs(e._ts||e._rts||Se)||0))},_l=function(e,n){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=ze(i._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),pl(e),i._dirty||ts(i,e)),e},Qm=function(e,n){var i;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(i=Aa(e.rawTime(),n),(!n._dur||To(0,n.totalDuration(),i)-n._tTime>Se)&&n.render(i,!0)),ts(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Se}},_n=function(e,n,i,s){return n.parent&&wi(n),n._start=ze(($n(i)?i:i||e!==Fe?$t(e,i,n):e._time)+n._delay),n._end=ze(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Ym(e,n,"_first","_last",e._sort?"_start":0),Bc(n)||(e._recent=n),s||Qm(e,n),e._ts<0&&_l(e,e._tTime),e},Xm=function(e,n){return(Lt.ScrollTrigger||eh("scrollTrigger",n))&&Lt.ScrollTrigger.create(n,e)},Jm=function(e,n,i,s,r){if(rh(e,n,r),!e._initted)return 1;if(!i&&e._pt&&!nt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&zm!==Ft.frame)return gi.push(e),e._lazy=[r,s],1},Ww=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Bc=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},Vw=function(e,n,i,s){var r=e.ratio,o=n<0||!n&&(!e._start&&Ww(e)&&!(!e._initted&&Bc(e))||(e._ts<0||e._dp._ts<0)&&!Bc(e))?0:1,a=e._rDelay,l=0,c,u,h;if(a&&e._repeat&&(l=To(0,e._tDur,n),u=zs(l,a),e._yoyo&&u&1&&(o=1-o),u!==zs(e._tTime,a)&&(r=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==r||nt||s||e._zTime===Se||!n&&e._zTime){if(!e._initted&&Jm(e,n,s,i,l))return;for(h=e._zTime,e._zTime=n||(i?Se:0),i||(i=n&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&Uc(e,n,i,!0),e._onUpdate&&!i&&Nt(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Nt(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&wi(e,1),!i&&!nt&&(Nt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},$w=function(e,n,i){var s;if(i>n)for(s=e._first;s&&s._start<=i;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=i;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},js=function(e,n,i,s){var r=e._repeat,o=ze(n)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=r?r<0?1e10:ze(o*(r+1)+e._rDelay*r):o,a>0&&!s&&_l(e,e._tTime=e._tDur*a),e.parent&&pl(e),i||ts(e.parent,e),e},Ef=function(e){return e instanceof mt?ts(e):js(e,e._dur)},Hw={_start:0,endTime:Xr,totalDuration:Xr},$t=function t(e,n,i){var s=e.labels,r=e._recent||Hw,o=e.duration()>=qt?r.endTime(!1):e._dur,a,l,c;return Je(n)&&(isNaN(n)||n in s)?(l=n.charAt(0),c=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(a<0?r:i).totalDuration()/100:1)):a<0?(n in s||(s[n]=o),s[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),c&&i&&(l=l/100*(dt(i)?i[0]:i).totalDuration()),a>1?t(e,n.substr(0,a-1),i)+l:o+l)):n==null?o:+n},Pr=function(e,n,i){var s=$n(n[1]),r=(s?2:1)+(e<2?0:1),o=n[r],a,l;if(s&&(o.duration=n[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=bt(l.vars.inherit)&&l.parent;o.immediateRender=bt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[r-1]}return new He(n[0],o,n[r+1])},Oi=function(e,n){return e||e===0?n(e):n},To=function(e,n,i){return i<e?e:i>n?n:i},ht=function(e,n){return!Je(e)||!(n=xw.exec(e))?"":n[1]},zw=function(e,n,i){return Oi(i,function(s){return To(e,n,s)})},Wc=[].slice,Zm=function(e,n){return e&&En(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&En(e[0]))&&!e.nodeType&&e!==dn},jw=function(e,n,i){return i===void 0&&(i=[]),e.forEach(function(s){var r;return Je(s)&&!n||Zm(s,1)?(r=i).push.apply(r,Gt(s)):i.push(s)})||i},Gt=function(e,n,i){return xe&&!n&&xe.selector?xe.selector(e):Je(e)&&!i&&(Mc||!qs())?Wc.call((n||Zu).querySelectorAll(e),0):dt(e)?jw(e,i):Zm(e)?Wc.call(e,0):e?[e]:[]},Vc=function(e){return e=Gt(e)[0]||Qr("Invalid scope")||{},function(n){var i=e.current||e.nativeElement||e;return Gt(n,i.querySelectorAll?i:i===e?Qr("Invalid scope")||Zu.createElement("div"):e)}},eg=function(e){return e.sort(function(){return .5-Math.random()})},tg=function(e){if(Be(e))return e;var n=En(e)?e:{each:e},i=ns(n.ease),s=n.from||0,r=parseFloat(n.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,c=n.axis,u=s,h=s;return Je(s)?u=h={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(u=s[0],h=s[1]),function(d,f,_){var p=(_||n).length,y=o[p],C,D,E,b,T,S,x,A,k;if(!y){if(k=n.grid==="auto"?0:(n.grid||[1,qt])[1],!k){for(x=-qt;x<(x=_[k++].getBoundingClientRect().left)&&k<p;);k<p&&k--}for(y=o[p]=[],C=l?Math.min(k,p)*u-.5:s%k,D=k===qt?0:l?p*h/k-.5:s/k|0,x=0,A=qt,S=0;S<p;S++)E=S%k-C,b=D-(S/k|0),y[S]=T=c?Math.abs(c==="y"?b:E):Mm(E*E+b*b),T>x&&(x=T),T<A&&(A=T);s==="random"&&eg(y),y.max=x-A,y.min=A,y.v=p=(parseFloat(n.amount)||parseFloat(n.each)*(k>p?p-1:c?c==="y"?p/k:k:Math.max(k,p/k))||0)*(s==="edges"?-1:1),y.b=p<0?r-p:r,y.u=ht(n.amount||n.each)||0,i=i&&p<0?hg(i):i}return p=(y[d]-y.min)/y.max||0,ze(y.b+(i?i(p):p)*y.v)+y.u}},$c=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var s=ze(Math.round(parseFloat(i)/e)*e*n);return(s-s%1)/n+($n(i)?0:ht(i))}},ng=function(e,n){var i=dt(e),s,r;return!i&&En(e)&&(s=i=e.radius||qt,e.values?(e=Gt(e.values),(r=!$n(e[0]))&&(s*=s)):e=$c(e.increment)),Oi(n,i?Be(e)?function(o){return r=e(o),Math.abs(r-o)<=s?r:o}:function(o){for(var a=parseFloat(r?o.x:o),l=parseFloat(r?o.y:0),c=qt,u=0,h=e.length,d,f;h--;)r?(d=e[h].x-a,f=e[h].y-l,d=d*d+f*f):d=Math.abs(e[h]-a),d<c&&(c=d,u=h);return u=!s||c<=s?e[u]:o,r||u===o||$n(o)?u:u+ht(o)}:$c(e))},ig=function(e,n,i,s){return Oi(dt(e)?!n:i===!0?!!(i=0):!s,function(){return dt(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(n-e+i*.99))/i)*i*s)/s})},qw=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(s){return n.reduce(function(r,o){return o(r)},s)}},Gw=function(e,n){return function(i){return e(parseFloat(i))+(n||ht(i))}},Kw=function(e,n,i){return rg(e,n,0,1,i)},sg=function(e,n,i){return Oi(i,function(s){return e[~~n(s)]})},Yw=function t(e,n,i){var s=n-e;return dt(e)?sg(e,t(0,e.length),n):Oi(i,function(r){return(s+(r-e)%s)%s+e})},Qw=function t(e,n,i){var s=n-e,r=s*2;return dt(e)?sg(e,t(0,e.length-1),n):Oi(i,function(o){return o=(r+(o-e)%r)%r||0,e+(o>s?r-o:o)})},Jr=function(e){for(var n=0,i="",s,r,o,a;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",r=e.substr(s+7,o-s-7).match(a?Wm:Nc),i+=e.substr(n,s-n)+ig(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),n=o+1;return i+e.substr(n,e.length-n)},rg=function(e,n,i,s,r){var o=n-e,a=s-i;return Oi(r,function(l){return i+((l-e)/o*a||0)})},Xw=function t(e,n,i,s){var r=isNaN(e+n)?0:function(f){return(1-f)*e+f*n};if(!r){var o=Je(e),a={},l,c,u,h,d;if(i===!0&&(s=1)&&(i=null),o)e={p:e},n={p:n};else if(dt(e)&&!dt(n)){for(u=[],h=e.length,d=h-2,c=1;c<h;c++)u.push(t(e[c-1],e[c]));h--,r=function(_){_*=h;var p=Math.min(d,~~_);return u[p](_-p)},i=n}else s||(e=Hs(dt(e)?[]:{},e));if(!u){for(l in n)sh.call(a,e,l,"get",n[l]);r=function(_){return lh(_,a)||(o?e.p:e)}}}return Oi(i,r)},wf=function(e,n,i){var s=e.labels,r=qt,o,a,l;for(o in s)a=s[o]-n,a<0==!!i&&a&&r>(a=Math.abs(a))&&(l=o,r=a);return l},Nt=function(e,n,i){var s=e.vars,r=s[n],o=xe,a=e._ctx,l,c,u;if(r)return l=s[n+"Params"],c=s.callbackScope||e,i&&gi.length&&Sa(),a&&(xe=a),u=l?r.apply(c,l):r.call(c),xe=o,u},Dr=function(e){return wi(e),e.scrollTrigger&&e.scrollTrigger.kill(!!nt),e.progress()<1&&Nt(e,"onInterrupt"),e},Es,og=[],ag=function(e){if(e)if(e=!e.name&&e.default||e,Ju()||e.headless){var n=e.name,i=Be(e),s=n&&!i&&e.init?function(){this._props=[]}:e,r={init:Xr,render:lh,add:sh,kill:fb,modifier:db,rawVars:0},o={targetTest:0,get:0,getSetter:ah,aliases:{},register:0};if(qs(),e!==s){if(Ot[n])return;Ut(s,Ut(Ia(e,r),o)),Hs(s.prototype,Hs(r,Ia(e,o))),Ot[s.prop=n]=s,e.targetTest&&(ra.push(s),th[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Hm(n,s),e.register&&e.register(Rt,s,St)}else og.push(e)},Te=255,Er={aqua:[0,Te,Te],lime:[0,Te,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Te],navy:[0,0,128],white:[Te,Te,Te],olive:[128,128,0],yellow:[Te,Te,0],orange:[Te,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Te,0,0],pink:[Te,192,203],cyan:[0,Te,Te],transparent:[Te,Te,Te,0]},Kl=function(e,n,i){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(i-n)*e*6:e<.5?i:e*3<2?n+(i-n)*(2/3-e)*6:n)*Te+.5|0},lg=function(e,n,i){var s=e?$n(e)?[e>>16,e>>8&Te,e&Te]:0:Er.black,r,o,a,l,c,u,h,d,f,_;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Er[e])s=Er[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Te,s&Te,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Te,e&Te]}else if(e.substr(0,3)==="hsl"){if(s=_=e.match(Nc),!n)l=+s[0]%360/360,c=+s[1]/100,u=+s[2]/100,o=u<=.5?u*(c+1):u+c-u*c,r=u*2-o,s.length>3&&(s[3]*=1),s[0]=Kl(l+1/3,r,o),s[1]=Kl(l,r,o),s[2]=Kl(l-1/3,r,o);else if(~e.indexOf("="))return s=e.match(Um),i&&s.length<4&&(s[3]=1),s}else s=e.match(Nc)||Er.transparent;s=s.map(Number)}return n&&!_&&(r=s[0]/Te,o=s[1]/Te,a=s[2]/Te,h=Math.max(r,o,a),d=Math.min(r,o,a),u=(h+d)/2,h===d?l=c=0:(f=h-d,c=u>.5?f/(2-h-d):f/(h+d),l=h===r?(o-a)/f+(o<a?6:0):h===o?(a-r)/f+2:(r-o)/f+4,l*=60),s[0]=~~(l+.5),s[1]=~~(c*100+.5),s[2]=~~(u*100+.5)),i&&s.length<4&&(s[3]=1),s},cg=function(e){var n=[],i=[],s=-1;return e.split(yi).forEach(function(r){var o=r.match(Ds)||[];n.push.apply(n,o),i.push(s+=o.length+1)}),n.c=i,n},bf=function(e,n,i){var s="",r=(e+s).match(yi),o=n?"hsla(":"rgba(",a=0,l,c,u,h;if(!r)return e;if(r=r.map(function(d){return(d=lg(d,n,1))&&o+(n?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(u=cg(e),l=i.c,l.join(s)!==u.c.join(s)))for(c=e.replace(yi,"1").split(Ds),h=c.length-1;a<h;a++)s+=c[a]+(~l.indexOf(a)?r.shift()||o+"0,0,0,0)":(u.length?u:r.length?r:i).shift());if(!c)for(c=e.split(yi),h=c.length-1;a<h;a++)s+=c[a]+r[a];return s+c[h]},yi=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Er)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Jw=/hsl[a]?\(/,ug=function(e){var n=e.join(" "),i;if(yi.lastIndex=0,yi.test(n))return i=Jw.test(n),e[1]=bf(e[1],i),e[0]=bf(e[0],i,cg(e[1])),!0},Zr,Ft=function(){var t=Date.now,e=500,n=33,i=t(),s=i,r=1e3/240,o=r,a=[],l,c,u,h,d,f,_=function p(y){var C=t()-s,D=y===!0,E,b,T,S;if((C>e||C<0)&&(i+=C-n),s+=C,T=s-i,E=T-o,(E>0||D)&&(S=++h.frame,d=T-h.time*1e3,h.time=T=T/1e3,o+=E+(E>=r?4:r-E),b=1),D||(l=c(p)),b)for(f=0;f<a.length;f++)a[f](T,d,S,y)};return h={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){Vm&&(!Mc&&Ju()&&(dn=Mc=window,Zu=dn.document||{},Lt.gsap=Rt,(dn.gsapVersions||(dn.gsapVersions=[])).push(Rt.version),$m(Ta||dn.GreenSockGlobals||!dn.gsap&&dn||{}),og.forEach(ag)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=u||function(y){return setTimeout(y,o-h.time*1e3+1|0)},Zr=1,_(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Zr=0,c=Xr},lagSmoothing:function(y,C){e=y||1/0,n=Math.min(C||33,e)},fps:function(y){r=1e3/(y||240),o=h.time*1e3+r},add:function(y,C,D){var E=C?function(b,T,S,x){y(b,T,S,x),h.remove(E)}:y;return h.remove(y),a[D?"unshift":"push"](E),qs(),E},remove:function(y,C){~(C=a.indexOf(y))&&a.splice(C,1)&&f>=C&&f--},_listeners:a},h}(),qs=function(){return!Zr&&Ft.wake()},ue={},Zw=/^[\d.\-M][\d.\-,\s]/,eb=/["']/g,tb=function(e){for(var n={},i=e.substr(1,e.length-3).split(":"),s=i[0],r=1,o=i.length,a,l,c;r<o;r++)l=i[r],a=r!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),n[s]=isNaN(c)?c.replace(eb,"").trim():+c,s=l.substr(a+1).trim();return n},nb=function(e){var n=e.indexOf("(")+1,i=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<i?e.indexOf(")",i+1):i)},ib=function(e){var n=(e+"").split("("),i=ue[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[tb(n[1])]:nb(e).split(",").map(Gm)):ue._CE&&Zw.test(e)?ue._CE("",e):i},hg=function(e){return function(n){return 1-e(1-n)}},dg=function t(e,n){for(var i=e._first,s;i;)i instanceof mt?t(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?t(i.timeline,n):(s=i._ease,i._ease=i._yEase,i._yEase=s,i._yoyo=n)),i=i._next},ns=function(e,n){return e&&(Be(e)?e:ue[e]||ib(e))||n},fs=function(e,n,i,s){i===void 0&&(i=function(l){return 1-n(1-l)}),s===void 0&&(s=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var r={easeIn:n,easeOut:i,easeInOut:s},o;return Tt(e,function(a){ue[a]=Lt[a]=r,ue[o=a.toLowerCase()]=i;for(var l in r)ue[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=ue[a+"."+l]=r[l]}),r},fg=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Yl=function t(e,n,i){var s=n>=1?n:1,r=(i||(e?.3:.45))/(n<1?n:1),o=r/Fc*(Math.asin(1/s)||0),a=function(u){return u===1?1:s*Math.pow(2,-10*u)*Pw((u-o)*r)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:fg(a);return r=Fc/r,l.config=function(c,u){return t(e,c,u)},l},Ql=function t(e,n){n===void 0&&(n=1.70158);var i=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?i:e==="in"?function(r){return 1-i(1-r)}:fg(i);return s.config=function(r){return t(e,r)},s};Tt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;fs(t+",Power"+(n-1),e?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});ue.Linear.easeNone=ue.none=ue.Linear.easeIn;fs("Elastic",Yl("in"),Yl("out"),Yl());(function(t,e){var n=1/e,i=2*n,s=2.5*n,r=function(a){return a<n?t*a*a:a<i?t*Math.pow(a-1.5/e,2)+.75:a<s?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};fs("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);fs("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});fs("Circ",function(t){return-(Mm(1-t*t)-1)});fs("Sine",function(t){return t===1?1:-Rw(t*Aw)+1});fs("Back",Ql("in"),Ql("out"),Ql());ue.SteppedEase=ue.steps=Lt.SteppedEase={config:function(e,n){e===void 0&&(e=1);var i=1/e,s=e+(n?0:1),r=n?1:0,o=1-Se;return function(a){return((s*To(0,o,a)|0)+r)*i}}};$s.ease=ue["quad.out"];Tt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return nh+=t+","+t+"Params,"});var pg=function(e,n){this.id=kw++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:jm,this.set=n?n.getSetter:ah},eo=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,js(this,+n.duration,1,1),this.data=n.data,xe&&(this._ctx=xe,xe.data.push(this)),Zr||Ft.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,js(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,s){if(qs(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(_l(this,i),!r._dp||r.parent||Qm(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&_n(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Se||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),qm(this,i,s)),this},e.time=function(i,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Df(this))%(this._dur+this._rDelay)||(i?this._dur:0),s):this._time},e.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Df(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,s){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,s):this._repeat?zs(this._tTime,r)+1:1},e.timeScale=function(i,s){if(!arguments.length)return this._rts===-Se?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?Aa(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Se?0:this._rts,this.totalTime(To(-Math.abs(this._delay),this._tDur,r),s!==!1),pl(this),Uw(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(qs(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Se&&(this._tTime-=Se)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&_n(s,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(bt(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Aa(s.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Fw);var s=nt;return nt=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),nt=s,this},e.globalTime=function(i){for(var s=this,r=arguments.length?i:s.rawTime();s;)r=s._start+r/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Ef(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var s=this._time;return this._rDelay=i,Ef(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,s){return this.totalTime($t(this,i),bt(s))},e.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,bt(s)),this._dur||(this._zTime=-Se),this},e.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},e.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Se:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Se,this},e.isActive=function(){var i=this.parent||this._dp,s=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=s&&r<this.endTime(!0)-Se)},e.eventCallback=function(i,s,r){var o=this.vars;return arguments.length>1?(s?(o[i]=s,r&&(o[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=s)):delete o[i],this):o[i]},e.then=function(i){var s=this;return new Promise(function(r){var o=Be(i)?i:Km,a=function(){var c=s.then;s.then=null,Be(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=c),r(o),s.then=c};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){Dr(this)},t}();Ut(eo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Se,_prom:0,_ps:!1,_rts:1});var mt=function(t){Nm(e,t);function e(i,s){var r;return i===void 0&&(i={}),r=t.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=bt(i.sortChildren),Fe&&_n(i.parent||Fe,Rn(r),s),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&Xm(Rn(r),i.scrollTrigger),r}var n=e.prototype;return n.to=function(s,r,o){return Pr(0,arguments,this),this},n.from=function(s,r,o){return Pr(1,arguments,this),this},n.fromTo=function(s,r,o,a){return Pr(2,arguments,this),this},n.set=function(s,r,o){return r.duration=0,r.parent=this,Rr(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new He(s,r,$t(this,o),1),this},n.call=function(s,r,o){return _n(this,He.delayedCall(0,s,r),o)},n.staggerTo=function(s,r,o,a,l,c,u){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new He(s,o,$t(this,l)),this},n.staggerFrom=function(s,r,o,a,l,c,u){return o.runBackwards=1,Rr(o).immediateRender=bt(o.immediateRender),this.staggerTo(s,r,o,a,l,c,u)},n.staggerFromTo=function(s,r,o,a,l,c,u,h){return a.startAt=o,Rr(a).immediateRender=bt(a.immediateRender),this.staggerTo(s,r,a,l,c,u,h)},n.render=function(s,r,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=s<=0?0:ze(s),h=this._zTime<0!=s<0&&(this._initted||!c),d,f,_,p,y,C,D,E,b,T,S,x;if(this!==Fe&&u>l&&s>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,s+=this._time-a),d=u,b=this._start,E=this._ts,C=!E,h&&(c||(a=this._zTime),(s||!r)&&(this._zTime=s)),this._repeat){if(S=this._yoyo,y=c+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(y*100+s,r,o);if(d=ze(u%y),u===l?(p=this._repeat,d=c):(T=ze(u/y),p=~~T,p&&p===T&&(d=c,p--),d>c&&(d=c)),T=zs(this._tTime,y),!a&&this._tTime&&T!==p&&this._tTime-T*y-this._dur<=0&&(T=p),S&&p&1&&(d=c-d,x=1),p!==T&&!this._lock){var A=S&&T&1,k=A===(S&&p&1);if(p<T&&(A=!A),a=A?0:u%c?c:u,this._lock=1,this.render(a||(x?0:ze(p*y)),r,!c)._lock=0,this._tTime=u,!r&&this.parent&&Nt(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),a&&a!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,k&&(this._lock=2,a=A?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;dg(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(D=$w(this,ze(a),ze(d)),D&&(u-=d-(d=D._start))),this._tTime=u,this._time=d,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&d&&!r&&!p&&(Nt(this,"onStart"),this._tTime!==u))return this;if(d>=a&&s>=0)for(f=this._first;f;){if(_=f._next,(f._act||d>=f._start)&&f._ts&&D!==f){if(f.parent!==this)return this.render(s,r,o);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,r,o),d!==this._time||!this._ts&&!C){D=0,_&&(u+=this._zTime=-Se);break}}f=_}else{f=this._last;for(var j=s<0?s:d;f;){if(_=f._prev,(f._act||j<=f._end)&&f._ts&&D!==f){if(f.parent!==this)return this.render(s,r,o);if(f.render(f._ts>0?(j-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(j-f._start)*f._ts,r,o||nt&&(f._initted||f._startAt)),d!==this._time||!this._ts&&!C){D=0,_&&(u+=this._zTime=j?-Se:Se);break}}f=_}}if(D&&!r&&(this.pause(),D.render(d>=a?0:-Se)._zTime=d>=a?1:-1,this._ts))return this._start=b,pl(this),this.render(s,r,o);this._onUpdate&&!r&&Nt(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(b===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((s||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&wi(this,1),!r&&!(s<0&&!a)&&(u||a||!l)&&(Nt(this,u===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,r){var o=this;if($n(r)||(r=$t(this,r,s)),!(s instanceof eo)){if(dt(s))return s.forEach(function(a){return o.add(a,r)}),this;if(Je(s))return this.addLabel(s,r);if(Be(s))s=He.delayedCall(0,s);else return this}return this!==s?_n(this,s,r):this},n.getChildren=function(s,r,o,a){s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-qt);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof He?r&&l.push(c):(o&&l.push(c),s&&l.push.apply(l,c.getChildren(!0,r,o)))),c=c._next;return l},n.getById=function(s){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===s)return r[o]},n.remove=function(s){return Je(s)?this.removeLabel(s):Be(s)?this.killTweensOf(s):(s.parent===this&&fl(this,s),s===this._recent&&(this._recent=this._last),ts(this))},n.totalTime=function(s,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ze(Ft.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,r),this._forcing=0,this):this._tTime},n.addLabel=function(s,r){return this.labels[s]=$t(this,r),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,r,o){var a=He.delayedCall(0,r||Xr,o);return a.data="isPause",this._hasPause=1,_n(this,a,$t(this,s))},n.removePause=function(s){var r=this._first;for(s=$t(this,s);r;)r._start===s&&r.data==="isPause"&&wi(r),r=r._next},n.killTweensOf=function(s,r,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)li!==a[l]&&a[l].kill(s,r);return this},n.getTweensOf=function(s,r){for(var o=[],a=Gt(s),l=this._first,c=$n(r),u;l;)l instanceof He?Nw(l._targets,a)&&(c?(!li||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&o.push(l):(u=l.getTweensOf(a,r)).length&&o.push.apply(o,u),l=l._next;return o},n.tweenTo=function(s,r){r=r||{};var o=this,a=$t(o,s),l=r,c=l.startAt,u=l.onStart,h=l.onStartParams,d=l.immediateRender,f,_=He.to(o,Ut({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Se,onStart:function(){if(o.pause(),!f){var y=r.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());_._dur!==y&&js(_,y,0,1).render(_._time,!0,!0),f=1}u&&u.apply(_,h||[])}},r));return d?_.render(0):_},n.tweenFromTo=function(s,r,o){return this.tweenTo(r,Ut({startAt:{time:$t(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),wf(this,$t(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),wf(this,$t(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Se)},n.shiftChildren=function(s,r,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(r)for(c in l)l[c]>=o&&(l[c]+=s);return ts(this)},n.invalidate=function(s){var r=this._first;for(this._lock=0;r;)r.invalidate(s),r=r._next;return t.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),ts(this)},n.totalDuration=function(s){var r=0,o=this,a=o._last,l=qt,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,_n(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(r-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>r&&a._ts&&(r=a._end),a=c;js(o,o===Fe&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Fe._ts&&(qm(Fe,Aa(s,Fe)),zm=Ft.frame),Ft.frame>=vf){vf+=Mt.autoSleep||120;var r=Fe._first;if((!r||!r._ts)&&Mt.autoSleep&&Ft._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Ft.sleep()}}},e}(eo);Ut(mt.prototype,{_lock:0,_hasPause:0,_forcing:0});var sb=function(e,n,i,s,r,o,a){var l=new St(this._pt,e,n,0,1,Cg,null,r),c=0,u=0,h,d,f,_,p,y,C,D;for(l.b=i,l.e=s,i+="",s+="",(C=~s.indexOf("random("))&&(s=Jr(s)),o&&(D=[i,s],o(D,e,n),i=D[0],s=D[1]),d=i.match(ql)||[];h=ql.exec(s);)_=h[0],p=s.substring(c,h.index),f?f=(f+1)%5:p.substr(-5)==="rgba("&&(f=1),_!==d[u++]&&(y=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:p||u===1?p:",",s:y,c:_.charAt(1)==="="?Os(y,_)-y:parseFloat(_)-y,m:f&&f<4?Math.round:0},c=ql.lastIndex);return l.c=c<s.length?s.substring(c,s.length):"",l.fp=a,(Bm.test(s)||C)&&(l.e=0),this._pt=l,l},sh=function(e,n,i,s,r,o,a,l,c,u){Be(s)&&(s=s(r||0,e,o));var h=e[n],d=i!=="get"?i:Be(h)?c?e[n.indexOf("set")||!Be(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():h,f=Be(h)?c?cb:yg:oh,_;if(Je(s)&&(~s.indexOf("random(")&&(s=Jr(s)),s.charAt(1)==="="&&(_=Os(d,s)+(ht(d)||0),(_||_===0)&&(s=_))),!u||d!==s||Hc)return!isNaN(d*s)&&s!==""?(_=new St(this._pt,e,n,+d||0,s-(d||0),typeof h=="boolean"?hb:vg,0,f),c&&(_.fp=c),a&&_.modifier(a,this,e),this._pt=_):(!h&&!(n in e)&&eh(n,s),sb.call(this,e,n,d,s,f,l||Mt.stringFilter,c))},rb=function(e,n,i,s,r){if(Be(e)&&(e=xr(e,r,n,i,s)),!En(e)||e.style&&e.nodeType||dt(e)||Lm(e))return Je(e)?xr(e,r,n,i,s):e;var o={},a;for(a in e)o[a]=xr(e[a],r,n,i,s);return o},_g=function(e,n,i,s,r,o){var a,l,c,u;if(Ot[e]&&(a=new Ot[e]).init(r,a.rawVars?n[e]:rb(n[e],s,r,o,i),i,s,o)!==!1&&(i._pt=l=new St(i._pt,r,e,0,1,a.render,a,0,a.priority),i!==Es))for(c=i._ptLookup[i._targets.indexOf(r)],u=a._props.length;u--;)c[a._props[u]]=l;return a},li,Hc,rh=function t(e,n,i){var s=e.vars,r=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,c=s.onUpdate,u=s.runBackwards,h=s.yoyoEase,d=s.keyframes,f=s.autoRevert,_=e._dur,p=e._startAt,y=e._targets,C=e.parent,D=C&&C.data==="nested"?C.vars.targets:y,E=e._overwrite==="auto"&&!Qu,b=e.timeline,T,S,x,A,k,j,ee,L,G,he,De,ie,Z;if(b&&(!d||!r)&&(r="none"),e._ease=ns(r,$s.ease),e._yEase=h?hg(ns(h===!0?r:h,$s.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!b&&!!s.runBackwards,!b||d&&!s.stagger){if(L=y[0]?es(y[0]).harness:0,ie=L&&s[L.prop],T=Ia(s,th),p&&(p._zTime<0&&p.progress(1),n<0&&u&&a&&!f?p.render(-1,!0):p.revert(u&&_?sa:Ow),p._lazy=0),o){if(wi(e._startAt=He.set(y,Ut({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!p&&bt(l),startAt:null,delay:0,onUpdate:c&&function(){return Nt(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(nt||!a&&!f)&&e._startAt.revert(sa),a&&_&&n<=0&&i<=0){n&&(e._zTime=n);return}}else if(u&&_&&!p){if(n&&(a=!1),x=Ut({overwrite:!1,data:"isFromStart",lazy:a&&!p&&bt(l),immediateRender:a,stagger:0,parent:C},T),ie&&(x[L.prop]=ie),wi(e._startAt=He.set(y,x)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(nt?e._startAt.revert(sa):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Se,Se);else if(!n)return}for(e._pt=e._ptCache=0,l=_&&bt(l)||l&&!_,S=0;S<y.length;S++){if(k=y[S],ee=k._gsap||ih(y)[S]._gsap,e._ptLookup[S]=he={},Lc[ee.id]&&gi.length&&Sa(),De=D===y?S:D.indexOf(k),L&&(G=new L).init(k,ie||T,e,De,D)!==!1&&(e._pt=A=new St(e._pt,k,G.name,0,1,G.render,G,0,G.priority),G._props.forEach(function(se){he[se]=A}),G.priority&&(j=1)),!L||ie)for(x in T)Ot[x]&&(G=_g(x,T,e,De,k,D))?G.priority&&(j=1):he[x]=A=sh.call(e,k,x,"get",T[x],De,D,0,s.stringFilter);e._op&&e._op[S]&&e.kill(k,e._op[S]),E&&e._pt&&(li=e,Fe.killTweensOf(k,he,e.globalTime(n)),Z=!e.parent,li=0),e._pt&&l&&(Lc[ee.id]=1)}j&&Dg(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!Z,d&&n<=0&&b.render(qt,!0,!0)},ob=function(e,n,i,s,r,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,h,d,f;if(!c)for(c=e._ptCache[n]=[],d=e._ptLookup,f=e._targets.length;f--;){if(u=d[f][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return Hc=1,e.vars[n]="+=0",rh(e,a),Hc=0,l?Qr(n+" not eligible for reset"):1;c.push(u)}for(f=c.length;f--;)h=c[f],u=h._pt||h,u.s=(s||s===0)&&!r?s:u.s+(s||0)+o*u.c,u.c=i-u.s,h.e&&(h.e=Ve(i)+ht(h.e)),h.b&&(h.b=u.s+ht(h.b))},ab=function(e,n){var i=e[0]?es(e[0]).harness:0,s=i&&i.aliases,r,o,a,l;if(!s)return n;r=Hs({},n);for(o in s)if(o in r)for(l=s[o].split(","),a=l.length;a--;)r[l[a]]=r[o];return r},lb=function(e,n,i,s){var r=n.ease||s||"power1.inOut",o,a;if(dt(n))a=i[e]||(i[e]=[]),n.forEach(function(l,c){return a.push({t:c/(n.length-1)*100,v:l,e:r})});else for(o in n)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:r})},xr=function(e,n,i,s,r){return Be(e)?e.call(n,i,s,r):Je(e)&&~e.indexOf("random(")?Jr(e):e},mg=nh+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gg={};Tt(mg+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return gg[t]=1});var He=function(t){Nm(e,t);function e(i,s,r,o){var a;typeof s=="number"&&(r.duration=s,s=r,r=null),a=t.call(this,o?s:Rr(s))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,d=l.stagger,f=l.overwrite,_=l.keyframes,p=l.defaults,y=l.scrollTrigger,C=l.yoyoEase,D=s.parent||Fe,E=(dt(i)||Lm(i)?$n(i[0]):"length"in s)?[i]:Gt(i),b,T,S,x,A,k,j,ee;if(a._targets=E.length?ih(E):Qr("GSAP target "+i+" not found. https://gsap.com",!Mt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,_||d||$o(c)||$o(u)){if(s=a.vars,b=a.timeline=new mt({data:"nested",defaults:p||{},targets:D&&D.data==="nested"?D.vars.targets:E}),b.kill(),b.parent=b._dp=Rn(a),b._start=0,d||$o(c)||$o(u)){if(x=E.length,j=d&&tg(d),En(d))for(A in d)~mg.indexOf(A)&&(ee||(ee={}),ee[A]=d[A]);for(T=0;T<x;T++)S=Ia(s,gg),S.stagger=0,C&&(S.yoyoEase=C),ee&&Hs(S,ee),k=E[T],S.duration=+xr(c,Rn(a),T,k,E),S.delay=(+xr(u,Rn(a),T,k,E)||0)-a._delay,!d&&x===1&&S.delay&&(a._delay=u=S.delay,a._start+=u,S.delay=0),b.to(k,S,j?j(T,k,E):0),b._ease=ue.none;b.duration()?c=u=0:a.timeline=0}else if(_){Rr(Ut(b.vars.defaults,{ease:"none"})),b._ease=ns(_.ease||s.ease||"none");var L=0,G,he,De;if(dt(_))_.forEach(function(ie){return b.to(E,ie,">")}),b.duration();else{S={};for(A in _)A==="ease"||A==="easeEach"||lb(A,_[A],S,_.easeEach);for(A in S)for(G=S[A].sort(function(ie,Z){return ie.t-Z.t}),L=0,T=0;T<G.length;T++)he=G[T],De={ease:he.e,duration:(he.t-(T?G[T-1].t:0))/100*c},De[A]=he.v,b.to(E,De,L),L+=De.duration;b.duration()<c&&b.to({},{duration:c-b.duration()})}}c||a.duration(c=b.duration())}else a.timeline=0;return f===!0&&!Qu&&(li=Rn(a),Fe.killTweensOf(E),li=0),_n(D,Rn(a),r),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(h||!c&&!_&&a._start===ze(D._time)&&bt(h)&&Bw(Rn(a))&&D.data!=="nested")&&(a._tTime=-Se,a.render(Math.max(0,-u)||0)),y&&Xm(Rn(a),y),a}var n=e.prototype;return n.render=function(s,r,o){var a=this._time,l=this._tDur,c=this._dur,u=s<0,h=s>l-Se&&!u?l:s<Se?0:s,d,f,_,p,y,C,D,E,b;if(!c)Vw(this,s,r,o);else if(h!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(d=h,E=this.timeline,this._repeat){if(p=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(p*100+s,r,o);if(d=ze(h%p),h===l?(_=this._repeat,d=c):(y=ze(h/p),_=~~y,_&&_===y?(d=c,_--):d>c&&(d=c)),C=this._yoyo&&_&1,C&&(b=this._yEase,d=c-d),y=zs(this._tTime,p),d===a&&!o&&this._initted&&_===y)return this._tTime=h,this;_!==y&&(E&&this._yEase&&dg(E,C),this.vars.repeatRefresh&&!C&&!this._lock&&d!==p&&this._initted&&(this._lock=o=1,this.render(ze(p*_),!0).invalidate()._lock=0))}if(!this._initted){if(Jm(this,u?s:d,o,r,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&_!==y))return this;if(c!==this._dur)return this.render(s,r,o)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=D=(b||this._ease)(d/c),this._from&&(this.ratio=D=1-D),d&&!a&&!r&&!_&&(Nt(this,"onStart"),this._tTime!==h))return this;for(f=this._pt;f;)f.r(D,f.d),f=f._next;E&&E.render(s<0?s:E._dur*E._ease(d/this._dur),r,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!r&&(u&&Uc(this,s,r,o),Nt(this,"onUpdate")),this._repeat&&_!==y&&this.vars.onRepeat&&!r&&this.parent&&Nt(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&Uc(this,s,!0,!0),(s||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&wi(this,1),!r&&!(u&&!a)&&(h||a||C)&&(Nt(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},n.resetTo=function(s,r,o,a,l){Zr||Ft.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||rh(this,c),u=this._ease(c/this._dur),ob(this,s,r,o,a,u,c,l)?this.resetTo(s,r,o,a,1):(_l(this,0),this.parent||Ym(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,r){if(r===void 0&&(r="all"),!s&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Dr(this):this.scrollTrigger&&this.scrollTrigger.kill(!!nt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,r,li&&li.vars.overwrite!==!0)._first||Dr(this),this.parent&&o!==this.timeline.totalDuration()&&js(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?Gt(s):a,c=this._ptLookup,u=this._pt,h,d,f,_,p,y,C;if((!r||r==="all")&&Lw(a,l))return r==="all"&&(this._pt=0),Dr(this);for(h=this._op=this._op||[],r!=="all"&&(Je(r)&&(p={},Tt(r,function(D){return p[D]=1}),r=p),r=ab(a,r)),C=a.length;C--;)if(~l.indexOf(a[C])){d=c[C],r==="all"?(h[C]=r,_=d,f={}):(f=h[C]=h[C]||{},_=r);for(p in _)y=d&&d[p],y&&((!("kill"in y.d)||y.d.kill(p)===!0)&&fl(this,y,"_pt"),delete d[p]),f!=="all"&&(f[p]=1)}return this._initted&&!this._pt&&u&&Dr(this),this},e.to=function(s,r){return new e(s,r,arguments[2])},e.from=function(s,r){return Pr(1,arguments)},e.delayedCall=function(s,r,o,a){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,r,o){return Pr(2,arguments)},e.set=function(s,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(s,r)},e.killTweensOf=function(s,r,o){return Fe.killTweensOf(s,r,o)},e}(eo);Ut(He.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Tt("staggerTo,staggerFrom,staggerFromTo",function(t){He[t]=function(){var e=new mt,n=Wc.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var oh=function(e,n,i){return e[n]=i},yg=function(e,n,i){return e[n](i)},cb=function(e,n,i,s){return e[n](s.fp,i)},ub=function(e,n,i){return e.setAttribute(n,i)},ah=function(e,n){return Be(e[n])?yg:Xu(e[n])&&e.setAttribute?ub:oh},vg=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},hb=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Cg=function(e,n){var i=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+s,i=i._next;s+=n.c}n.set(n.t,n.p,s,n)},lh=function(e,n){for(var i=n._pt;i;)i.r(e,i.d),i=i._next},db=function(e,n,i,s){for(var r=this._pt,o;r;)o=r._next,r.p===s&&r.modifier(e,n,i),r=o},fb=function(e){for(var n=this._pt,i,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?fl(this,n,"_pt"):n.dep||(i=1),n=s;return!i},pb=function(e,n,i,s){s.mSet(e,n,s.m.call(s.tween,i,s.mt),s)},Dg=function(e){for(var n=e._pt,i,s,r,o;n;){for(i=n._next,s=r;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:r=n,(n._next=s)?s._prev=n:o=n,n=i}e._pt=r},St=function(){function t(n,i,s,r,o,a,l,c,u){this.t=i,this.s=r,this.c=o,this.p=s,this.r=a||vg,this.d=l||this,this.set=c||oh,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(i,s,r){this.mSet=this.mSet||this.set,this.set=pb,this.m=i,this.mt=r,this.tween=s},t}();Tt(nh+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return th[t]=1});Lt.TweenMax=Lt.TweenLite=He;Lt.TimelineLite=Lt.TimelineMax=mt;Fe=new mt({sortChildren:!1,defaults:$s,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Mt.stringFilter=ug;var is=[],oa={},_b=[],Tf=0,mb=0,Xl=function(e){return(oa[e]||_b).map(function(n){return n()})},zc=function(){var e=Date.now(),n=[];e-Tf>2&&(Xl("matchMediaInit"),is.forEach(function(i){var s=i.queries,r=i.conditions,o,a,l,c;for(a in s)o=dn.matchMedia(s[a]).matches,o&&(l=1),o!==r[a]&&(r[a]=o,c=1);c&&(i.revert(),l&&n.push(i))}),Xl("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i,function(s){return i.add(null,s)})}),Tf=e,Xl("matchMedia"))},Eg=function(){function t(n,i){this.selector=i&&Vc(i),this.data=[],this._r=[],this.isReverted=!1,this.id=mb++,n&&this.add(n)}var e=t.prototype;return e.add=function(i,s,r){Be(i)&&(r=s,s=i,i=Be);var o=this,a=function(){var c=xe,u=o.selector,h;return c&&c!==o&&c.data.push(o),r&&(o.selector=Vc(r)),xe=o,h=s.apply(o,arguments),Be(h)&&o._r.push(h),xe=c,o.selector=u,o.isReverted=!1,h};return o.last=a,i===Be?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var s=xe;xe=null,i(this),xe=s},e.getTweens=function(){var i=[];return this.data.forEach(function(s){return s instanceof t?i.push.apply(i,s.getTweens()):s instanceof He&&!(s.parent&&s.parent.data==="nested")&&i.push(s)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,s){var r=this;if(i?function(){for(var a=r.getTweens(),l=r.data.length,c;l--;)c=r.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=r.data.length;l--;)c=r.data[l],c instanceof mt?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof He)&&c.revert&&c.revert(i);r._r.forEach(function(u){return u(i,r)}),r.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=is.length;o--;)is[o].id===this.id&&is.splice(o,1)},e.revert=function(i){this.kill(i||{})},t}(),gb=function(){function t(n){this.contexts=[],this.scope=n,xe&&xe.data.push(this)}var e=t.prototype;return e.add=function(i,s,r){En(i)||(i={matches:i});var o=new Eg(0,r||this.scope),a=o.conditions={},l,c,u;xe&&!o.selector&&(o.selector=xe.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=i;for(c in i)c==="all"?u=1:(l=dn.matchMedia(i[c]),l&&(is.indexOf(o)<0&&is.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(zc):l.addEventListener("change",zc)));return u&&s(o,function(h){return o.add(null,h)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(s){return s.kill(i,!0)})},t}(),ka={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(s){return ag(s)})},timeline:function(e){return new mt(e)},getTweensOf:function(e,n){return Fe.getTweensOf(e,n)},getProperty:function(e,n,i,s){Je(e)&&(e=Gt(e)[0]);var r=es(e||{}).get,o=i?Km:Gm;return i==="native"&&(i=""),e&&(n?o((Ot[n]&&Ot[n].get||r)(e,n,i,s)):function(a,l,c){return o((Ot[a]&&Ot[a].get||r)(e,a,l,c))})},quickSetter:function(e,n,i){if(e=Gt(e),e.length>1){var s=e.map(function(u){return Rt.quickSetter(u,n,i)}),r=s.length;return function(u){for(var h=r;h--;)s[h](u)}}e=e[0]||{};var o=Ot[n],a=es(e),l=a.harness&&(a.harness.aliases||{})[n]||n,c=o?function(u){var h=new o;Es._pt=0,h.init(e,i?u+i:u,Es,0,[e]),h.render(1,h),Es._pt&&lh(1,Es)}:a.set(e,l);return o?c:function(u){return c(e,l,i?u+i:u,a,1)}},quickTo:function(e,n,i){var s,r=Rt.to(e,Ut((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),i||{})),o=function(l,c,u){return r.resetTo(n,l,c,u)};return o.tween=r,o},isTweening:function(e){return Fe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ns(e.ease,$s.ease)),Cf($s,e||{})},config:function(e){return Cf(Mt,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,s=e.plugins,r=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!Ot[a]&&!Lt[a]&&Qr(n+" effect requires "+a+" plugin.")}),Gl[n]=function(a,l,c){return i(Gt(a),Ut(l||{},r),c)},o&&(mt.prototype[n]=function(a,l,c){return this.add(Gl[n](a,En(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,n){ue[e]=ns(n)},parseEase:function(e,n){return arguments.length?ns(e,n):ue},getById:function(e){return Fe.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var i=new mt(e),s,r;for(i.smoothChildTiming=bt(e.smoothChildTiming),Fe.remove(i),i._dp=0,i._time=i._tTime=Fe._time,s=Fe._first;s;)r=s._next,(n||!(!s._dur&&s instanceof He&&s.vars.onComplete===s._targets[0]))&&_n(i,s,s._start-s._delay),s=r;return _n(Fe,i,0),i},context:function(e,n){return e?new Eg(e,n):xe},matchMedia:function(e){return new gb(e)},matchMediaRefresh:function(){return is.forEach(function(e){var n=e.conditions,i,s;for(s in n)n[s]&&(n[s]=!1,i=1);i&&e.revert()})||zc()},addEventListener:function(e,n){var i=oa[e]||(oa[e]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(e,n){var i=oa[e],s=i&&i.indexOf(n);s>=0&&i.splice(s,1)},utils:{wrap:Yw,wrapYoyo:Qw,distribute:tg,random:ig,snap:ng,normalize:Kw,getUnit:ht,clamp:zw,splitColor:lg,toArray:Gt,selector:Vc,mapRange:rg,pipe:qw,unitize:Gw,interpolate:Xw,shuffle:eg},install:$m,effects:Gl,ticker:Ft,updateRoot:mt.updateRoot,plugins:Ot,globalTimeline:Fe,core:{PropTween:St,globals:Hm,Tween:He,Timeline:mt,Animation:eo,getCache:es,_removeLinkedListItem:fl,reverting:function(){return nt},context:function(e){return e&&xe&&(xe.data.push(e),e._ctx=xe),xe},suppressOverwrites:function(e){return Qu=e}}};Tt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ka[t]=He[t]});Ft.add(mt.updateRoot);Es=ka.to({},{duration:0});var yb=function(e,n){for(var i=e._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},vb=function(e,n){var i=e._targets,s,r,o;for(s in n)for(r=i.length;r--;)o=e._ptLookup[r][s],o&&(o=o.d)&&(o._pt&&(o=yb(o,s)),o&&o.modifier&&o.modifier(n[s],e,i[r],s))},Jl=function(e,n){return{name:e,rawVars:1,init:function(s,r,o){o._onInit=function(a){var l,c;if(Je(r)&&(l={},Tt(r,function(u){return l[u]=1}),r=l),n){l={};for(c in r)l[c]=n(r[c]);r=l}vb(a,r)}}}},Rt=ka.registerPlugin({name:"attr",init:function(e,n,i,s,r){var o,a,l;this.tween=i;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],s,r,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var i=n._pt;i;)nt?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,n){for(var i=n.length;i--;)this.add(e,i,e[i]||0,n[i],0,0,0,0,0,1)}},Jl("roundProps",$c),Jl("modifiers"),Jl("snap",ng))||ka;He.version=mt.version=Rt.version="3.12.7";Vm=1;Ju()&&qs();ue.Power0;ue.Power1;ue.Power2;ue.Power3;ue.Power4;ue.Linear;ue.Quad;ue.Cubic;ue.Quart;ue.Quint;ue.Strong;ue.Elastic;ue.Back;ue.SteppedEase;ue.Bounce;ue.Sine;ue.Expo;ue.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Sf,ci,Fs,ch,Yi,If,uh,Cb=function(){return typeof window<"u"},Hn={},$i=180/Math.PI,Ns=Math.PI/180,gs=Math.atan2,Af=1e8,hh=/([A-Z])/g,Db=/(left|right|width|margin|padding|x)/i,Eb=/[\s,\(]\S/,gn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},jc=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},wb=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},bb=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Tb=function(e,n){var i=n.s+n.c*e;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},wg=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},bg=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Sb=function(e,n,i){return e.style[n]=i},Ib=function(e,n,i){return e.style.setProperty(n,i)},Ab=function(e,n,i){return e._gsap[n]=i},kb=function(e,n,i){return e._gsap.scaleX=e._gsap.scaleY=i},Rb=function(e,n,i,s,r){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},Pb=function(e,n,i,s,r){var o=e._gsap;o[n]=i,o.renderTransform(r,o)},Me="transform",It=Me+"Origin",xb=function t(e,n){var i=this,s=this.target,r=s.style,o=s._gsap;if(e in Hn&&r){if(this.tfm=this.tfm||{},e!=="transform")e=gn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=Pn(s,a)}):this.tfm[e]=o.x?o[e]:Pn(s,e),e===It&&(this.tfm.zOrigin=o.zOrigin);else return gn.transform.split(",").forEach(function(a){return t.call(i,a,n)});if(this.props.indexOf(Me)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(It,n,"")),e=Me}(r||n)&&this.props.push(e,n,r[e])},Tg=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Ob=function(){var e=this.props,n=this.target,i=n.style,s=n._gsap,r,o;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?n[e[r]](e[r+2]):n[e[r]]=e[r+2]:e[r+2]?i[e[r]]=e[r+2]:i.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(hh,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),r=uh(),(!r||!r.isStart)&&!i[Me]&&(Tg(i),s.zOrigin&&i[It]&&(i[It]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},Sg=function(e,n){var i={target:e,props:[],revert:Ob,save:xb};return e._gsap||Rt.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return i.save(s)}),i},Ig,qc=function(e,n){var i=ci.createElementNS?ci.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ci.createElement(e);return i&&i.style?i:ci.createElement(e)},Cn=function t(e,n,i){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(hh,"-$1").toLowerCase())||s.getPropertyValue(n)||!i&&t(e,Gs(n)||n,1)||""},kf="O,Moz,ms,Ms,Webkit".split(","),Gs=function(e,n,i){var s=n||Yi,r=s.style,o=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(kf[o]+e in r););return o<0?null:(o===3?"ms":o>=0?kf[o]:"")+e},Gc=function(){Cb()&&window.document&&(Sf=window,ci=Sf.document,Fs=ci.documentElement,Yi=qc("div")||{style:{}},qc("div"),Me=Gs(Me),It=Me+"Origin",Yi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ig=!!Gs("perspective"),uh=Rt.core.reverting,ch=1)},Rf=function(e){var n=e.ownerSVGElement,i=qc("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),r;s.style.display="block",i.appendChild(s),Fs.appendChild(i);try{r=s.getBBox()}catch{}return i.removeChild(s),Fs.removeChild(i),r},Pf=function(e,n){for(var i=n.length;i--;)if(e.hasAttribute(n[i]))return e.getAttribute(n[i])},Ag=function(e){var n,i;try{n=e.getBBox()}catch{n=Rf(e),i=1}return n&&(n.width||n.height)||i||(n=Rf(e)),n&&!n.width&&!n.x&&!n.y?{x:+Pf(e,["x","cx","x1"])||0,y:+Pf(e,["y","cy","y1"])||0,width:0,height:0}:n},kg=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Ag(e))},ls=function(e,n){if(n){var i=e.style,s;n in Hn&&n!==It&&(n=Me),i.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(s==="--"?n:n.replace(hh,"-$1").toLowerCase())):i.removeAttribute(n)}},ui=function(e,n,i,s,r,o){var a=new St(e._pt,n,i,0,1,o?bg:wg);return e._pt=a,a.b=s,a.e=r,e._props.push(i),a},xf={deg:1,rad:1,turn:1},Fb={grid:1,flex:1},bi=function t(e,n,i,s){var r=parseFloat(i)||0,o=(i+"").trim().substr((r+"").length)||"px",a=Yi.style,l=Db.test(n),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,d=s==="px",f=s==="%",_,p,y,C;if(s===o||!r||xf[s]||xf[o])return r;if(o!=="px"&&!d&&(r=t(e,n,i,"px")),C=e.getCTM&&kg(e),(f||o==="%")&&(Hn[n]||~n.indexOf("adius")))return _=C?e.getBBox()[l?"width":"height"]:e[u],Ve(f?r/_*h:r/100*_);if(a[l?"width":"height"]=h+(d?o:s),p=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!c?e:e.parentNode,C&&(p=(e.ownerSVGElement||{}).parentNode),(!p||p===ci||!p.appendChild)&&(p=ci.body),y=p._gsap,y&&f&&y.width&&l&&y.time===Ft.time&&!y.uncache)return Ve(r/y.width*h);if(f&&(n==="height"||n==="width")){var D=e.style[n];e.style[n]=h+s,_=e[u],D?e.style[n]=D:ls(e,n)}else(f||o==="%")&&!Fb[Cn(p,"display")]&&(a.position=Cn(e,"position")),p===e&&(a.position="static"),p.appendChild(Yi),_=Yi[u],p.removeChild(Yi),a.position="absolute";return l&&f&&(y=es(p),y.time=Ft.time,y.width=p[u]),Ve(d?_*r/h:_&&r?h/_*r:0)},Pn=function(e,n,i,s){var r;return ch||Gc(),n in gn&&n!=="transform"&&(n=gn[n],~n.indexOf(",")&&(n=n.split(",")[0])),Hn[n]&&n!=="transform"?(r=no(e,s),r=n!=="transformOrigin"?r[n]:r.svg?r.origin:Pa(Cn(e,It))+" "+r.zOrigin+"px"):(r=e.style[n],(!r||r==="auto"||s||~(r+"").indexOf("calc("))&&(r=Ra[n]&&Ra[n](e,n,i)||Cn(e,n)||jm(e,n)||(n==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?bi(e,n,r,i)+i:r},Nb=function(e,n,i,s){if(!i||i==="none"){var r=Gs(n,e,1),o=r&&Cn(e,r,1);o&&o!==i?(n=r,i=o):n==="borderColor"&&(i=Cn(e,"borderTopColor"))}var a=new St(this._pt,e.style,n,0,1,Cg),l=0,c=0,u,h,d,f,_,p,y,C,D,E,b,T;if(a.b=i,a.e=s,i+="",s+="",s==="auto"&&(p=e.style[n],e.style[n]=s,s=Cn(e,n)||s,p?e.style[n]=p:ls(e,n)),u=[i,s],ug(u),i=u[0],s=u[1],d=i.match(Ds)||[],T=s.match(Ds)||[],T.length){for(;h=Ds.exec(s);)y=h[0],D=s.substring(l,h.index),_?_=(_+1)%5:(D.substr(-5)==="rgba("||D.substr(-5)==="hsla(")&&(_=1),y!==(p=d[c++]||"")&&(f=parseFloat(p)||0,b=p.substr((f+"").length),y.charAt(1)==="="&&(y=Os(f,y)+b),C=parseFloat(y),E=y.substr((C+"").length),l=Ds.lastIndex-E.length,E||(E=E||Mt.units[n]||b,l===s.length&&(s+=E,a.e+=E)),b!==E&&(f=bi(e,n,p,E)||0),a._pt={_next:a._pt,p:D||c===1?D:",",s:f,c:C-f,m:_&&_<4||n==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=n==="display"&&s==="none"?bg:wg;return Bm.test(s)&&(a.e=0),this._pt=a,a},Of={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Mb=function(e){var n=e.split(" "),i=n[0],s=n[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(e=i,i=s,s=e),n[0]=Of[i]||i,n[1]=Of[s]||s,n.join(" ")},Lb=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,s=i.style,r=n.u,o=i._gsap,a,l,c;if(r==="all"||r===!0)s.cssText="",l=1;else for(r=r.split(","),c=r.length;--c>-1;)a=r[c],Hn[a]&&(l=1,a=a==="transformOrigin"?It:Me),ls(i,a);l&&(ls(i,Me),o&&(o.svg&&i.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",no(i,1),o.uncache=1,Tg(s)))}},Ra={clearProps:function(e,n,i,s,r){if(r.data!=="isFromStart"){var o=e._pt=new St(e._pt,n,i,0,0,Lb);return o.u=s,o.pr=-10,o.tween=r,e._props.push(i),1}}},to=[1,0,0,1,0,0],Rg={},Pg=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Ff=function(e){var n=Cn(e,Me);return Pg(n)?to:n.substr(7).match(Um).map(Ve)},dh=function(e,n){var i=e._gsap||es(e),s=e.style,r=Ff(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,r=[l.a,l.b,l.c,l.d,l.e,l.f],r.join(",")==="1,0,0,1,0,0"?to:r):(r===to&&!e.offsetParent&&e!==Fs&&!i.svg&&(l=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,Fs.appendChild(e)),r=Ff(e),l?s.display=l:ls(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Fs.removeChild(e))),n&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Kc=function(e,n,i,s,r,o){var a=e._gsap,l=r||dh(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,d=a.yOffset||0,f=l[0],_=l[1],p=l[2],y=l[3],C=l[4],D=l[5],E=n.split(" "),b=parseFloat(E[0])||0,T=parseFloat(E[1])||0,S,x,A,k;i?l!==to&&(x=f*y-_*p)&&(A=b*(y/x)+T*(-p/x)+(p*D-y*C)/x,k=b*(-_/x)+T*(f/x)-(f*D-_*C)/x,b=A,T=k):(S=Ag(e),b=S.x+(~E[0].indexOf("%")?b/100*S.width:b),T=S.y+(~(E[1]||E[0]).indexOf("%")?T/100*S.height:T)),s||s!==!1&&a.smooth?(C=b-c,D=T-u,a.xOffset=h+(C*f+D*p)-C,a.yOffset=d+(C*_+D*y)-D):a.xOffset=a.yOffset=0,a.xOrigin=b,a.yOrigin=T,a.smooth=!!s,a.origin=n,a.originIsAbsolute=!!i,e.style[It]="0px 0px",o&&(ui(o,a,"xOrigin",c,b),ui(o,a,"yOrigin",u,T),ui(o,a,"xOffset",h,a.xOffset),ui(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",b+" "+T)},no=function(e,n){var i=e._gsap||new pg(e);if("x"in i&&!n&&!i.uncache)return i;var s=e.style,r=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Cn(e,It)||"0",u,h,d,f,_,p,y,C,D,E,b,T,S,x,A,k,j,ee,L,G,he,De,ie,Z,se,Ct,Dt,ot,Le,An,at,Wt;return u=h=d=p=y=C=D=E=b=0,f=_=1,i.svg=!!(e.getCTM&&kg(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Me]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Me]!=="none"?l[Me]:"")),s.scale=s.rotate=s.translate="none"),x=dh(e,i.svg),i.svg&&(i.uncache?(se=e.getBBox(),c=i.xOrigin-se.x+"px "+(i.yOrigin-se.y)+"px",Z=""):Z=!n&&e.getAttribute("data-svg-origin"),Kc(e,Z||c,!!Z||i.originIsAbsolute,i.smooth!==!1,x)),T=i.xOrigin||0,S=i.yOrigin||0,x!==to&&(ee=x[0],L=x[1],G=x[2],he=x[3],u=De=x[4],h=ie=x[5],x.length===6?(f=Math.sqrt(ee*ee+L*L),_=Math.sqrt(he*he+G*G),p=ee||L?gs(L,ee)*$i:0,D=G||he?gs(G,he)*$i+p:0,D&&(_*=Math.abs(Math.cos(D*Ns))),i.svg&&(u-=T-(T*ee+S*G),h-=S-(T*L+S*he))):(Wt=x[6],An=x[7],Dt=x[8],ot=x[9],Le=x[10],at=x[11],u=x[12],h=x[13],d=x[14],A=gs(Wt,Le),y=A*$i,A&&(k=Math.cos(-A),j=Math.sin(-A),Z=De*k+Dt*j,se=ie*k+ot*j,Ct=Wt*k+Le*j,Dt=De*-j+Dt*k,ot=ie*-j+ot*k,Le=Wt*-j+Le*k,at=An*-j+at*k,De=Z,ie=se,Wt=Ct),A=gs(-G,Le),C=A*$i,A&&(k=Math.cos(-A),j=Math.sin(-A),Z=ee*k-Dt*j,se=L*k-ot*j,Ct=G*k-Le*j,at=he*j+at*k,ee=Z,L=se,G=Ct),A=gs(L,ee),p=A*$i,A&&(k=Math.cos(A),j=Math.sin(A),Z=ee*k+L*j,se=De*k+ie*j,L=L*k-ee*j,ie=ie*k-De*j,ee=Z,De=se),y&&Math.abs(y)+Math.abs(p)>359.9&&(y=p=0,C=180-C),f=Ve(Math.sqrt(ee*ee+L*L+G*G)),_=Ve(Math.sqrt(ie*ie+Wt*Wt)),A=gs(De,ie),D=Math.abs(A)>2e-4?A*$i:0,b=at?1/(at<0?-at:at):0),i.svg&&(Z=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Pg(Cn(e,Me)),Z&&e.setAttribute("transform",Z))),Math.abs(D)>90&&Math.abs(D)<270&&(r?(f*=-1,D+=p<=0?180:-180,p+=p<=0?180:-180):(_*=-1,D+=D<=0?180:-180)),n=n||i.uncache,i.x=u-((i.xPercent=u&&(!n&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=h-((i.yPercent=h&&(!n&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=Ve(f),i.scaleY=Ve(_),i.rotation=Ve(p)+a,i.rotationX=Ve(y)+a,i.rotationY=Ve(C)+a,i.skewX=D+a,i.skewY=E+a,i.transformPerspective=b+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!n&&i.zOrigin||0)&&(s[It]=Pa(c)),i.xOffset=i.yOffset=0,i.force3D=Mt.force3D,i.renderTransform=i.svg?Bb:Ig?xg:Ub,i.uncache=0,i},Pa=function(e){return(e=e.split(" "))[0]+" "+e[1]},Zl=function(e,n,i){var s=ht(n);return Ve(parseFloat(n)+parseFloat(bi(e,"x",i+"px",s)))+s},Ub=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,xg(e,n)},Bi="0deg",dr="0px",Wi=") ",xg=function(e,n){var i=n||this,s=i.xPercent,r=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,h=i.rotationX,d=i.skewX,f=i.skewY,_=i.scaleX,p=i.scaleY,y=i.transformPerspective,C=i.force3D,D=i.target,E=i.zOrigin,b="",T=C==="auto"&&e&&e!==1||C===!0;if(E&&(h!==Bi||u!==Bi)){var S=parseFloat(u)*Ns,x=Math.sin(S),A=Math.cos(S),k;S=parseFloat(h)*Ns,k=Math.cos(S),o=Zl(D,o,x*k*-E),a=Zl(D,a,-Math.sin(S)*-E),l=Zl(D,l,A*k*-E+E)}y!==dr&&(b+="perspective("+y+Wi),(s||r)&&(b+="translate("+s+"%, "+r+"%) "),(T||o!==dr||a!==dr||l!==dr)&&(b+=l!==dr||T?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Wi),c!==Bi&&(b+="rotate("+c+Wi),u!==Bi&&(b+="rotateY("+u+Wi),h!==Bi&&(b+="rotateX("+h+Wi),(d!==Bi||f!==Bi)&&(b+="skew("+d+", "+f+Wi),(_!==1||p!==1)&&(b+="scale("+_+", "+p+Wi),D.style[Me]=b||"translate(0, 0)"},Bb=function(e,n){var i=n||this,s=i.xPercent,r=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,h=i.scaleX,d=i.scaleY,f=i.target,_=i.xOrigin,p=i.yOrigin,y=i.xOffset,C=i.yOffset,D=i.forceCSS,E=parseFloat(o),b=parseFloat(a),T,S,x,A,k;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Ns,c*=Ns,T=Math.cos(l)*h,S=Math.sin(l)*h,x=Math.sin(l-c)*-d,A=Math.cos(l-c)*d,c&&(u*=Ns,k=Math.tan(c-u),k=Math.sqrt(1+k*k),x*=k,A*=k,u&&(k=Math.tan(u),k=Math.sqrt(1+k*k),T*=k,S*=k)),T=Ve(T),S=Ve(S),x=Ve(x),A=Ve(A)):(T=h,A=d,S=x=0),(E&&!~(o+"").indexOf("px")||b&&!~(a+"").indexOf("px"))&&(E=bi(f,"x",o,"px"),b=bi(f,"y",a,"px")),(_||p||y||C)&&(E=Ve(E+_-(_*T+p*x)+y),b=Ve(b+p-(_*S+p*A)+C)),(s||r)&&(k=f.getBBox(),E=Ve(E+s/100*k.width),b=Ve(b+r/100*k.height)),k="matrix("+T+","+S+","+x+","+A+","+E+","+b+")",f.setAttribute("transform",k),D&&(f.style[Me]=k)},Wb=function(e,n,i,s,r){var o=360,a=Je(r),l=parseFloat(r)*(a&&~r.indexOf("rad")?$i:1),c=l-s,u=s+c+"deg",h,d;return a&&(h=r.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),h==="cw"&&c<0?c=(c+o*Af)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*Af)%o-~~(c/o)*o)),e._pt=d=new St(e._pt,n,i,s,c,wb),d.e=u,d.u="deg",e._props.push(i),d},Nf=function(e,n){for(var i in n)e[i]=n[i];return e},Vb=function(e,n,i){var s=Nf({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,u,h,d,f,_;s.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[Me]=n,a=no(i,1),ls(i,Me),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Me],o[Me]=n,a=no(i,1),o[Me]=c);for(l in Hn)c=s[l],u=a[l],c!==u&&r.indexOf(l)<0&&(f=ht(c),_=ht(u),h=f!==_?bi(i,l,c,_):parseFloat(c),d=parseFloat(u),e._pt=new St(e._pt,a,l,h,d-h,jc),e._pt.u=_||0,e._props.push(l));Nf(a,s)};Tt("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",s="Bottom",r="Left",o=(e<3?[n,i,s,r]:[n+r,n+i,s+i,s+r]).map(function(a){return e<2?t+a:"border"+a+t});Ra[e>1?"border"+t:t]=function(a,l,c,u,h){var d,f;if(arguments.length<4)return d=o.map(function(_){return Pn(a,_,c)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(u+"").split(" "),f={},o.forEach(function(_,p){return f[_]=d[p]=d[p]||d[(p-1)/2|0]}),a.init(l,f,h)}});var Og={name:"css",register:Gc,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,i,s,r){var o=this._props,a=e.style,l=i.vars.startAt,c,u,h,d,f,_,p,y,C,D,E,b,T,S,x,A;ch||Gc(),this.styles=this.styles||Sg(e),A=this.styles.props,this.tween=i;for(p in n)if(p!=="autoRound"&&(u=n[p],!(Ot[p]&&_g(p,n,i,s,e,r)))){if(f=typeof u,_=Ra[p],f==="function"&&(u=u.call(i,s,e,r),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=Jr(u)),_)_(this,e,p,u,i)&&(x=1);else if(p.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(p)+"").trim(),u+="",yi.lastIndex=0,yi.test(c)||(y=ht(c),C=ht(u)),C?y!==C&&(c=bi(e,p,c,C)+C):y&&(u+=y),this.add(a,"setProperty",c,u,s,r,0,0,p),o.push(p),A.push(p,0,a[p]);else if(f!=="undefined"){if(l&&p in l?(c=typeof l[p]=="function"?l[p].call(i,s,e,r):l[p],Je(c)&&~c.indexOf("random(")&&(c=Jr(c)),ht(c+"")||c==="auto"||(c+=Mt.units[p]||ht(Pn(e,p))||""),(c+"").charAt(1)==="="&&(c=Pn(e,p))):c=Pn(e,p),d=parseFloat(c),D=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),D&&(u=u.substr(2)),h=parseFloat(u),p in gn&&(p==="autoAlpha"&&(d===1&&Pn(e,"visibility")==="hidden"&&h&&(d=0),A.push("visibility",0,a.visibility),ui(this,a,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),p!=="scale"&&p!=="transform"&&(p=gn[p],~p.indexOf(",")&&(p=p.split(",")[0]))),E=p in Hn,E){if(this.styles.save(p),b||(T=e._gsap,T.renderTransform&&!n.parseTransform||no(e,n.parseTransform),S=n.smoothOrigin!==!1&&T.smooth,b=this._pt=new St(this._pt,a,Me,0,1,T.renderTransform,T,0,-1),b.dep=1),p==="scale")this._pt=new St(this._pt,T,"scaleY",T.scaleY,(D?Os(T.scaleY,D+h):h)-T.scaleY||0,jc),this._pt.u=0,o.push("scaleY",p),p+="X";else if(p==="transformOrigin"){A.push(It,0,a[It]),u=Mb(u),T.svg?Kc(e,u,0,S,0,this):(C=parseFloat(u.split(" ")[2])||0,C!==T.zOrigin&&ui(this,T,"zOrigin",T.zOrigin,C),ui(this,a,p,Pa(c),Pa(u)));continue}else if(p==="svgOrigin"){Kc(e,u,1,S,0,this);continue}else if(p in Rg){Wb(this,T,p,d,D?Os(d,D+u):u);continue}else if(p==="smoothOrigin"){ui(this,T,"smooth",T.smooth,u);continue}else if(p==="force3D"){T[p]=u;continue}else if(p==="transform"){Vb(this,u,e);continue}}else p in a||(p=Gs(p)||p);if(E||(h||h===0)&&(d||d===0)&&!Eb.test(u)&&p in a)y=(c+"").substr((d+"").length),h||(h=0),C=ht(u)||(p in Mt.units?Mt.units[p]:y),y!==C&&(d=bi(e,p,c,C)),this._pt=new St(this._pt,E?T:a,p,d,(D?Os(d,D+h):h)-d,!E&&(C==="px"||p==="zIndex")&&n.autoRound!==!1?Tb:jc),this._pt.u=C||0,y!==C&&C!=="%"&&(this._pt.b=c,this._pt.r=bb);else if(p in a)Nb.call(this,e,p,c,D?D+u:u);else if(p in e)this.add(e,p,c||e[p],D?D+u:u,s,r);else if(p!=="parseTransform"){eh(p,u);continue}E||(p in a?A.push(p,0,a[p]):typeof e[p]=="function"?A.push(p,2,e[p]()):A.push(p,1,c||e[p])),o.push(p)}}x&&Dg(this)},render:function(e,n){if(n.tween._time||!uh())for(var i=n._pt;i;)i.r(e,i.d),i=i._next;else n.styles.revert()},get:Pn,aliases:gn,getSetter:function(e,n,i){var s=gn[n];return s&&s.indexOf(",")<0&&(n=s),n in Hn&&n!==It&&(e._gsap.x||Pn(e,"x"))?i&&If===i?n==="scale"?kb:Ab:(If=i||{})&&(n==="scale"?Rb:Pb):e.style&&!Xu(e.style[n])?Sb:~n.indexOf("-")?Ib:ah(e,n)},core:{_removeProperty:ls,_getMatrix:dh}};Rt.utils.checkPrefix=Gs;Rt.core.getStyleSaver=Sg;(function(t,e,n,i){var s=Tt(t+","+e+","+n,function(r){Hn[r]=1});Tt(e,function(r){Mt.units[r]="deg",Rg[r]=1}),gn[s[13]]=t+","+e,Tt(i,function(r){var o=r.split(":");gn[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Tt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Mt.units[t]="px"});Rt.registerPlugin(Og);var Ms=Rt.registerPlugin(Og)||Rt;Ms.core.Tween;/*!
 * strings: 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $b=/(?:^\s+|\s+$)/g,Hb=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function Fg(t){var e=t.nodeType,n="";if(e===1||e===9||e===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Fg(t)}else if(e===3||e===4)return t.nodeValue;return n}function Yc(t,e,n,i,s){for(var r=t.firstChild,o=[],a;r;)r.nodeType===3?(a=(r.nodeValue+"").replace(/^\n+/g,""),i||(a=a.replace(/\s+/g," ")),o.push.apply(o,Ng(a,e,n,i,s))):(r.nodeName+"").toLowerCase()==="br"?o[o.length-1]+="<br>":o.push(r.outerHTML),r=r.nextSibling;if(!s)for(a=o.length;a--;)o[a]==="&"&&o.splice(a,1,"&amp;");return o}function Ng(t,e,n,i,s){if(t+="",n&&(t=t.trim?t.trim():t.replace($b,"")),e&&e!=="")return t.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var r=[],o=t.length,a=0,l,c;a<o;a++)c=t.charAt(a),(c.charCodeAt(0)>=55296&&c.charCodeAt(0)<=56319||t.charCodeAt(a+1)>=65024&&t.charCodeAt(a+1)<=65039)&&(l=((t.substr(a,12).split(Hb)||[])[1]||"").length||2,c=t.substr(a,l),r.emoji=1,a+=l-1),r.push(s?c:c===">"?"&gt;":c==="<"?"&lt;":i&&c===" "&&(t.charAt(a-1)===" "||t.charAt(a+1)===" ")?"&nbsp;":c);return r}/*!
 * TextPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var wr,Ho,zb=function(){return wr||typeof window<"u"&&(wr=window.gsap)&&wr.registerPlugin&&wr},So={version:"3.12.7",name:"text",init:function(e,n,i){typeof n!="object"&&(n={value:n});var s=e.nodeName.toUpperCase(),r=this,o=n,a=o.newClass,l=o.oldClass,c=o.preserveSpaces,u=o.rtl,h=r.delimiter=n.delimiter||"",d=r.fillChar=n.fillChar||(n.padSpace?"&nbsp;":""),f,_,p,y,C,D,E,b;if(r.svg=e.getBBox&&(s==="TEXT"||s==="TSPAN"),!("innerHTML"in e)&&!r.svg)return!1;if(r.target=e,!("value"in n)){r.text=r.original=[""];return}for(p=Yc(e,h,!1,c,r.svg),Ho||(Ho=document.createElement("div")),Ho.innerHTML=n.value,_=Yc(Ho,h,!1,c,r.svg),r.from=i._from,(r.from||u)&&!(u&&r.from)&&(s=p,p=_,_=s),r.hasClass=!!(a||l),r.newClass=u?l:a,r.oldClass=u?a:l,s=p.length-_.length,f=s<0?p:_,s<0&&(s=-s);--s>-1;)f.push(d);if(n.type==="diff"){for(y=0,C=[],D=[],E="",s=0;s<_.length;s++)b=_[s],b===p[s]?E+=b:(C[y]=E+b,D[y++]=E+p[s],E="");_=C,p=D,E&&(_.push(E),p.push(E))}n.speed&&i.duration(Math.min(.05/n.speed*f.length,n.maxDuration||9999)),r.rtl=u,r.original=p,r.text=_,r._props.push("text")},render:function(e,n){e>1?e=1:e<0&&(e=0),n.from&&(e=1-e);var i=n.text,s=n.hasClass,r=n.newClass,o=n.oldClass,a=n.delimiter,l=n.target,c=n.fillChar,u=n.original,h=n.rtl,d=i.length,f=(h?1-e:e)*d+.5|0,_,p,y;s&&e?(_=r&&f,p=o&&f!==d,y=(_?"<span class='"+r+"'>":"")+i.slice(0,f).join(a)+(_?"</span>":"")+(p?"<span class='"+o+"'>":"")+a+u.slice(f).join(a)+(p?"</span>":"")):y=i.slice(0,f).join(a)+a+u.slice(f).join(a),n.svg?l.textContent=y:l.innerHTML=c==="&nbsp;"&&~y.indexOf("  ")?y.split("  ").join("&nbsp;&nbsp;"):y}};So.splitInnerHTML=Yc;So.emojiSafeSplit=Ng;So.getText=Fg;zb()&&wr.registerPlugin(So);const jb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"372",zoomAndPan:"magnify",viewBox:"0 0 279 217.499994",height:"290",preserveAspectRatio:"xMidYMid meet",version:"1.0"},qb=Pu('<defs><clipPath id="337febfea8"><path d="M 0.320312 0 L 277.933594 0 L 277.933594 217 L 0.320312 217 Z M 0.320312 0 " clip-rule="nonzero"></path></clipPath><clipPath id="8c1f1d667c"><path d="M 82.574219 50.640625 L 197.972656 50.640625 L 197.972656 166.945312 L 82.574219 166.945312 Z M 82.574219 50.640625 " clip-rule="nonzero"></path></clipPath><clipPath id="8a257219fb"><path d="M 140.273438 50.640625 C 108.40625 50.640625 82.574219 76.632812 82.574219 108.691406 C 82.574219 140.753906 108.40625 166.746094 140.273438 166.746094 C 172.140625 166.746094 197.972656 140.753906 197.972656 108.691406 C 197.972656 76.632812 172.140625 50.640625 140.273438 50.640625 Z M 140.273438 50.640625 " clip-rule="nonzero"></path></clipPath><clipPath id="d6b31e1e3e"><path d="M 85.21875 53.085938 L 197.460938 53.085938 L 197.460938 165.328125 L 85.21875 165.328125 Z M 85.21875 53.085938 " clip-rule="nonzero"></path></clipPath></defs><g clip-path="url(#337febfea8)"><path fill="#b9943d" d="M 142.269531 51.238281 C 141.660156 51.238281 140.898438 51.238281 140.285156 51.238281 C 125.039062 51.238281 110.707031 57.183594 100.035156 67.855469 C 89.210938 78.679688 83.414062 92.859375 83.414062 108.109375 C 83.414062 123.355469 89.363281 137.6875 100.035156 148.359375 C 103.847656 152.171875 108.117188 155.375 112.691406 157.8125 C 60.085938 141.804688 44.230469 105.667969 44.230469 105.667969 C 44.230469 105.667969 88.445312 37.667969 187.703125 47.882812 L 193.195312 32.636719 C 193.195312 32.636719 193.039062 32.636719 193.039062 32.636719 L 204.933594 0.3125 L 188.007812 31.875 C 83.566406 18 0.320312 106.277344 0.320312 106.277344 C 0.320312 106.277344 58.5625 168.179688 137.238281 165.132812 C 138.304688 165.132812 139.21875 165.285156 140.285156 165.285156 C 155.535156 165.285156 169.867188 159.335938 180.539062 148.664062 C 191.363281 137.839844 197.15625 123.660156 197.15625 108.414062 C 197.15625 93.167969 191.210938 78.835938 180.539062 68.160156 C 177.488281 65.113281 174.289062 62.519531 170.78125 60.386719 C 219.265625 77.308594 234.054688 111.003906 234.054688 111.003906 C 234.054688 111.003906 189.839844 179.007812 90.582031 168.789062 L 85.09375 184.039062 C 85.09375 184.039062 85.246094 184.039062 85.246094 184.039062 L 73.351562 216.359375 L 90.277344 184.496094 C 194.871094 198.371094 278.117188 110.089844 278.117188 110.089844 C 278.117188 110.089844 220.332031 48.796875 142.269531 51.238281 Z M 140.4375 147.140625 C 118.941406 147.140625 101.40625 129.605469 101.40625 108.109375 C 101.40625 86.609375 118.941406 69.074219 140.4375 69.074219 C 161.9375 69.074219 179.472656 86.609375 179.472656 108.109375 C 179.472656 129.605469 161.9375 147.140625 140.4375 147.140625 Z M 140.4375 147.140625 " fill-opacity="1" fill-rule="nonzero"></path></g><g clip-path="url(#8c1f1d667c)"><g clip-path="url(#8a257219fb)"><path fill="#1a1f2a6e" d="M 82.574219 50.640625 L 197.972656 50.640625 L 197.972656 166.945312 L 82.574219 166.945312 Z M 82.574219 50.640625 " fill-opacity="1" fill-rule="nonzero"></path></g></g><g clip-path="url(#d6b31e1e3e)"><path fill="#b9943d" d="M 141.210938 55.101562 C 171.019531 55.101562 195.1875 79.269531 195.1875 109.078125 C 195.1875 138.890625 171.019531 163.058594 141.210938 163.058594 C 111.398438 163.058594 87.230469 138.890625 87.230469 109.078125 C 87.230469 79.269531 111.398438 55.101562 141.210938 55.101562 Z M 141.210938 53.082031 C 110.285156 53.082031 85.214844 78.152344 85.214844 109.078125 C 85.214844 140.003906 110.285156 165.074219 141.210938 165.074219 C 172.136719 165.074219 197.207031 140.003906 197.207031 109.078125 C 197.207031 78.152344 172.136719 53.082031 141.210938 53.082031 Z M 168.050781 84.167969 L 168.050781 107.585938 L 161.449219 103.324219 L 148.96875 111.074219 L 146.867188 112.378906 L 145.640625 113.140625 L 145.640625 77.230469 L 131.457031 86.019531 L 131.457031 101.46875 L 128.128906 99.214844 L 128.128906 84.167969 L 148.96875 71.253906 Z M 94.605469 109.078125 C 94.605469 83.339844 115.472656 62.476562 141.210938 62.476562 C 166.949219 62.476562 187.816406 83.339844 187.816406 109.078125 C 187.816406 120.972656 183.351562 131.820312 176.019531 140.054688 L 176.019531 115.234375 L 161.5 105.40625 L 145.640625 115.234375 L 145.640625 155.46875 C 144.183594 155.605469 142.707031 155.683594 141.210938 155.683594 C 139.714844 155.683594 138.238281 155.605469 136.78125 155.46875 L 136.78125 107.328125 L 122.261719 97.5 L 106.402344 107.328125 L 106.402344 140.054688 C 99.066406 131.820312 94.605469 120.972656 94.605469 109.078125 Z M 108.933594 108.738281 L 119.726562 102.050781 L 119.726562 150.433594 C 115.761719 148.367188 112.128906 145.75 108.933594 142.679688 Z M 148.175781 116.648438 L 158.96875 109.957031 L 158.96875 152.171875 C 155.554688 153.582031 151.9375 154.601562 148.175781 155.164062 Z M 89.933594 109.078125 C 89.933594 137.398438 112.890625 160.355469 141.210938 160.355469 C 169.53125 160.355469 192.488281 137.398438 192.488281 109.078125 C 192.488281 80.761719 169.53125 57.804688 141.210938 57.804688 C 112.890625 57.804688 89.933594 80.761719 89.933594 109.078125 " fill-opacity="1" fill-rule="nonzero"></path></g>',4),Gb=[qb];function Kb(t,e){return N(),W("svg",jb,[...Gb])}const fh={render:Kb},Xt=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Yb={name:"App",setup(){return Ms.registerPlugin(So),{store:Ze}},methods:{logout(){Ze.logout(),this.$router.push("/"),Em(Fm(this.app)).then(()=>{Ze.logout()}).catch(t=>{console.error(t)})}}},Qb={id:"app"},Xb={key:0},Jb={key:1},Zb={key:2},eT={key:3},tT={key:4};function nT(t,e,n,i,s,r){const o=ct("router-link"),a=ct("router-view");return N(),W("div",Qb,[v("nav",null,[v("img",{src:fh,onClick:e[0]||(e[0]=(...l)=>t.toggleTimeline&&t.toggleTimeline(...l))}),v("ul",null,[v("li",null,[fe(o,{to:"/"},{default:_t(()=>[Ge("Home")]),_:1})]),i.store.isAuthenticated?(N(),W("li",Xb,[fe(o,{to:"/dashboard"},{default:_t(()=>[Ge("Dashboard")]),_:1})])):_e("",!0),i.store.isAuthenticated?(N(),W("li",Jb,[fe(o,{to:"/bestiary"},{default:_t(()=>[Ge("Bestiary")]),_:1})])):_e("",!0),i.store.isAuthenticated?(N(),W("li",Zb,[fe(o,{to:"/case-files"},{default:_t(()=>[Ge("Case Files")]),_:1})])):_e("",!0),i.store.isAuthenticated?(N(),W("li",eT,[fe(o,{to:"/profile"},{default:_t(()=>[Ge("Profile")]),_:1})])):_e("",!0),i.store.isAuthenticated?(N(),W("li",tT,[v("a",{href:"#",onClick:e[1]||(e[1]=(...l)=>r.logout&&r.logout(...l))},"Logout")])):_e("",!0)])]),v("main",null,[fe(a,null,{default:_t(({Component:l})=>[fe(Fu,{name:"slide-fade"},{default:_t(()=>[(N(),xt(h_(l)))]),_:2},1024)]),_:1})])])}const iT=Xt(Yb,[["render",nT],["__scopeId","data-v-2f834c1b"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const vs=typeof document<"u";function sT(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ve=Object.assign;function ec(t,e){const n={};for(const i in e){const s=e[i];n[i]=an(s)?s.map(t):t(s)}return n}const Or=()=>{},an=Array.isArray,Mg=/#/g,rT=/&/g,oT=/\//g,aT=/=/g,lT=/\?/g,Lg=/\+/g,cT=/%5B/g,uT=/%5D/g,Ug=/%5E/g,hT=/%60/g,Bg=/%7B/g,dT=/%7C/g,Wg=/%7D/g,fT=/%20/g;function ph(t){return encodeURI(""+t).replace(dT,"|").replace(cT,"[").replace(uT,"]")}function pT(t){return ph(t).replace(Bg,"{").replace(Wg,"}").replace(Ug,"^")}function Qc(t){return ph(t).replace(Lg,"%2B").replace(fT,"+").replace(Mg,"%23").replace(rT,"%26").replace(hT,"`").replace(Bg,"{").replace(Wg,"}").replace(Ug,"^")}function _T(t){return Qc(t).replace(aT,"%3D")}function mT(t){return ph(t).replace(Mg,"%23").replace(lT,"%3F")}function gT(t){return t==null?"":mT(t).replace(oT,"%2F")}function io(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const yT=/\/$/,vT=t=>t.replace(yT,"");function tc(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=wT(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:io(o)}}function CT(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Mf(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function DT(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Ks(e.matched[i],n.matched[s])&&Vg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ks(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Vg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ET(t[n],e[n]))return!1;return!0}function ET(t,e){return an(t)?Lf(t,e):an(e)?Lf(e,t):t===e}function Lf(t,e){return an(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function wT(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}var so;(function(t){t.pop="pop",t.push="push"})(so||(so={}));var Fr;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Fr||(Fr={}));function bT(t){if(!t)if(vs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vT(t)}const TT=/^[^#]+#/;function ST(t,e){return t.replace(TT,"#")+e}function IT(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const ml=()=>({left:window.scrollX,top:window.scrollY});function AT(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=IT(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Uf(t,e){return(history.state?history.state.position-e:-1)+t}const Xc=new Map;function kT(t,e){Xc.set(t,e)}function RT(t){const e=Xc.get(t);return Xc.delete(t),e}let PT=()=>location.protocol+"//"+location.host;function $g(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Mf(l,"")}return Mf(n,t)+i+s}function xT(t,e,n,i){let s=[],r=[],o=null;const a=({state:d})=>{const f=$g(t,location),_=n.value,p=e.value;let y=0;if(d){if(n.value=f,e.value=d,o&&o===_){o=null;return}y=p?d.position-p.position:0}else i(f);s.forEach(C=>{C(n.value,_,{delta:y,type:so.pop,direction:y?y>0?Fr.forward:Fr.back:Fr.unknown})})};function l(){o=n.value}function c(d){s.push(d);const f=()=>{const _=s.indexOf(d);_>-1&&s.splice(_,1)};return r.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(ve({},d.state,{scroll:ml()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Bf(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?ml():null}}function OT(t){const{history:e,location:n}=window,i={value:$g(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:PT()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){const u=ve({},e.state,Bf(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=ve({},s.value,e.state,{forward:l,scroll:ml()});r(u.current,u,!0);const h=ve({},Bf(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function FT(t){t=bT(t);const e=OT(t),n=xT(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=ve({location:"",base:t,go:i,createHref:ST.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function NT(t){return typeof t=="string"||t&&typeof t=="object"}function Hg(t){return typeof t=="string"||typeof t=="symbol"}const Jn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},zg=Symbol("");var Wf;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Wf||(Wf={}));function Ys(t,e){return ve(new Error,{type:t,[zg]:!0},e)}function kn(t,e){return t instanceof Error&&zg in t&&(e==null||!!(t.type&e))}const Vf="[^/]+?",MT={sensitive:!1,strict:!1,start:!0,end:!0},LT=/[.+*?^${}()[\]/\\]/g;function UT(t,e){const n=ve({},MT,e),i=[];let s=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(LT,"\\$&"),f+=40;else if(d.type===1){const{value:_,repeatable:p,optional:y,regexp:C}=d;r.push({name:_,repeatable:p,optional:y});const D=C||Vf;if(D!==Vf){f+=10;try{new RegExp(`(${D})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${_}" (${D}): `+b.message)}}let E=p?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;h||(E=y&&c.length<2?`(?:/${E})`:"/"+E),y&&(E+="?"),s+=E,f+=20,y&&(f+=-8),p&&(f+=-20),D===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",_=r[d-1];h[_.name]=f&&_.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:_,repeatable:p,optional:y}=f,C=_ in c?c[_]:"";if(an(C)&&!p)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const D=an(C)?C.join("/"):C;if(!D)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=D}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function BT(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function WT(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=BT(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if($f(i))return 1;if($f(s))return-1}return s.length-i.length}function $f(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const VT={type:0,value:""},$T=/[a-zA-Z0-9_]/;function HT(t){if(!t)return[[]];if(t==="/")return[[VT]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:l==="("?n=2:$T.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function zT(t,e,n){const i=UT(HT(t.path),n),s=ve(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function jT(t,e){const n=[],i=new Map;e=jf({strict:!1,end:!0,sensitive:!1},e);function s(u){return i.get(u)}function r(u,h,d){const f=!d,_=qT(u);_.aliasOf=d&&d.record;const p=jf(e,u),y=[_];if("alias"in u){const E=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of E)y.push(ve({},_,{components:d?d.record.components:_.components,path:b,aliasOf:d?d.record:_}))}let C,D;for(const E of y){const{path:b}=E;if(h&&b[0]!=="/"){const T=h.record.path,S=T[T.length-1]==="/"?"":"/";E.path=h.record.path+(b&&S+b)}if(C=zT(E,h,p),d?d.alias.push(C):(D=D||C,D!==C&&D.alias.push(C),f&&u.name&&!zf(C)&&o(u.name)),_.children){const T=_.children;for(let S=0;S<T.length;S++)r(T[S],C,d&&d.children[S])}d=d||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&l(C)}return D?()=>{o(D)}:Or}function o(u){if(Hg(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&WT(u,n[h])>=0&&(u.record.path!==n[h].record.path||!jg(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!zf(u)&&i.set(u.record.name,u)}function c(u,h){let d,f={},_,p;if("name"in u&&u.name){if(d=i.get(u.name),!d)throw Ys(1,{location:u});p=d.record.name,f=ve(Hf(h.params,d.keys.filter(D=>!D.optional).concat(d.parent?d.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),u.params&&Hf(u.params,d.keys.map(D=>D.name))),_=d.stringify(f)}else if(u.path!=null)_=u.path,d=n.find(D=>D.re.test(_)),d&&(f=d.parse(_),p=d.record.name);else{if(d=h.name?i.get(h.name):n.find(D=>D.re.test(h.path)),!d)throw Ys(1,{location:u,currentLocation:h});p=d.record.name,f=ve({},h.params,u.params),_=d.stringify(f)}const y=[];let C=d;for(;C;)y.unshift(C.record),C=C.parent;return{name:p,path:_,params:f,matched:y,meta:KT(y)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Hf(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function qT(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:GT(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function GT(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function zf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function KT(t){return t.reduce((e,n)=>ve(e,n.meta),{})}function jf(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function jg(t,e){return e.children.some(n=>n===t||jg(t,n))}function YT(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(Lg," "),o=r.indexOf("="),a=io(o<0?r:r.slice(0,o)),l=o<0?null:io(r.slice(o+1));if(a in e){let c=e[a];an(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function qf(t){let e="";for(let n in t){const i=t[n];if(n=_T(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(an(i)?i.map(r=>r&&Qc(r)):[i&&Qc(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function QT(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=an(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const XT=Symbol(""),Gf=Symbol(""),_h=Symbol(""),qg=Symbol(""),Jc=Symbol("");function fr(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ii(t,e,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Ys(4,{from:n,to:e})):d instanceof Error?l(d):NT(d)?l(Ys(2,{from:e,to:d})):(o&&i.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>t.call(i&&i.instances[s],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function nc(t,e,n,i,s=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(JT(l)){const u=(l.__vccOpts||l)[e];u&&r.push(ii(u,n,i,o,a,s))}else{let c=l();r.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=sT(u)?u.default:u;o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&ii(f,n,i,o,a,s)()}))}}return r}function JT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Kf(t){const e=Ln(_h),n=Ln(qg),i=en(()=>{const l=Is(t.to);return e.resolve(l)}),s=en(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Ks.bind(null,u));if(d>-1)return d;const f=Yf(l[c-2]);return c>1&&Yf(u)===f&&h[h.length-1].path!==f?h.findIndex(Ks.bind(null,l[c-2])):d}),r=en(()=>s.value>-1&&nS(n.params,i.value.params)),o=en(()=>s.value>-1&&s.value===n.matched.length-1&&Vg(n.params,i.value.params));function a(l={}){return tS(l)?e[Is(t.replace)?"replace":"push"](Is(t.to)).catch(Or):Promise.resolve()}return{route:i,href:en(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const ZT=y_({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Kf,setup(t,{slots:e}){const n=mo(Kf(t)),{options:i}=Ln(_h),s=en(()=>({[Qf(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Qf(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Ou("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),eS=ZT;function tS(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nS(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!an(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Yf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qf=(t,e,n)=>t??e??n,iS=y_({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Ln(Jc),s=en(()=>t.route||i.value),r=Ln(Gf,0),o=en(()=>{let c=Is(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=en(()=>s.value.matched[o.value]);Qo(Gf,en(()=>o.value+1)),Qo(XT,a),Qo(Jc,s);const l=Ss();return Ko(()=>[l.value,a.value,t.name],([c,u,h],[d,f,_])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ks(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return Xf(n.default,{Component:d,route:c});const f=h.props[u],_=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=Ou(d,ve({},_,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Xf(n.default,{Component:y,route:c})||y}}});function Xf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const sS=iS;function rS(t){const e=jT(t.routes,t),n=t.parseQuery||YT,i=t.stringifyQuery||qf,s=t.history,r=fr(),o=fr(),a=fr(),l=Yy(Jn);let c=Jn;vs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ec.bind(null,R=>""+R),h=ec.bind(null,gT),d=ec.bind(null,io);function f(R,H){let V,q;return Hg(R)?(V=e.getRecordMatcher(R),q=H):q=R,e.addRoute(q,V)}function _(R){const H=e.getRecordMatcher(R);H&&e.removeRoute(H)}function p(){return e.getRoutes().map(R=>R.record)}function y(R){return!!e.getRecordMatcher(R)}function C(R,H){if(H=ve({},H||l.value),typeof R=="string"){const g=tc(n,R,H.path),w=e.resolve({path:g.path},H),P=s.createHref(g.fullPath);return ve(g,w,{params:d(w.params),hash:io(g.hash),redirectedFrom:void 0,href:P})}let V;if(R.path!=null)V=ve({},R,{path:tc(n,R.path,H.path).path});else{const g=ve({},R.params);for(const w in g)g[w]==null&&delete g[w];V=ve({},R,{params:h(g)}),H.params=h(H.params)}const q=e.resolve(V,H),ye=R.hash||"";q.params=u(d(q.params));const Oe=CT(i,ve({},R,{hash:pT(ye),path:q.path})),m=s.createHref(Oe);return ve({fullPath:Oe,hash:ye,query:i===qf?QT(R.query):R.query||{}},q,{redirectedFrom:void 0,href:m})}function D(R){return typeof R=="string"?tc(n,R,l.value.path):ve({},R)}function E(R,H){if(c!==R)return Ys(8,{from:H,to:R})}function b(R){return x(R)}function T(R){return b(ve(D(R),{replace:!0}))}function S(R){const H=R.matched[R.matched.length-1];if(H&&H.redirect){const{redirect:V}=H;let q=typeof V=="function"?V(R):V;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=D(q):{path:q},q.params={}),ve({query:R.query,hash:R.hash,params:q.path!=null?{}:R.params},q)}}function x(R,H){const V=c=C(R),q=l.value,ye=R.state,Oe=R.force,m=R.replace===!0,g=S(V);if(g)return x(ve(D(g),{state:typeof g=="object"?ve({},ye,g.state):ye,force:Oe,replace:m}),H||V);const w=V;w.redirectedFrom=H;let P;return!Oe&&DT(i,q,V)&&(P=Ys(16,{to:w,from:q}),ot(q,q,!0,!1)),(P?Promise.resolve(P):j(w,q)).catch(I=>kn(I)?kn(I,2)?I:Dt(I):se(I,w,q)).then(I=>{if(I){if(kn(I,2))return x(ve({replace:m},D(I.to),{state:typeof I.to=="object"?ve({},ye,I.to.state):ye,force:Oe}),H||w)}else I=L(w,q,!0,m,ye);return ee(w,q,I),I})}function A(R,H){const V=E(R,H);return V?Promise.reject(V):Promise.resolve()}function k(R){const H=at.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(R):R()}function j(R,H){let V;const[q,ye,Oe]=oS(R,H);V=nc(q.reverse(),"beforeRouteLeave",R,H);for(const g of q)g.leaveGuards.forEach(w=>{V.push(ii(w,R,H))});const m=A.bind(null,R,H);return V.push(m),lt(V).then(()=>{V=[];for(const g of r.list())V.push(ii(g,R,H));return V.push(m),lt(V)}).then(()=>{V=nc(ye,"beforeRouteUpdate",R,H);for(const g of ye)g.updateGuards.forEach(w=>{V.push(ii(w,R,H))});return V.push(m),lt(V)}).then(()=>{V=[];for(const g of Oe)if(g.beforeEnter)if(an(g.beforeEnter))for(const w of g.beforeEnter)V.push(ii(w,R,H));else V.push(ii(g.beforeEnter,R,H));return V.push(m),lt(V)}).then(()=>(R.matched.forEach(g=>g.enterCallbacks={}),V=nc(Oe,"beforeRouteEnter",R,H,k),V.push(m),lt(V))).then(()=>{V=[];for(const g of o.list())V.push(ii(g,R,H));return V.push(m),lt(V)}).catch(g=>kn(g,8)?g:Promise.reject(g))}function ee(R,H,V){a.list().forEach(q=>k(()=>q(R,H,V)))}function L(R,H,V,q,ye){const Oe=E(R,H);if(Oe)return Oe;const m=H===Jn,g=vs?history.state:{};V&&(q||m?s.replace(R.fullPath,ve({scroll:m&&g&&g.scroll},ye)):s.push(R.fullPath,ye)),l.value=R,ot(R,H,V,m),Dt()}let G;function he(){G||(G=s.listen((R,H,V)=>{if(!Wt.listening)return;const q=C(R),ye=S(q);if(ye){x(ve(ye,{replace:!0}),q).catch(Or);return}c=q;const Oe=l.value;vs&&kT(Uf(Oe.fullPath,V.delta),ml()),j(q,Oe).catch(m=>kn(m,12)?m:kn(m,2)?(x(m.to,q).then(g=>{kn(g,20)&&!V.delta&&V.type===so.pop&&s.go(-1,!1)}).catch(Or),Promise.reject()):(V.delta&&s.go(-V.delta,!1),se(m,q,Oe))).then(m=>{m=m||L(q,Oe,!1),m&&(V.delta&&!kn(m,8)?s.go(-V.delta,!1):V.type===so.pop&&kn(m,20)&&s.go(-1,!1)),ee(q,Oe,m)}).catch(Or)}))}let De=fr(),ie=fr(),Z;function se(R,H,V){Dt(R);const q=ie.list();return q.length?q.forEach(ye=>ye(R,H,V)):console.error(R),Promise.reject(R)}function Ct(){return Z&&l.value!==Jn?Promise.resolve():new Promise((R,H)=>{De.add([R,H])})}function Dt(R){return Z||(Z=!R,he(),De.list().forEach(([H,V])=>R?V(R):H()),De.reset()),R}function ot(R,H,V,q){const{scrollBehavior:ye}=t;if(!vs||!ye)return Promise.resolve();const Oe=!V&&RT(Uf(R.fullPath,0))||(q||!V)&&history.state&&history.state.scroll||null;return go().then(()=>ye(R,H,Oe)).then(m=>m&&AT(m)).catch(m=>se(m,R,H))}const Le=R=>s.go(R);let An;const at=new Set,Wt={currentRoute:l,listening:!0,addRoute:f,removeRoute:_,hasRoute:y,getRoutes:p,resolve:C,options:t,push:b,replace:T,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:Ct,install(R){const H=this;R.component("RouterLink",eS),R.component("RouterView",sS),R.config.globalProperties.$router=H,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Is(l)}),vs&&!An&&l.value===Jn&&(An=!0,b(s.location).catch(ye=>{}));const V={};for(const ye in Jn)Object.defineProperty(V,ye,{get:()=>l.value[ye],enumerable:!0});R.provide(_h,H),R.provide(qg,Jp(V)),R.provide(Jc,l);const q=R.unmount;at.add(R),R.unmount=function(){at.delete(R),at.size<1&&(c=Jn,G&&G(),G=null,l.value=Jn,An=!1,Z=!1),q()}}};function lt(R){return R.reduce((H,V)=>H.then(()=>k(V)),Promise.resolve())}return Wt}function oS(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ks(c,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ks(c,l))||s.push(l))}return[n,i,s]}var Jf={};const Zf="@firebase/database",ep="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg="";function aS(t){Gg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lS(e)}}catch{}return new cS},Qi=Kg("localStorage"),uS=Kg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Uu("@firebase/database"),hS=function(){let t=1;return function(){return t++}}(),Yg=function(t){const e=lC(t),n=new sC;n.update(e);const i=n.digest();return Nu.encodeByteArray(i)},Io=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Io.apply(null,i):typeof i=="object"?e+=Ke(i):e+=i,e+=" "}return e};let Nr=null,tp=!0;const dS=function(t,e){F(!e,"Can't turn on custom loggers persistently."),Ls.logLevel=we.VERBOSE,Nr=Ls.log.bind(Ls)},et=function(...t){if(tp===!0&&(tp=!1,Nr===null&&uS.get("logging_enabled")===!0&&dS()),Nr){const e=Io.apply(null,t);Nr(e)}},Ao=function(t){return function(...e){et(t,...e)}},Zc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Io(...t);Ls.error(e)},zn=function(...t){const e=`FIREBASE FATAL ERROR: ${Io(...t)}`;throw Ls.error(e),new Error(e)},vt=function(...t){const e="FIREBASE WARNING: "+Io(...t);Ls.warn(e)},fS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pS=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qs="[MIN_NAME]",cs="[MAX_NAME]",ps=function(t,e){if(t===e)return 0;if(t===Qs||e===cs)return-1;if(e===Qs||t===cs)return 1;{const n=np(t),i=np(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},_S=function(t,e){return t===e?0:t<e?-1:1},pr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},gh=function(t){if(typeof t!="object"||t===null)return Ke(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ke(e[i]),n+=":",n+=gh(t[e[i]]);return n+="}",n},Qg=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function st(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xg=function(t){F(!mh(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(u.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},mS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yS(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const vS=new RegExp("^-?(0*)\\d{1,10}$"),CS=-2147483648,DS=2147483647,np=function(t){if(vS.test(t)){const e=Number(t);if(e>=CS&&e<=DS)return e}return null},or=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},ES=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Mr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(e)}}class aa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}aa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="5",Jg="v",Zg="s",e0="r",t0="f",n0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,i0="ls",s0="p",eu="ac",r0="websocket",o0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,i,s,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function TS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function l0(t,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let i;if(e===r0)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===o0)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TS(t)&&(n.ns=t.namespace);const s=[];return st(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.counters_={}}incrementCounter(e,n=1){bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return V1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic={},sc={};function vh(t){const e=t.toString();return ic[e]||(ic[e]=new SS),ic[e]}function IS(t,e){const n=t.toString();return sc[n]||(sc[n]=e()),sc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&or(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="start",kS="close",RS="pLPCommand",PS="pRTLPCB",c0="id",u0="pw",h0="ser",xS="cb",OS="seg",FS="ts",NS="d",MS="dframe",d0=1870,f0=30,LS=d0-f0,US=25e3,BS=3e4;class ws{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ao(e),this.stats_=vh(n),this.urlFn=l=>(this.appCheckToken&&(l[eu]=this.appCheckToken),l0(n,o0,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BS)),pS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ch((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ip)this.id=a,this.password=l;else if(o===kS)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[ip]="t",i[h0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[xS]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Jg]=yh,this.transportSessionId&&(i[Zg]=this.transportSessionId),this.lastSessionId&&(i[i0]=this.lastSessionId),this.applicationId&&(i[s0]=this.applicationId),this.appCheckToken&&(i[eu]=this.appCheckToken),typeof location<"u"&&location.hostname&&n0.test(location.hostname)&&(i[e0]=t0);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ws.forceAllow_=!0}static forceDisallow(){ws.forceDisallow_=!0}static isAvailable(){return ws.forceAllow_?!0:!ws.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mS()&&!gS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=W_(n),s=Qg(i,LS);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[MS]="t",i[c0]=e,i[u0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ch{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hS(),window[RS+this.uniqueCallbackIdentifier]=e,window[PS+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ch.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){et("frame writing exception"),a.stack&&et(a.stack),et(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[c0]=this.myID,e[u0]=this.myPW,e[h0]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+f0+i.length<=d0;){const o=this.pendingSegs.shift();i=i+"&"+OS+s+"="+o.seg+"&"+FS+s+"="+o.ts+"&"+NS+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(US)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=16384,VS=45e3;let xa=null;typeof MozWebSocket<"u"?xa=MozWebSocket:typeof WebSocket<"u"&&(xa=WebSocket);class tn{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ao(this.connId),this.stats_=vh(n),this.connURL=tn.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[Jg]=yh,typeof location<"u"&&location.hostname&&n0.test(location.hostname)&&(o[e0]=t0),n&&(o[Zg]=n),i&&(o[i0]=i),s&&(o[eu]=s),r&&(o[s0]=r),l0(e,r0,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qi.set("previous_websocket_failure",!0);try{let i;q_(),this.mySock=new xa(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&xa!==null&&!tn.forceDisallow_}static previouslyFailed(){return Qi.isInMemoryStorage||Qi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=qr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Qg(n,WS);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VS))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ws,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=tn&&tn.isAvailable();let i=n&&!tn.previouslyFailed();if(e.webSocketOnly&&(n||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[tn];else{const s=this.transports_=[];for(const r of ro.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);ro.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ro.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=6e4,HS=5e3,zS=10*1024,jS=100*1024,rc="t",sp="d",qS="s",rp="r",GS="e",op="o",ap="a",lp="n",cp="p",KS="h";class YS{constructor(e,n,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ao("c:"+this.id+":"),this.transportManager_=new ro(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Mr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rc in e){const n=e[rc];n===ap?this.upgradeIfSecondaryHealthy_():n===rp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===op&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=pr("t",e),i=pr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ap,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=pr("t",e),i=pr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=pr(rc,e);if(sp in e){const i=e[sp];if(n===KS){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===lp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qS?this.onConnectionShutdown_(i):n===rp?this.onReset_(i):n===GS?Zc("Server Error: "+i):n===op?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yh!==i&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Mr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($S))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends _0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oa}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=32,hp=768;class be{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function pe(){return new be("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ti(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new be(t.pieces_,e)}function Dh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function QS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function oo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function m0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new be(e,0)}function Ue(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof be)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new be(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function yt(t,e){const n=re(t),i=re(e);if(n===null)return e;if(n===i)return yt(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XS(t,e){const n=oo(t,0),i=oo(e,0);for(let s=0;s<n.length&&s<i.length;s++){const r=ps(n[s],i[s]);if(r!==0)return r}return n.length===i.length?0:n.length<i.length?-1:1}function Eh(t,e){if(Ti(t)!==Ti(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Kt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ti(t)>Ti(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class JS{constructor(e,n){this.errorPrefix_=n,this.parts_=oo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ll(this.parts_[i]);g0(this)}}function ZS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ll(e),g0(t)}function eI(t){const e=t.parts_.pop();t.byteLength_-=ll(e),t.parts_.length>0&&(t.byteLength_-=1)}function g0(t){if(t.byteLength_>hp)throw new Error(t.errorPrefix_+"has a key path longer than "+hp+" bytes ("+t.byteLength_+").");if(t.parts_.length>up)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+up+") or object contains a cycle "+Hi(t))}function Hi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends _0{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new wh}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=1e3,tI=60*5*1e3,dp=30*1e3,nI=1.3,iI=3e4,sI="server_kill",fp=3;class Bn extends p0{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Bn.nextPersistentConnectionId_++,this.log_=Ao("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_r,this.maxReconnectDelay_=tI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!q_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Ke(r)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new vo,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Bn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bn(e,"w")){const i=Ws(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||iC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=nC(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zc("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iI&&(this.reconnectDelay_=_r),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Bn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(h){F(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new YS(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{vt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(sI)},r))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&vt(h),l())}}}interrupt(e){et("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){et("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bc(this.interruptReasons_)&&(this.reconnectDelay_=_r,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>gh(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new be(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){et("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fp&&(this.reconnectDelay_=dp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){et("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Gg.replace(/\./g,"-")]=1,Lu()?e["framework.cordova"]=1:j_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oa.getInstance().currentlyOnline();return bc(this.interruptReasons_)&&e}}Bn.nextPersistentConnectionId_=0;Bn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new oe(Qs,e),s=new oe(Qs,n);return this.compare(i,s)!==0}minPost(){return oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo;class y0 extends gl{static get __EMPTY_NODE(){return zo}static set __EMPTY_NODE(e){zo=e}compare(e,n){return ps(e.name,n.name)}isDefinedOn(e){throw nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(cs,zo)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,zo)}toString(){return".key"}}const Us=new y0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xe{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Xe.RED,this.left=s??wt.EMPTY_NODE,this.right=r??wt.EMPTY_NODE}copy(e,n,i,s,r){return new Xe(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xe.RED=!0;Xe.BLACK=!1;class rI{copy(e,n,i,s,r){return this}insert(e,n,i){return new Xe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class wt{constructor(e,n=wt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new wt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xe.BLACK,null,null))}remove(e){return new wt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}}wt.EMPTY_NODE=new rI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t,e){return ps(t.name,e.name)}function bh(t,e){return ps(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;function aI(t){tu=t}const v0=function(t){return typeof t=="number"?"number:"+Xg(t):"string:"+t},C0=function(t){if(t.isLeafNode()){const e=t.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bn(e,".sv"),"Priority must be a string or number.")}else F(t===tu||t.isEmpty(),"priority of unexpected type.");F(t===tu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp;class Qe{constructor(e,n=Qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),C0(this.priorityNode_)}static set __childrenNodeConstructor(e){pp=e}static get __childrenNodeConstructor(){return pp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:re(e)===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=re(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(F(i!==".priority"||Ti(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+v0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Xg(this.value_):e+=this.value_,this.lazyHash_=Yg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qe.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Qe.VALUE_TYPE_ORDER.indexOf(n),r=Qe.VALUE_TYPE_ORDER.indexOf(i);return F(s>=0,"Unknown leaf type: "+n),F(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0,E0;function lI(t){D0=t}function cI(t){E0=t}class uI extends gl{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?ps(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(cs,new Qe("[PRIORITY-POST]",E0))}makePost(e,n){const i=D0(e);return new oe(n,new Qe("[PRIORITY-POST]",i))}toString(){return".priority"}}const We=new uI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=Math.log(2);class dI{constructor(e){const n=r=>parseInt(Math.log(r)/hI,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Fa=function(t,e,n,i){t.sort(e);const s=function(l,c){const u=c-l;let h,d;if(u===0)return null;if(u===1)return h=t[l],d=n?n(h):h,new Xe(d,h.node,Xe.BLACK,null,null);{const f=parseInt(u/2,10)+l,_=s(l,f),p=s(f+1,c);return h=t[f],d=n?n(h):h,new Xe(d,h.node,Xe.BLACK,_,p)}},r=function(l){let c=null,u=null,h=t.length;const d=function(_,p){const y=h-_,C=h;h-=_;const D=s(y+1,C),E=t[y],b=n?n(E):E;f(new Xe(b,E.node,p,null,D))},f=function(_){c?(c.left=_,c=_):(u=_,c=_)};for(let _=0;_<l.count;++_){const p=l.nextBitIsOne(),y=Math.pow(2,l.count-(_+1));p?d(y,Xe.BLACK):(d(y,Xe.BLACK),d(y,Xe.RED))}return u},o=new dI(t.length),a=r(o);return new wt(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc;const ys={};class Nn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return F(ys&&We,"ChildrenNode.ts has not been loaded"),oc=oc||new Nn({".priority":ys},{".priority":We}),oc}get(e){const n=Ws(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wt?n:null}hasIndex(e){return bn(this.indexSet_,e.toString())}addIndex(e,n){F(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(oe.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=Fa(i,e.getCompare()):a=ys;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Nn(u,c)}addToIndexes(e,n){const i=ga(this.indexes_,(s,r)=>{const o=Ws(this.indexSet_,r);if(F(o,"Missing index implementation for "+r),s===ys)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(oe.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Fa(a,o.getCompare())}else return ys;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new oe(e.name,a))),l.insert(e,e.node)}});return new Nn(i,this.indexSet_)}removeFromIndexes(e,n){const i=ga(this.indexes_,s=>{if(s===ys)return s;{const r=n.get(e.name);return r?s.remove(new oe(e.name,r)):s}});return new Nn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mr;class X{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&C0(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mr||(mr=new X(new wt(bh),null,Nn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mr}updatePriority(e){return this.children_.isEmpty()?this:new X(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?mr:n}}getChild(e){const n=re(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(F(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new oe(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?mr:this.priorityNode_;return new X(s,o,r)}}updateChild(e,n){const i=re(e);if(i===null)return n;{F(re(e)!==".priority"||Ti(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ke(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(We,(o,a)=>{n[o]=a.val(e),i++,r&&X.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+v0(this.getPriority().val())+":"),this.forEachChild(We,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Yg(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new oe(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new oe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new oe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,oe.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,oe.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ko?-1:0}withIndex(e){if(e===Us||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new X(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(We),s=n.getIterator(We);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Us?null:this.indexMap_.get(e.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fI extends X{constructor(){super(new wt(bh),X.EMPTY_NODE,Nn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return X.EMPTY_NODE}isEmpty(){return!1}}const ko=new fI;Object.defineProperties(oe,{MIN:{value:new oe(Qs,X.EMPTY_NODE)},MAX:{value:new oe(cs,ko)}});y0.__EMPTY_NODE=X.EMPTY_NODE;Qe.__childrenNodeConstructor=X;aI(ko);cI(ko);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=!0;function qe(t,e=null){if(t===null)return X.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Qe(n,qe(e))}if(!(t instanceof Array)&&pI){const n=[];let i=!1;if(st(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=qe(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new oe(o,l)))}}),n.length===0)return X.EMPTY_NODE;const r=Fa(n,oI,o=>o.name,bh);if(i){const o=Fa(n,We.getCompare());return new X(r,qe(e),new Nn({".priority":o},{".priority":We}))}else return new X(r,qe(e),Nn.Default)}else{let n=X.EMPTY_NODE;return st(t,(i,s)=>{if(bn(t,i)&&i.substring(0,1)!=="."){const r=qe(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(qe(e))}}lI(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I extends gl{constructor(e){super(),this.indexPath_=e,F(!ae(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?ps(e.name,n.name):r}makePost(e,n){const i=qe(e),s=X.EMPTY_NODE.updateChild(this.indexPath_,i);return new oe(n,s)}maxPost(){const e=X.EMPTY_NODE.updateChild(this.indexPath_,ko);return new oe(cs,e)}toString(){return oo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI extends gl{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ps(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const i=qe(e);return new oe(n,i)}toString(){return".value"}}const gI=new mI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){return{type:"value",snapshotNode:t}}function Xs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ao(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function lo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function yI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(ao(n,a)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Xs(n,i)):o.trackChildChange(lo(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(We,(s,r)=>{n.hasChild(s)||i.trackChildChange(ao(s,r))}),n.isLeafNode()||n.forEachChild(We,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(lo(s,r,o))}else i.trackChildChange(Xs(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?X.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.indexedFilter_=new Th(e.getIndex()),this.index_=e.getIndex(),this.startPost_=co.getStartPost_(e),this.endPost_=co.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new oe(n,i))||(i=X.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=X.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(X.EMPTY_NODE);const r=this;return n.forEachChild(We,(o,a)=>{r.matches(new oe(o,a))||(s=s.updateImmediateChild(o,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new co(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new oe(n,i))||(i=X.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=X.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(X.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;F(a.numChildren()===this.limit_,"");const l=new oe(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=s.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=s.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(u&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(lo(n,i,h)),a.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(ao(n,h));const p=a.updateImmediateChild(n,X.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(r!=null&&r.trackChildChange(Xs(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(ao(c.name,c.node)),r.trackChildChange(Xs(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,X.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qs}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){const e=new Sh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function CI(t){return t.loadsAllData()?new Th(t.getIndex()):t.hasLimit()?new vI(t):new co(t)}function _p(t){const e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===gI?n="$value":t.index_===Us?n="$key":(F(t.index_ instanceof _I,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ke(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ke(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ke(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends p0{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Ao("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Na.getListenId_(e,i),a={};this.listens_[o]=a;const l=_p(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(r,h,!1,i),Ws(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const i=Na.getListenId_(e,n);delete this.listens_[i]}get(e){const n=_p(e._queryParams),i=e._path.toString(),s=new vo;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ir(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=qr(a.responseText)}catch{vt("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&vt("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return{value:null,children:new Map}}function b0(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=re(e);t.children.has(i)||t.children.set(i,Ma());const s=t.children.get(i);e=ke(e),b0(s,e,n)}}function nu(t,e,n){t.value!==null?n(e,t.value):EI(t,(i,s)=>{const r=new be(e.toString()+"/"+i);nu(s,r,n)})}function EI(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&st(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=10*1e3,bI=30*1e3,TI=5*60*1e3;class SI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wI(e);const i=gp+(bI-gp)*Math.random();Mr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;st(e,(s,r)=>{r>0&&bn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Mr(this.reportStats_.bind(this),Math.floor(Math.random()*2*TI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function Ih(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ah(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=sn.ACK_USER_WRITE,this.source=Ih()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new be(e));return new La(pe(),n,this.revert)}}else return F(re(this.path)===e,"operationForChild called for unrelated child."),new La(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.source=e,this.path=n,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new uo(this.source,pe()):new uo(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=sn.OVERWRITE}operationForChild(e){return ae(this.path)?new us(this.source,pe(),this.snap.getImmediateChild(e)):new us(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=sn.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new be(e));return n.isEmpty()?null:n.value?new us(this.source,pe(),n.value):new Js(this.source,pe(),n)}else return F(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Js(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function AI(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(yI(o.childName,o.snapshotNode))}),gr(t,s,"child_removed",e,i,n),gr(t,s,"child_added",e,i,n),gr(t,s,"child_moved",r,i,n),gr(t,s,"child_changed",e,i,n),gr(t,s,"value",e,i,n),s}function gr(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>RI(t,a,l)),o.forEach(a=>{const l=kI(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function kI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function RI(t,e,n){if(e.childName==null||n.childName==null)throw nr("Should only compare child_ events.");const i=new oe(e.childName,e.snapshotNode),s=new oe(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,e){return{eventCache:t,serverCache:e}}function Lr(t,e,n,i){return yl(new Si(e,n,i),t.serverCache)}function T0(t,e,n,i){return yl(t.eventCache,new Si(e,n,i))}function Ua(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac;const PI=()=>(ac||(ac=new wt(_S)),ac);class Ae{constructor(e,n=PI()){this.value=e,this.children=n}static fromObject(e){let n=new Ae(null);return st(e,(i,s)=>{n=n.set(new be(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:pe(),value:this.value};if(ae(e))return null;{const i=re(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(ke(e),n);return r!=null?{path:Ue(new be(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=re(e),i=this.children.get(n);return i!==null?i.subtree(ke(e)):new Ae(null)}}set(e,n){if(ae(e))return new Ae(n,this.children);{const i=re(e),r=(this.children.get(i)||new Ae(null)).set(ke(e),n),o=this.children.insert(i,r);return new Ae(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new Ae(null):new Ae(null,this.children);{const n=re(e),i=this.children.get(n);if(i){const s=i.remove(ke(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Ae(null):new Ae(this.value,r)}else return this}}get(e){if(ae(e))return this.value;{const n=re(e),i=this.children.get(n);return i?i.get(ke(e)):null}}setTree(e,n){if(ae(e))return n;{const i=re(e),r=(this.children.get(i)||new Ae(null)).setTree(ke(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new Ae(this.value,o)}}fold(e){return this.fold_(pe(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(Ue(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,pe(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ae(e))return null;{const r=re(e),o=this.children.get(r);return o?o.findOnPath_(ke(e),Ue(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pe(),n)}foreachOnPath_(e,n,i){if(ae(e))return this;{this.value&&i(n,this.value);const s=re(e),r=this.children.get(s);return r?r.foreachOnPath_(ke(e),Ue(n,s),i):new Ae(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(Ue(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new Ae(null))}}function Ur(t,e,n){if(ae(e))return new rn(new Ae(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=yt(s,e);return r=r.updateChild(o,n),new rn(t.writeTree_.set(s,r))}else{const s=new Ae(n),r=t.writeTree_.setTree(e,s);return new rn(r)}}}function iu(t,e,n){let i=t;return st(n,(s,r)=>{i=Ur(i,Ue(e,s),r)}),i}function yp(t,e){if(ae(e))return rn.empty();{const n=t.writeTree_.setTree(e,new Ae(null));return new rn(n)}}function su(t,e){return _s(t,e)!=null}function _s(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function vp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(i,s)=>{e.push(new oe(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new oe(i,s.value))}),e}function vi(t,e){if(ae(e))return t;{const n=_s(t,e);return n!=null?new rn(new Ae(n)):new rn(t.writeTree_.subtree(e))}}function ru(t){return t.writeTree_.isEmpty()}function Zs(t,e){return S0(pe(),t.writeTree_,e)}function S0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(F(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=S0(Ue(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ue(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t,e){return R0(e,t)}function xI(t,e,n,i,s){F(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Ur(t.visibleWrites,e,n)),t.lastWriteId=i}function OI(t,e,n,i){F(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=iu(t.visibleWrites,e,n),t.lastWriteId=i}function FI(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function NI(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&MI(a,i.path)?s=!1:Kt(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return LI(t),!0;if(i.snap)t.visibleWrites=yp(t.visibleWrites,i.path);else{const a=i.children;st(a,l=>{t.visibleWrites=yp(t.visibleWrites,Ue(i.path,l))})}return!0}else return!1}function MI(t,e){if(t.snap)return Kt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Kt(Ue(t.path,n),e))return!0;return!1}function LI(t){t.visibleWrites=I0(t.allWrites,UI,pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function UI(t){return t.visible}function I0(t,e,n){let i=rn.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)Kt(n,o)?(a=yt(n,o),i=Ur(i,a,r.snap)):Kt(o,n)&&(a=yt(o,n),i=Ur(i,pe(),r.snap.getChild(a)));else if(r.children){if(Kt(n,o))a=yt(n,o),i=iu(i,a,r.children);else if(Kt(o,n))if(a=yt(o,n),ae(a))i=iu(i,pe(),r.children);else{const l=Ws(r.children,re(a));if(l){const c=l.getChild(ke(a));i=Ur(i,pe(),c)}}}else throw nr("WriteRecord should have .snap or .children")}}return i}function A0(t,e,n,i,s){if(!i&&!s){const r=_s(t.visibleWrites,e);if(r!=null)return r;{const o=vi(t.visibleWrites,e);if(ru(o))return n;if(n==null&&!su(o,pe()))return null;{const a=n||X.EMPTY_NODE;return Zs(o,a)}}}else{const r=vi(t.visibleWrites,e);if(!s&&ru(r))return n;if(!s&&n==null&&!su(r,pe()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Kt(c.path,e)||Kt(e,c.path))},a=I0(t.allWrites,o,e),l=n||X.EMPTY_NODE;return Zs(a,l)}}}function BI(t,e,n){let i=X.EMPTY_NODE;const s=_s(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(We,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=vi(t.visibleWrites,e);return n.forEachChild(We,(o,a)=>{const l=Zs(vi(r,new be(o)),a);i=i.updateImmediateChild(o,l)}),vp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=vi(t.visibleWrites,e);return vp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function WI(t,e,n,i,s){F(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=Ue(e,n);if(su(t.visibleWrites,r))return null;{const o=vi(t.visibleWrites,r);return ru(o)?s.getChild(n):Zs(o,s.getChild(n))}}function VI(t,e,n,i){const s=Ue(e,n),r=_s(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=vi(t.visibleWrites,s);return Zs(o,i.getNode().getImmediateChild(n))}else return null}function $I(t,e){return _s(t.visibleWrites,e)}function HI(t,e,n,i,s,r,o){let a;const l=vi(t.visibleWrites,e),c=_s(l,pe());if(c!=null)a=c;else if(n!=null)a=Zs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),d=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=d.getNext();for(;f&&u.length<s;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function zI(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function Ba(t,e,n,i){return A0(t.writeTree,t.treePath,e,n,i)}function Rh(t,e){return BI(t.writeTree,t.treePath,e)}function Cp(t,e,n,i){return WI(t.writeTree,t.treePath,e,n,i)}function Wa(t,e){return $I(t.writeTree,Ue(t.treePath,e))}function jI(t,e,n,i,s,r){return HI(t.writeTree,t.treePath,e,n,i,s,r)}function Ph(t,e,n){return VI(t.writeTree,t.treePath,e,n)}function k0(t,e){return R0(Ue(t.treePath,e),t.writeTree)}function R0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,lo(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,ao(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,Xs(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,lo(i,e.snapshotNode,s.oldSnap));else throw nr("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const P0=new GI;class xh{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ph(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hs(this.viewCache_),r=jI(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){return{filter:t}}function YI(t,e){F(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QI(t,e,n,i,s){const r=new qI;let o,a;if(n.type===sn.OVERWRITE){const c=n;c.source.fromUser?o=ou(t,e,c.path,c.snap,i,s,r):(F(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ae(c.path),o=Va(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===sn.MERGE){const c=n;c.source.fromUser?o=JI(t,e,c.path,c.children,i,s,r):(F(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=au(t,e,c.path,c.children,i,s,a,r))}else if(n.type===sn.ACK_USER_WRITE){const c=n;c.revert?o=tA(t,e,c.path,i,s,r):o=ZI(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===sn.LISTEN_COMPLETE)o=eA(t,e,n.path,i,r);else throw nr("Unknown operation type: "+n.type);const l=r.getChanges();return XI(e,o,l),{viewCache:o,changes:l}}function XI(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Ua(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(w0(Ua(e)))}}function x0(t,e,n,i,s,r){const o=e.eventCache;if(Wa(i,n)!=null)return e;{let a,l;if(ae(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=hs(e),u=c instanceof X?c:X.EMPTY_NODE,h=Rh(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const c=Ba(i,hs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=re(n);if(c===".priority"){F(Ti(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=Cp(i,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=ke(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const d=Cp(i,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=Ph(i,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,r):a=o.getNode()}}return Lr(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function Va(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ae(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=re(n);if(!l.isCompleteForPath(n)&&Ti(n)>1)return e;const _=ke(n),y=l.getNode().getImmediateChild(f).updateChild(_,i);f===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),f,y,_,P0,null)}const h=T0(e,c,l.isFullyInitialized()||ae(n),u.filtersNodes()),d=new xh(s,h,r);return x0(t,h,n,s,d,a)}function ou(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const u=new xh(s,e,r);if(ae(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Lr(e,c,!0,t.filter.filtersNodes());else{const h=re(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Lr(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=ke(n),f=a.getNode().getImmediateChild(h);let _;if(ae(d))_=i;else{const p=u.getCompleteChild(h);p!=null?Dh(d)===".priority"&&p.getChild(m0(d)).isEmpty()?_=p:_=p.updateChild(d,i):_=X.EMPTY_NODE}if(f.equals(_))l=e;else{const p=t.filter.updateChild(a.getNode(),h,_,d,u,o);l=Lr(e,p,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Dp(t,e){return t.eventCache.isCompleteForChild(e)}function JI(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=Ue(n,l);Dp(e,re(u))&&(a=ou(t,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=Ue(n,l);Dp(e,re(u))||(a=ou(t,a,u,c,s,r,o))}),a}function Ep(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function au(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ae(n)?c=i:c=new Ae(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),_=Ep(t,f,d);l=Va(t,l,new be(h),_,s,r,o,a)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const _=e.serverCache.getNode().getImmediateChild(h),p=Ep(t,_,d);l=Va(t,l,new be(h),p,s,r,o,a)}}),l}function ZI(t,e,n,i,s,r,o){if(Wa(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ae(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Va(t,e,n,l.getNode().getChild(n),s,r,a,o);if(ae(n)){let c=new Ae(null);return l.getNode().forEachChild(Us,(u,h)=>{c=c.set(new be(u),h)}),au(t,e,n,c,s,r,a,o)}else return e}else{let c=new Ae(null);return i.foreach((u,h)=>{const d=Ue(n,u);l.isCompleteForPath(d)&&(c=c.set(u,l.getNode().getChild(d)))}),au(t,e,n,c,s,r,a,o)}}function eA(t,e,n,i,s){const r=e.serverCache,o=T0(e,r.getNode(),r.isFullyInitialized()||ae(n),r.isFiltered());return x0(t,o,n,i,P0,s)}function tA(t,e,n,i,s,r){let o;if(Wa(i,n)!=null)return e;{const a=new xh(i,e,s),l=e.eventCache.getNode();let c;if(ae(n)||re(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ba(i,hs(e));else{const h=e.serverCache.getNode();F(h instanceof X,"serverChildren would be complete if leaf node"),u=Rh(i,h)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=re(n);let h=Ph(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,ke(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,X.EMPTY_NODE,ke(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ba(i,hs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Wa(i,pe())!=null,Lr(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Th(i.getIndex()),r=CI(i);this.processor_=KI(r);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(X.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(X.EMPTY_NODE,a.getNode(),null),u=new Si(l,o.isFullyInitialized(),s.filtersNodes()),h=new Si(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=yl(h,u),this.eventGenerator_=new II(this.query_)}get query(){return this.query_}}function iA(t){return t.viewCache_.serverCache.getNode()}function sA(t){return Ua(t.viewCache_)}function rA(t,e){const n=hs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function wp(t){return t.eventRegistrations_.length===0}function oA(t,e){t.eventRegistrations_.push(e)}function bp(t,e,n){const i=[];if(n){F(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Tp(t,e,n,i){e.type===sn.MERGE&&e.source.queryId!==null&&(F(hs(t.viewCache_),"We should always have a full cache before handling merges"),F(Ua(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=QI(t.processor_,s,e,n,i);return YI(t.processor_,r.viewCache),F(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,O0(t,r.changes,r.viewCache.eventCache.getNode(),null)}function aA(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,(r,o)=>{i.push(Xs(r,o))}),n.isFullyInitialized()&&i.push(w0(n.getNode())),O0(t,i,n.getNode(),e)}function O0(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return AI(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;class F0{constructor(){this.views=new Map}}function lA(t){F(!$a,"__referenceConstructor has already been defined"),$a=t}function cA(){return F($a,"Reference.ts has not been loaded"),$a}function uA(t){return t.views.size===0}function Oh(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return F(r!=null,"SyncTree gave us an op for an invalid query."),Tp(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(Tp(o,e,n,i));return r}}function N0(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Ba(n,s?i:null),l=!1;a?l=!0:i instanceof X?(a=Rh(n,i),l=!1):(a=X.EMPTY_NODE,l=!1);const c=yl(new Si(a,l,!1),new Si(i,s,!1));return new nA(e,c)}return o}function hA(t,e,n,i,s,r){const o=N0(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),oA(o,n),aA(o,n)}function dA(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const a=Ii(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(bp(c,n,i)),wp(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(bp(l,n,i)),wp(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!Ii(t)&&r.push(new(cA())(e._repo,e._path)),{removed:r,events:o}}function M0(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ci(t,e){let n=null;for(const i of t.views.values())n=n||rA(i,e);return n}function L0(t,e){if(e._queryParams.loadsAllData())return Cl(t);{const i=e._queryIdentifier;return t.views.get(i)}}function U0(t,e){return L0(t,e)!=null}function Ii(t){return Cl(t)!=null}function Cl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;function fA(t){F(!Ha,"__referenceConstructor has already been defined"),Ha=t}function pA(){return F(Ha,"Reference.ts has not been loaded"),Ha}let _A=1;class Sp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ae(null),this.pendingWriteTree_=zI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function B0(t,e,n,i,s){return xI(t.pendingWriteTree_,e,n,i,s),s?ar(t,new us(Ih(),e,n)):[]}function mA(t,e,n,i){OI(t.pendingWriteTree_,e,n,i);const s=Ae.fromObject(n);return ar(t,new Js(Ih(),e,s))}function hi(t,e,n=!1){const i=FI(t.pendingWriteTree_,e);if(NI(t.pendingWriteTree_,e)){let r=new Ae(null);return i.snap!=null?r=r.set(pe(),!0):st(i.children,o=>{r=r.set(new be(o),!0)}),ar(t,new La(i.path,r,n))}else return[]}function Ro(t,e,n){return ar(t,new us(Ah(),e,n))}function gA(t,e,n){const i=Ae.fromObject(n);return ar(t,new Js(Ah(),e,i))}function yA(t,e){return ar(t,new uo(Ah(),e))}function vA(t,e,n){const i=Nh(t,n);if(i){const s=Mh(i),r=s.path,o=s.queryId,a=yt(r,e),l=new uo(kh(o),a);return Lh(t,r,l)}else return[]}function za(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||U0(o,e))){const l=dA(o,e,n,i);uA(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(r,(d,f)=>Ii(f));if(u&&!h){const d=t.syncPointTree_.subtree(r);if(!d.isEmpty()){const f=EA(d);for(let _=0;_<f.length;++_){const p=f[_],y=p.query,C=H0(t,p);t.listenProvider_.startListening(Br(y),ho(t,y),C.hashFn,C.onComplete)}}}!h&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Br(e),null):c.forEach(d=>{const f=t.queryToTagMap.get(Dl(d));t.listenProvider_.stopListening(Br(d),f)}))}wA(t,c)}return a}function W0(t,e,n,i){const s=Nh(t,i);if(s!=null){const r=Mh(s),o=r.path,a=r.queryId,l=yt(o,e),c=new us(kh(a),l,n);return Lh(t,o,c)}else return[]}function CA(t,e,n,i){const s=Nh(t,i);if(s){const r=Mh(s),o=r.path,a=r.queryId,l=yt(o,e),c=Ae.fromObject(n),u=new Js(kh(a),l,c);return Lh(t,o,u)}else return[]}function lu(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(d,f)=>{const _=yt(d,s);r=r||Ci(f,_),o=o||Ii(f)});let a=t.syncPointTree_.get(s);a?(o=o||Ii(a),r=r||Ci(a,pe())):(a=new F0,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=X.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,_)=>{const p=Ci(_,pe());p&&(r=r.updateImmediateChild(f,p))}));const c=U0(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=Dl(e);F(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=bA();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const u=vl(t.pendingWriteTree_,s);let h=hA(a,e,n,u,r,l);if(!c&&!o&&!i){const d=L0(a,e);h=h.concat(TA(t,e,d))}return h}function Fh(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=yt(o,e),c=Ci(a,l);if(c)return c});return A0(s,e,r,n,!0)}function DA(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=yt(c,n);i=i||Ci(u,h)});let s=t.syncPointTree_.get(n);s?i=i||Ci(s,pe()):(s=new F0,t.syncPointTree_=t.syncPointTree_.set(n,s));const r=i!=null,o=r?new Si(i,!0,!1):null,a=vl(t.pendingWriteTree_,e._path),l=N0(s,e,a,r?o.getNode():X.EMPTY_NODE,r);return sA(l)}function ar(t,e){return V0(e,t.syncPointTree_,null,vl(t.pendingWriteTree_,pe()))}function V0(t,e,n,i){if(ae(t.path))return $0(t,e,n,i);{const s=e.get(pe());n==null&&s!=null&&(n=Ci(s,pe()));let r=[];const o=re(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=k0(i,o);r=r.concat(V0(a,l,c,u))}return s&&(r=r.concat(Oh(s,t,i,n))),r}}function $0(t,e,n,i){const s=e.get(pe());n==null&&s!=null&&(n=Ci(s,pe()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=k0(i,o),u=t.operationForChild(o);u&&(r=r.concat($0(u,a,l,c)))}),s&&(r=r.concat(Oh(s,t,i,n))),r}function H0(t,e){const n=e.query,i=ho(t,n);return{hashFn:()=>(iA(e)||X.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?vA(t,n._path,i):yA(t,n._path);{const r=yS(s,n);return za(t,n,null,r)}}}}function ho(t,e){const n=Dl(e);return t.queryToTagMap.get(n)}function Dl(t){return t._path.toString()+"$"+t._queryIdentifier}function Nh(t,e){return t.tagToQueryMap.get(e)}function Mh(t){const e=t.indexOf("$");return F(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new be(t.substr(0,e))}}function Lh(t,e,n){const i=t.syncPointTree_.get(e);F(i,"Missing sync point for query tag that we're tracking");const s=vl(t.pendingWriteTree_,e);return Oh(i,n,s,null)}function EA(t){return t.fold((e,n,i)=>{if(n&&Ii(n))return[Cl(n)];{let s=[];return n&&(s=M0(n)),st(i,(r,o)=>{s=s.concat(o)}),s}})}function Br(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(pA())(t._repo,t._path):t}function wA(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Dl(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function bA(){return _A++}function TA(t,e,n){const i=e._path,s=ho(t,e),r=H0(t,n),o=t.listenProvider_.startListening(Br(e),s,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(i);if(s)F(!Ii(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!ae(c)&&u&&Ii(u))return[Cl(u).query];{let d=[];return u&&(d=d.concat(M0(u).map(f=>f.query))),st(h,(f,_)=>{d=d.concat(_)}),d}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Br(u),ho(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Uh(n)}node(){return this.node_}}class Bh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ue(this.path_,e);return new Bh(this.syncTree_,n)}node(){return Fh(this.syncTree_,this.path_)}}const SA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ip=function(t,e,n){if(!t||typeof t!="object")return t;if(F(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return IA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return AA(t[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},IA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+t)}},AA=function(t,e,n){t.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&F(!1,"Unexpected increment value: "+i);const s=e.node();if(F(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},z0=function(t,e,n,i){return Wh(e,new Bh(n,t),i)},j0=function(t,e,n){return Wh(t,new Uh(e),n)};function Wh(t,e,n){const i=t.getPriority().val(),s=Ip(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=Ip(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Qe(a,qe(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Qe(s))),o.forEachChild(We,(a,l)=>{const c=Wh(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function $h(t,e){let n=e instanceof be?e:new be(e),i=t,s=re(n);for(;s!==null;){const r=Ws(i.node.children,s)||{children:{},childCount:0};i=new Vh(s,i,r),n=ke(n),s=re(n)}return i}function lr(t){return t.node.value}function q0(t,e){t.node.value=e,cu(t)}function G0(t){return t.node.childCount>0}function kA(t){return lr(t)===void 0&&!G0(t)}function El(t,e){st(t.node.children,(n,i)=>{e(new Vh(n,t,i))})}function K0(t,e,n,i){n&&!i&&e(t),El(t,s=>{K0(s,e,!0,i)}),n&&i&&e(t)}function RA(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Po(t){return new be(t.parent===null?t.name:Po(t.parent)+"/"+t.name)}function cu(t){t.parent!==null&&PA(t.parent,t.name,t)}function PA(t,e,n){const i=kA(n),s=bn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,cu(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,cu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=/[\[\].#$\/\u0000-\u001F\u007F]/,OA=/[\[\].#$\u0000-\u001F\u007F]/,lc=10*1024*1024,Hh=function(t){return typeof t=="string"&&t.length!==0&&!xA.test(t)},Y0=function(t){return typeof t=="string"&&t.length!==0&&!OA.test(t)},FA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y0(t)},NA=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!mh(t)||t&&typeof t=="object"&&bn(t,".sv")},Q0=function(t,e,n,i){i&&e===void 0||wl(al(t,"value"),e,n)},wl=function(t,e,n){const i=n instanceof be?new JS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Hi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Hi(i)+" with contents = "+e.toString());if(mh(e))throw new Error(t+"contains "+e.toString()+" "+Hi(i));if(typeof e=="string"&&e.length>lc/3&&ll(e)>lc)throw new Error(t+"contains a string greater than "+lc+" utf8 bytes "+Hi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(st(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!Hh(o)))throw new Error(t+" contains an invalid key ("+o+") "+Hi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZS(i,o),wl(t,a,i),eI(i)}),s&&r)throw new Error(t+' contains ".value" child '+Hi(i)+" in addition to actual children.")}},MA=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=oo(i);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!Hh(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XS);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&Kt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},LA=function(t,e,n,i){const s=al(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const r=[];st(e,(o,a)=>{const l=new be(o);if(wl(s,a,Ue(n,l)),Dh(l)===".priority"&&!NA(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(l)}),MA(s,r)},X0=function(t,e,n,i){if(!Y0(n))throw new Error(al(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UA=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),X0(t,e,n)},zh=function(t,e){if(re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},BA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!FA(n))throw new Error(al(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bl(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!Eh(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function J0(t,e,n){bl(t,n),Z0(t,i=>Eh(i,e))}function Qt(t,e,n){bl(t,n),Z0(t,i=>Kt(i,e)||Kt(e,i))}function Z0(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(VA(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function VA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Nr&&et("event: "+n.toString()),or(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="repo_interrupt",HA=25;class zA{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new Vh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jA(t,e,n){if(t.stats_=vh(t.repoInfo_),t.forceRestClient_||ES())t.server_=new Na(t.repoInfo_,(i,s,r,o)=>{Ap(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Bn(t.repoInfo_,e,(i,s,r,o)=>{Ap(t,i,s,r,o)},i=>{kp(t,i)},i=>{qA(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=IS(t.repoInfo_,()=>new SI(t.stats_,t.server_)),t.infoData_=new DI,t.infoSyncTree_=new Sp({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Ro(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),jh(t,"connected",!1),t.serverSyncTree_=new Sp({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);Qt(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function ey(t){const n=t.infoData_.getNode(new be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Tl(t){return SA({timestamp:ey(t)})}function Ap(t,e,n,i,s){t.dataUpdateCount++;const r=new be(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=ga(n,c=>qe(c));o=CA(t.serverSyncTree_,r,l,s)}else{const l=qe(n);o=W0(t.serverSyncTree_,r,l,s)}else if(i){const l=ga(n,c=>qe(c));o=gA(t.serverSyncTree_,r,l)}else{const l=qe(n);o=Ro(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=er(t,r)),Qt(t.eventQueue_,a,o)}function kp(t,e){jh(t,"connected",e),e===!1&&QA(t)}function qA(t,e){st(e,(n,i)=>{jh(t,n,i)})}function jh(t,e,n){const i=new be("/.info/"+e),s=qe(n);t.infoData_.updateSnapshot(i,s);const r=Ro(t.infoSyncTree_,i,s);Qt(t.eventQueue_,i,r)}function qh(t){return t.nextWriteId_++}function GA(t,e,n){const i=DA(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const r=qe(s).withIndex(e._queryParams.getIndex());lu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ro(t.serverSyncTree_,e._path,r);else{const a=ho(t.serverSyncTree_,e);o=W0(t.serverSyncTree_,e._path,r,a)}return Qt(t.eventQueue_,e._path,o),za(t.serverSyncTree_,e,n,null,!0),r},s=>(xo(t,"get for query "+Ke(e)+" failed: "+s),Promise.reject(new Error(s))))}function KA(t,e,n,i,s){xo(t,"set",{path:e.toString(),value:n,priority:i});const r=Tl(t),o=qe(n,i),a=Fh(t.serverSyncTree_,e),l=j0(o,a,r),c=qh(t),u=B0(t.serverSyncTree_,e,l,c,!0);bl(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(d,f)=>{const _=d==="ok";_||vt("set at "+e+" failed: "+d);const p=hi(t.serverSyncTree_,c,!_);Qt(t.eventQueue_,e,p),uu(t,s,d,f)});const h=Kh(t,e);er(t,h),Qt(t.eventQueue_,h,[])}function YA(t,e,n,i){xo(t,"update",{path:e.toString(),value:n});let s=!0;const r=Tl(t),o={};if(st(n,(a,l)=>{s=!1,o[a]=z0(Ue(e,a),qe(l),t.serverSyncTree_,r)}),s)et("update() called with empty data.  Don't do anything."),uu(t,i,"ok",void 0);else{const a=qh(t),l=mA(t.serverSyncTree_,e,o,a);bl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const h=c==="ok";h||vt("update at "+e+" failed: "+c);const d=hi(t.serverSyncTree_,a,!h),f=d.length>0?er(t,e):e;Qt(t.eventQueue_,f,d),uu(t,i,c,u)}),st(n,c=>{const u=Kh(t,Ue(e,c));er(t,u)}),Qt(t.eventQueue_,e,[])}}function QA(t){xo(t,"onDisconnectEvents");const e=Tl(t),n=Ma();nu(t.onDisconnect_,pe(),(s,r)=>{const o=z0(s,r,t.serverSyncTree_,e);b0(n,s,o)});let i=[];nu(n,pe(),(s,r)=>{i=i.concat(Ro(t.serverSyncTree_,s,r));const o=Kh(t,s);er(t,o)}),t.onDisconnect_=Ma(),Qt(t.eventQueue_,pe(),i)}function XA(t,e,n){let i;re(e._path)===".info"?i=lu(t.infoSyncTree_,e,n):i=lu(t.serverSyncTree_,e,n),J0(t.eventQueue_,e._path,i)}function Rp(t,e,n){let i;re(e._path)===".info"?i=za(t.infoSyncTree_,e,n):i=za(t.serverSyncTree_,e,n),J0(t.eventQueue_,e._path,i)}function JA(t){t.persistentConnection_&&t.persistentConnection_.interrupt($A)}function xo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function uu(t,e,n,i){e&&or(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function ty(t,e,n){return Fh(t.serverSyncTree_,e,n)||X.EMPTY_NODE}function Gh(t,e=t.transactionQueueTree_){if(e||Sl(t,e),lr(e)){const n=iy(t,e);F(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&ZA(t,Po(e),n)}else G0(e)&&El(e,n=>{Gh(t,n)})}function ZA(t,e,n){const i=n.map(c=>c.currentWriteId),s=ty(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];F(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=yt(e,u.path);r=r.updateChild(h,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{xo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(hi(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();Sl(t,$h(t.transactionQueueTree_,e)),Gh(t,t.transactionQueueTree_),Qt(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)or(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{vt("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}er(t,e)}},o)}function er(t,e){const n=ny(t,e),i=Po(n),s=iy(t,n);return ek(t,s,i),i}function ek(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=yt(n,l.path);let u=!1,h;if(F(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(hi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=HA)u=!0,h="maxretry",s=s.concat(hi(t.serverSyncTree_,l.currentWriteId,!0));else{const d=ty(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){wl("transaction failed: Data returned ",f,l.path);let _=qe(f);typeof f=="object"&&f!=null&&bn(f,".priority")||(_=_.updatePriority(d.getPriority()));const y=l.currentWriteId,C=Tl(t),D=j0(_,d,C);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=D,l.currentWriteId=qh(t),o.splice(o.indexOf(y),1),s=s.concat(B0(t.serverSyncTree_,l.path,D,l.currentWriteId,l.applyLocally)),s=s.concat(hi(t.serverSyncTree_,y,!0))}else u=!0,h="nodata",s=s.concat(hi(t.serverSyncTree_,l.currentWriteId,!0))}Qt(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}Sl(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)or(i[a]);Gh(t,t.transactionQueueTree_)}function ny(t,e){let n,i=t.transactionQueueTree_;for(n=re(e);n!==null&&lr(i)===void 0;)i=$h(i,n),e=ke(e),n=re(e);return i}function iy(t,e){const n=[];return sy(t,e,n),n.sort((i,s)=>i.order-s.order),n}function sy(t,e,n){const i=lr(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);El(e,s=>{sy(t,s,n)})}function Sl(t,e){const n=lr(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,q0(e,n.length>0?n:void 0)}El(e,i=>{Sl(t,i)})}function Kh(t,e){const n=Po(ny(t,e)),i=$h(t.transactionQueueTree_,e);return RA(i,s=>{cc(t,s)}),cc(t,i),K0(i,s=>{cc(t,s)}),n}function cc(t,e){const n=lr(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(F(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(F(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(hi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?q0(e,void 0):n.length=r+1,Qt(t.eventQueue_,Po(e),s);for(let o=0;o<i.length;o++)or(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function nk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Pp=function(t,e){const n=ik(t),i=n.namespace;n.domain==="firebase.com"&&zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fS();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new a0(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new be(n.pathString)}},ik=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=tk(t.substring(u,h)));const d=nk(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const _=e.indexOf(".");i=e.substring(0,_).toLowerCase(),n=e.substring(_+1),r=i}"ns"in d&&(r=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",sk=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let s;const r=new Array(8);for(s=7;s>=0;s--)r[s]=xp.charAt(n%64),n=Math.floor(n/64);F(n===0,"Cannot push at time == 0");let o=r.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=xp.charAt(e[s]);return F(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class ok{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ae(this._path)?null:Dh(this._path)}get ref(){return new qn(this._repo,this._path)}get _queryIdentifier(){const e=mp(this._queryParams),n=gh(e);return n==="{}"?"default":n}get _queryObject(){return mp(this._queryParams)}isEqual(e){if(e=rt(e),!(e instanceof Yh))return!1;const n=this._repo===e._repo,i=Eh(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+QS(this._path)}}class qn extends Yh{constructor(e,n){super(e,n,new Sh,!1)}get parent(){const e=m0(this._path);return e===null?null:new qn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class fo{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new be(e),i=po(this.ref,e);return new fo(this._node.getChild(n),i,We)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new fo(s,po(this.ref,i),We)))}hasChild(e){const n=new be(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function it(t,e){return t=rt(t),t._checkNotDeleted("ref"),e!==void 0?po(t._root,e):t._root}function po(t,e){return t=rt(t),re(t._path)===null?UA("child","path",e):X0("child","path",e),new qn(t._repo,Ue(t._path,e))}function hu(t,e){t=rt(t),zh("push",t._path),Q0("push",e,t._path,!0);const n=ey(t._repo),i=sk(n),s=po(t,i),r=po(t,i);let o;return o=Promise.resolve(r),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function oy(t){return zh("remove",t._path),Oo(t,null)}function Oo(t,e){t=rt(t),zh("set",t._path),Q0("set",e,t._path,!1);const n=new vo;return KA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ay(t,e){LA("update",e,t._path);const n=new vo;return YA(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Il(t){t=rt(t);const e=new ry(()=>{}),n=new Al(e);return GA(t._repo,t,n).then(i=>new fo(i,new qn(t._repo,t._path),t._queryParams.getIndex()))}class Al{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new rk("value",this,new fo(e.snapshotNode,new qn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ok(this,e,n):null}matches(e){return e instanceof Al?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ak(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const l=n,c=(u,h)=>{Rp(t._repo,t,a),l(u,h)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new ry(n,r||void 0),a=new Al(o);return XA(t._repo,t,a),()=>Rp(t._repo,t,a)}function lk(t,e,n,i){return ak(t,"value",e,n,i)}lA(qn);fA(qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="FIREBASE_DATABASE_EMULATOR_HOST",du={};let uk=!1;function hk(t,e,n,i){t.repoInfo_=new a0(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function dk(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Pp(r,s),a=o.repoInfo,l;typeof process<"u"&&Jf&&(l=Jf[ck]),l?(r=`http://${l}?ns=${a.namespace}`,o=Pp(r,s),a=o.repoInfo):o.repoInfo.secure;const c=new bS(t.name,t.options,e);BA("Invalid Firebase Database URL",o),ae(o.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=pk(a,t,c,new wS(t.name,n));return new _k(u,t)}function fk(t,e){const n=du[e];(!n||n[t.key]!==t)&&zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),JA(t),delete n[t.key]}function pk(t,e,n,i){let s=du[e.name];s||(s={},du[e.name]=s);let r=s[t.toURLString()];return r&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new zA(t,uk,n,i),s[t.toURLString()]=r,r}class _k{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qn(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&zn("Cannot call "+e+" on a deleted database.")}}function wn(t=Q_(),e){const n=Wu(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=G1("database");i&&mk(n,...i)}return n}function mk(t,e,n,i={}){t=rt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&zn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new aa(aa.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:K1(i.mockUserToken,t.app.options.projectId);r=new aa(o)}hk(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){aS(sr),Vs(new ss("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return dk(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),mi(Zf,ep,t),mi(Zf,ep,"esm2017")}Bn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Bn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gk();var yk="firebase",vk="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(yk,vk,"app");const Gn={firebaseConfig:{apiKey:"AIzaSyC6OKfRLtntX1mzOgfPRGeQWlBQKakP8rI",authDomain:"motw-frontend-hq.firebaseapp.com",databaseURL:"https://motw-frontend-hq-default-rtdb.firebaseio.com",projectId:"motw-frontend-hq",storageBucket:"motw-frontend-hq.appspot.com",messagingSenderId:"607683384016",appId:"1:607683384016:web:334f0aa4548af6b1f884d5"}},Ck=Tn(Gn.firebaseConfig),Dk=wn(Ck);function Op(t,e){const n=t._path.pieces_.join("/"),i=it(Dk,n),s=e===void 0?null:e;return console.log("setClean",n,s),Oo(i,s)}const Ek=Tn(Gn.firebaseConfig),wk=wn(Ek);function ly(t,e){const n=t._path.pieces_.join("/"),i=it(wk,n),s=e===void 0?null:e;return console.log("updateClean",n,s),ay(i,s)}const bk={name:"EditCaseFiles",props:{caseToEdit:Object},data(){return{caseFile:{id:"",title:"",summary:"",details:"",status:"",objectives:"",password:"",enteredPassword:"",detailsVisible:!1,clues:[],locations:[],notes:[]},db:null}},watch:{caseToEdit:{handler(t){t&&(this.caseFile={...t},this.initializeCaseFile(this.caseFile))},immediate:!0}},created(){this.app=Tn(Gn.firebaseConfig),this.db=wn(this.app)},methods:{initializeCaseFile(t){t.id||(t.id=""),t.title||(t.title=""),t.summary||(t.summary=""),t.details||(t.details=""),t.password||(t.password="")},validateCaseFile(t){var e=["id","title","summary","details","password"];for(var n of e){if(!t.hasOwnProperty(n))return console.error(`Missing property: ${n}`),!1;if(typeof t[n]!="string")return console.error(`Incorrect type for property: ${n}`),!1}return!0},saveCaseFile(){if(!this.validateCaseFile(this.caseFile)){alert("Case file data is invalid. Please check the input fields.");return}if(this.caseFile.id){var t=it(this.db,"caseFiles/"+this.caseFile.id);ly(t,this.caseFile).then(()=>{this.resetForm(),this.$emit("saved")}).catch(i=>{console.error("Error updating case:",i)})}else{var e=it(this.db,"caseFiles/"),n=hu(e);console.log("New Case Ref Key:",n.key),console.log("caseFile:",this.caseFile),Op(n,{...this.caseFile,id:n.key}).then(()=>{console.log("Data successfully written!"),this.resetForm(),this.$emit("saved")}).catch(i=>{console.error("Error adding case:",i),console.error("Error details:",i.message,i.stack)})}},saveCaseFileDebug(){var t=it(this.db,"casemiles/"),e=hu(t);console.log("New Case Ref Key:",e.key),console.log("caseFile:",this.caseFile),Op(e,{...this.caseFile,id:e.key}).then(()=>{console.log("Data successfully written!"),this.resetForm(),this.$emit("saved")}).catch(n=>{console.error("Error adding case:",n),console.error("Error details:",n.message,n.stack)})},resetForm(){this.caseFile={id:"",title:"",summary:"",details:"",password:""}}}},cr=t=>(ln("data-v-8d0307cd"),t=t(),cn(),t),Tk={class:"edit-case-files"},Sk={class:"form-group"},Ik=cr(()=>v("label",{for:"title"},"Title:",-1)),Ak={class:"form-group"},kk=cr(()=>v("label",{for:"summary"},"Summary:",-1)),Rk={class:"form-group"},Pk=cr(()=>v("label",{for:"objectives"},"Objectives:",-1)),xk={class:"form-group"},Ok=cr(()=>v("label",{for:"status"},"Status:",-1)),Fk={class:"form-group"},Nk=cr(()=>v("label",{for:"details"},"Details:",-1)),Mk={class:"form-group"},Lk=cr(()=>v("label",{for:"password"},"Password:",-1)),Uk={type:"submit"};function Bk(t,e,n,i,s,r){return N(),W("div",Tk,[v("h1",null,ce(s.caseFile.id?"Edit":"Add")+" Case File",1),v("form",{onSubmit:e[6]||(e[6]=Zi((...o)=>r.saveCaseFile&&r.saveCaseFile(...o),["prevent"]))},[v("div",Sk,[Ik,ge(v("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.caseFile.title=o),id:"title",autocomplete:"off",required:""},null,512),[[Ce,s.caseFile.title]])]),v("div",Ak,[kk,ge(v("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.caseFile.summary=o),id:"summary",required:""},null,512),[[Ce,s.caseFile.summary]])]),v("div",Rk,[Pk,ge(v("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.caseFile.objectives=o),id:"objectives"},null,512),[[Ce,s.caseFile.objectives]])]),v("div",xk,[Ok,ge(v("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.caseFile.status=o),id:"status"},null,512),[[Ce,s.caseFile.status]])]),v("div",Fk,[Nk,ge(v("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.caseFile.details=o),id:"details",required:""},null,512),[[Ce,s.caseFile.details]])]),v("div",Mk,[Lk,ge(v("input",{type:"password","onUpdate:modelValue":e[5]||(e[5]=o=>s.caseFile.password=o),id:"password",autocomplete:"off",required:""},null,512),[[Ce,s.caseFile.password]])]),v("button",Uk,ce(s.caseFile.id?"Update":"Add")+" Case File",1)],32)])}const Wk=Xt(bk,[["render",Bk],["__scopeId","data-v-8d0307cd"]]),ja=(t,e,n)=>{const i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);const s=`expires=${i.toUTCString()}`;document.cookie=`${t}=${e}; ${s}; path=/`},Gi=t=>{var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?e[2]:null},Vk={name:"CaseFiles",components:{EditCaseFiles:Wk},data(){return{caseFiles:[],caseToEdit:null,isAdmin:Ze.isAdmin}},created(){this.app=Tn(Gn.firebaseConfig),this.db=wn(this.app),this.fetchCaseFiles()},methods:{fetchCaseFiles(){var t=it(this.db,"caseFiles");lk(t,e=>{var n=e.val();if(console.log("Fetched data:",n),n){let s=[];for(var i in n)n.hasOwnProperty(i)&&s.push({id:i,...n[i],enteredPassword:"",detailsVisible:!1});console.log("Processed caseFilesArray:",s),this.caseFiles=s}else this.caseFiles=[];console.log("Updated caseFiles:",this.caseFiles)},e=>{console.error("Error fetching case files:",e)})},editCaseFile(t){this.caseToEdit={...t}},deleteCaseFile(t){var e=it(this.db,"caseFiles/"+t);oy(e).catch(n=>console.error("Error deleting case:",n))},unlockDetails(t){t.enteredPassword===t.password?(t.detailsVisible=!0,ja(t.id,"detailsVisible = true")):alert("Incorrect password")},checkVisibility(t){var e=Gi(t.id);e!==null&&e.indexOf("detailsVisible")>-1&&(t.detailsVisible=!0)}}},$k=t=>(ln("data-v-762fe0de"),t=t(),cn(),t),Hk={class:"case-files"},zk=$k(()=>v("h1",null,"Case Files",-1)),jk={key:0},qk=["onUpdate:modelValue"],Gk=["onClick"],Kk={key:2},Yk={key:3},Qk={key:0,class:"btn-container"},Xk=["onClick"],Jk=["onClick"];function Zk(t,e,n,i,s,r){const o=ct("edit-case-files"),a=ct("router-link");return N(),W("div",Hk,[zk,s.isAdmin?(N(),W("div",jk,[fe(o,{caseToEdit:s.caseToEdit,onSaved:r.fetchCaseFiles},null,8,["caseToEdit","onSaved"])])):_e("",!0),v("ul",null,[(N(!0),W(Ne,null,zt(s.caseFiles,l=>(N(),W("li",{class:"casefile-item",key:l.id},[Ge(ce(r.checkVisibility(l))+" ",1),v("h2",null,ce(l.title),1),v("p",null,"Summary: "+ce(l.summary),1),v("div",null,[l.detailsVisible?_e("",!0):ge((N(),W("input",{key:0,type:"password","onUpdate:modelValue":c=>l.enteredPassword=c,placeholder:"Enter password to view details"},null,8,qk)),[[Ce,l.enteredPassword]]),l.detailsVisible?_e("",!0):(N(),W("button",{key:1,onClick:c=>r.unlockDetails(l)},"Unlock Details",8,Gk)),l.detailsVisible?(N(),W("p",Kk,"Status: "+ce(l.status),1)):_e("",!0),l.detailsVisible?(N(),W("p",Yk,"Details: "+ce(l.details),1)):_e("",!0),l.detailsVisible?(N(),xt(a,{key:4,to:"/case-files/"+l.id},{default:_t(()=>[Ge("Read more")]),_:2},1032,["to"])):_e("",!0)]),s.isAdmin?(N(),W("div",Qk,[v("button",{onClick:c=>r.editCaseFile(l)},"Edit",8,Xk),v("button",{onClick:c=>r.deleteCaseFile(l.id)},"Delete",8,Jk)])):_e("",!0)]))),128))])])}const Qh=Xt(Vk,[["render",Zk],["__scopeId","data-v-762fe0de"]]),eR={name:"EditBeast",data(){return{beast:{name:"",image:"",description:"",stats:"",details:"",detailsPassword:"",entryPassword:""},db:null}},props:{beastToEdit:Object},watch:{beastToEdit:{handler(t){this.beast={...t}},immediate:!0}},created(){this.app=Tn(Gn.firebaseConfig),this.db=wn(this.app)},methods:{saveBeast(){if(this.beast.id){const t=it(this.db,"bestiary/"+this.beast.id);ay(t,this.beast).then(()=>{this.resetForm(),this.$emit("saved")}).catch(e=>{console.error("Error updating beast:",e)})}else{const t=it(this.db,"bestiary"),e=hu(t);Oo(e,this.beast).then(()=>{this.resetForm(),this.$emit("saved")}).catch(n=>{console.error("Error adding beast:",n)})}},resetForm(){this.beast={name:"",image:"",description:"",stats:"",details:"",detailsPassword:"",entryPassword:""}}}},Fi=t=>(ln("data-v-7da8f69e"),t=t(),cn(),t),tR={class:"edit-beast"},nR={class:"form-group"},iR=Fi(()=>v("label",{for:"name"},"Name:",-1)),sR={class:"form-group"},rR=Fi(()=>v("label",{for:"image"},"Image URL:",-1)),oR={class:"form-group"},aR=Fi(()=>v("label",{for:"description"},"Description:",-1)),lR={class:"form-group"},cR=Fi(()=>v("label",{for:"stats"},"Stats:",-1)),uR={class:"form-group"},hR=Fi(()=>v("label",{for:"details"},"Details:",-1)),dR={class:"form-group"},fR=Fi(()=>v("label",{for:"detailsPassword"},"Details Password:",-1)),pR={class:"form-group"},_R=Fi(()=>v("label",{for:"entryPassword"},"Entry Password:",-1)),mR=Fi(()=>v("button",{type:"submit"},"Save Beast",-1));function gR(t,e,n,i,s,r){return N(),W("div",tR,[v("form",{onSubmit:e[7]||(e[7]=Zi((...o)=>r.saveBeast&&r.saveBeast(...o),["prevent"]))},[v("div",nR,[iR,ge(v("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.beast.name=o),id:"name",required:""},null,512),[[Ce,s.beast.name]])]),v("div",sR,[rR,ge(v("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>s.beast.image=o),id:"image",required:""},null,512),[[Ce,s.beast.image]])]),v("div",oR,[aR,ge(v("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.beast.description=o),id:"description",required:""},null,512),[[Ce,s.beast.description]])]),v("div",lR,[cR,ge(v("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.beast.stats=o),id:"stats",required:""},null,512),[[Ce,s.beast.stats]])]),v("div",uR,[hR,ge(v("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.beast.details=o),id:"details"},null,512),[[Ce,s.beast.details]])]),v("div",dR,[fR,ge(v("input",{type:"password","onUpdate:modelValue":e[5]||(e[5]=o=>s.beast.detailsPassword=o),id:"detailsPassword"},null,512),[[Ce,s.beast.detailsPassword]])]),v("div",pR,[_R,ge(v("input",{type:"password","onUpdate:modelValue":e[6]||(e[6]=o=>s.beast.entryPassword=o),id:"entryPassword"},null,512),[[Ce,s.beast.entryPassword]])]),mR],32)])}const yR=Xt(eR,[["render",gR],["__scopeId","data-v-7da8f69e"]]),vR={name:"Bestiary",components:{EditBeast:yR},data(){return{beasts:[],beastToEdit:null,db:null,isAdmin:Ze.isAdmin}},created(){this.app=Tn(Gn.firebaseConfig),this.db=wn(this.app),this.fetchBeasts(),this.checkAdmin()},methods:{fetchBeasts(){const t=it(this.db,"bestiary");Il(t).then(e=>{if(e.exists()){const n=e.val();this.beasts=Object.keys(n).map(i=>({id:i,...n[i],detailsVisible:!1,entryVisible:!n[i].entryPassword,entryPasswordInput:"",detailsPasswordInput:""}))}}).catch(e=>{console.error("Error fetching beasts:",e)})},editBeast(t){this.beastToEdit={...t}},deleteBeast(t){const e=it(this.db,"bestiary/"+t);oy(e).then(()=>{this.fetchBeasts()}).catch(n=>{console.error("Error deleting beast:",n)})},checkAdmin(){console.log("Admin check",Ze.isAdmin),this.isAdmin=Ze.isAdmin},checkVisibility(t){Gi(t.id),console.log(Gi(t.id)),Gi(t.id)!=null&&(Gi(t.id).indexOf("detailsVisible")>-1?(t.entryVisible=!0,t.detailsVisible=!0):Gi(t.id).indexOf("entryVisible")>-1&&(t.entryVisible=!0))},unlockEntry(t){t.entryPasswordInput===t.entryPassword||!t.entryPassword?(t.entryVisible=!0,ja(t.id,"entryVisible = true")):alert("Incorrect password!")},unlockDetails(t){t.detailsPasswordInput===t.detailsPassword||!t.detailsPassword?(t.detailsVisible=!0,ja(t.id,"detailsVisible = true")):alert("Incorrect password!")}}},cy=t=>(ln("data-v-d011240c"),t=t(),cn(),t),CR={class:"bestiary"},DR=cy(()=>v("div",{class:"header"},[v("h1",null,"Bestiary")],-1)),ER={class:"content"},wR={key:0},bR={key:1},TR=cy(()=>v("h2",null,"Beasts",-1)),SR={key:0},IR=["onUpdate:modelValue"],AR=["onClick"],kR={key:1},RR=["src","alt"],PR={key:0},xR=["onUpdate:modelValue"],OR=["onClick"],FR={key:1},NR={key:2},MR={key:3},LR=["onClick"],UR=["onClick"];function BR(t,e,n,i,s,r){const o=ct("edit-beast");return N(),W("div",CR,[DR,v("div",ER,[s.isAdmin?(N(),W("div",wR,[fe(o,{beastToEdit:s.beastToEdit,onSaved:r.fetchBeasts},null,8,["beastToEdit","onSaved"])])):_e("",!0),s.beasts.length?(N(),W("div",bR,[TR,v("ul",null,[(N(!0),W(Ne,null,zt(s.beasts,a=>(N(),W("li",{key:a.id,class:"beast-item"},[Ge(ce(r.checkVisibility(a))+" ",1),a.entryVisible?_e("",!0):(N(),W("div",SR,[ge(v("input",{"onUpdate:modelValue":l=>a.entryPasswordInput=l,type:"password",placeholder:"Enter password to view beast"},null,8,IR),[[Ce,a.entryPasswordInput]]),v("button",{onClick:l=>r.unlockEntry(a)},"Unlock Beast",8,AR)])),a.entryVisible?(N(),W("div",kR,[v("h3",null,ce(a.name),1),v("img",{src:a.image,alt:a.name},null,8,RR),v("p",null,ce(a.description),1),a.details&&!a.detailsVisible?(N(),W("div",PR,[ge(v("input",{"onUpdate:modelValue":l=>a.detailsPasswordInput=l,type:"password",placeholder:"Enter password to view details"},null,8,xR),[[Ce,a.detailsPasswordInput]]),v("button",{onClick:l=>r.unlockDetails(a)},"Unlock Details",8,OR)])):_e("",!0),a.detailsVisible?(N(),W("div",FR,[v("p",null,"Details: "+ce(a.details),1)])):_e("",!0),a.detailsVisible?(N(),W("p",NR,"Stats: "+ce(a.stats),1)):_e("",!0),s.isAdmin?(N(),W("div",MR,[v("button",{onClick:l=>r.editBeast(a)},"Edit",8,LR),v("button",{onClick:l=>r.deleteBeast(a.id)},"Delete",8,UR)])):_e("",!0)])):_e("",!0)]))),128))])])):_e("",!0)])])}const Xh=Xt(vR,[["render",BR],["__scopeId","data-v-d011240c"]]),WR=[{name:"The Chosen",description:"Your birth was prophesied. You are the Chosen One, and with your abilities, you can save the world. If you fail, all will be destroyed. It all rests on you. Only you.",moves:[{name:"Destinys Plaything",description:"At the beginning of each mystery, roll +Weird to see what is revealed about your immediate future."},{name:"Im Here For A Reason",description:"Theres something you are meant to do; work out the signs to find out what."},{name:"The Big Entrance",description:"When you make a showy entrance, roll +Charm."},{name:"Devastating",description:"When you inflict harm, you inflict +1 harm."},{name:"Dutiful",description:"You gain +1 ongoing while you follow a duty."},{name:"Invincible",description:"You always count as having 2-armour."},{name:"Resilience",description:"You heal faster than normal people."}],gear:["Protective gear worth 1-armour","Special weapon"],ratings:["Charm+2, Cool-1, Sharp+1, Tough+2, Weird-1","Charm-1, Cool+2, Sharp+1, Tough+2, Weird-1","Charm+1, Cool+2, Sharp+1, Tough+1, Weird-1","Charm-1, Cool+1, Sharp+2, Tough-1, Weird+2","Charm+1, Cool+2, Sharp-1, Tough-1, Weird+2"],special:"When you spend a point of Luck, the Keeper will bring your fate into play."},{name:"The Crooked",description:"Yeah, Ive been around the block. A bit of this, a bit of that. When I came across the secret underworld of monsters and magic well it wasnt so different from the underworld I already knew. It was easy to find an angle, just like before.",moves:[{name:"Hoodlum",description:"When you get into trouble, roll +Cool."},{name:"Burglar",description:"When you break into a secure location, roll +Cool."},{name:"Grifter",description:"When you try to dupe someone, roll +Charm."},{name:"Fixer",description:"When you need something, roll +Sharp."},{name:"Assassin",description:"When you attack from ambush, roll +Cool."},{name:"Charlatan",description:"When you try to lie to someone, roll +Charm."},{name:"Pickpocket",description:"When you try to steal something, roll +Cool."}],gear:[".22 revolver (1-harm close reload small)",".38 revolver (2-harm close reload loud)","9mm (2-harm close loud)","Shotgun (3-harm close messy)","Hunting rifle (2-harm far loud)","Big knife (1-harm hand)","Baseball bat (1-harm hand)","Submachinegun (2-harm close reload area)","Assault rifle (3-harm close/far area)"],ratings:["Charm +1, Cool +1, Sharp +2, Tough 0, Weird -1","Charm -1, Cool +1, Sharp +1, Tough +2, Weird 0","Charm -1, Cool +2, Sharp +2, Tough 0, Weird -1","Charm +2, Cool +1, Sharp +1, Tough 0, Weird -1","Charm +2, Cool 0, Sharp +1, Tough -1, Weird +1"],special:"Whenever you spend a Luck point, someone from your past will re-appear in your life. Soon."},{name:"The Divine",description:"An agent of a higher power, sent to fight evil. You have a mission and heavenly powers to back you up.",moves:[{name:"Angel Wings",description:"You can go instantly to anywhere youve visited before, or to a person you know well. When you carry one or two people with you, roll +Weird."},{name:"Smite",description:"Your body and divine weapon always count as a weakness against the monsters you fight."},{name:"Soothe",description:"When you talk to someone for a few seconds in a quiet voice, you can calm them down, blocking any panic, anger, or other negative emotions."},{name:"What I Need, When I Need It",description:"You may store any useful item or piece of information somewhere close at hand."},{name:"Lay On Hands",description:"Your touch can heal injury and disease. When you lay your hands on someone hurt, roll +Cool."},{name:"Angels Call",description:"You can summon an angelic ally to assist you. Roll +Weird."}],gear:["Divine weapon (3-harm hand messy holy)","Holy armor (1-armour holy)"],ratings:["Charm +2, Cool +1, Sharp +0, Tough +2, Weird -1","Charm +1, Cool +2, Sharp +0, Tough +2, Weird -1","Charm +2, Cool +1, Sharp +1, Tough +0, Weird +1","Charm +0, Cool +1, Sharp +2, Tough +1, Weird -1","Charm +2, Cool +0, Sharp +1, Tough +2, Weird -1"],special:"When you spend a point of Luck, your higher power gives you a vision about the current mystery."},{name:"The Flake",description:"You see patterns that others dont. Youre the one who connects the dots and sees the truth about the world.",moves:[{name:"Connect the Dots",description:"You see patterns that others dont. Youre the one who connects the dots and sees the truth about the world."},{name:"Crazy Eyes",description:"When you use your sharp gaze to study something, roll +Sharp."},{name:"Net Friends",description:"When you contact your network of friends, roll +Charm."},{name:"Sneaky",description:"When you try to be sneaky, roll +Cool."},{name:"Suspicious Mind",description:"When you try to figure out if someone is lying, roll +Sharp."},{name:"The Big Picture",description:"When you start a mystery, roll +Sharp."},{name:"Often Overlooked",description:"When you act all quiet and out of the way, roll +Cool."}],gear:["Hunting rifle (2-harm far loud)","Shotgun (3-harm close messy)","Big knife (1-harm hand)","Baseball bat (1-harm hand)"],ratings:["Charm +1, Cool +2, Sharp +1, Tough 0, Weird -1","Charm -1, Cool +2, Sharp +2, Tough 0, Weird 0","Charm +2, Cool +1, Sharp +2, Tough -1, Weird 0","Charm +1, Cool +1, Sharp +2, Tough 0, Weird +1"],special:"Whenever you spend a Luck point, you have a vision about the current mystery."},{name:"The Expert",description:"You have devoted your life to researching the supernatural and finding ways to deal with it. You have the knowledge and the tools to deal with these threats.",moves:[{name:"Ive Read About This Sort of Thing",description:"Youve read books, and you can use that knowledge."},{name:"Preparedness",description:"If you need something unusual, roll +Sharp."},{name:"Always the Victim",description:"When youre attacked, roll +Cool."},{name:"Dark Past",description:"When you look into your past lives, roll +Weird."},{name:"Often Right",description:"When youre right about something, gain +1 ongoing."},{name:"Soothe",description:"When you talk to someone for a few seconds, roll +Charm."},{name:"The Big Picture",description:"When you start a mystery, roll +Sharp."}],gear:["Shotgun (3-harm close messy)","Big knife (1-harm hand)","Sword (3-harm hand)"],ratings:["Charm +1, Cool +1, Sharp +2, Tough 0, Weird -1","Charm -1, Cool +1, Sharp +2, Tough +1, Weird 0","Charm +1, Cool +2, Sharp +2, Tough 0, Weird -1","Charm +2, Cool +1, Sharp +1, Tough 0, Weird 0"],special:"Whenever you spend a Luck point, something you have prepared comes in handy."},{name:"The Initiate",description:"You are part of an ancient secret order that fights against the darkness. You have access to their knowledge and resources.",moves:[{name:"Ancient Fighting Arts",description:"You have been trained to fight with ancient weapons. Roll +Tough."},{name:"Fortunes",description:"When you seek your orders knowledge, roll +Weird."},{name:"Mentor",description:"You have a mentor who can help you. Roll +Charm."},{name:"Apprentice",description:"You are training someone. Roll +Sharp."},{name:"Sacred Oath",description:"You have sworn a sacred oath. Roll +Cool."},{name:"The Big Picture",description:"When you start a mystery, roll +Sharp."},{name:"Resilience",description:"You heal faster than normal people."}],gear:["Big knife (1-harm hand)","Sword (2-harm hand)","Shotgun (3-harm close messy)","Hunting rifle (2-harm far loud)"],ratings:["Charm +1, Cool +1, Sharp +2, Tough 0, Weird -1","Charm -1, Cool +1, Sharp +2, Tough +1, Weird 0","Charm +1, Cool +2, Sharp +2, Tough 0, Weird -1","Charm +2, Cool +1, Sharp +1, Tough 0, Weird 0"],special:"Whenever you spend a Luck point, your order provides you with valuable information or resources."},{name:"The Monstrous",description:"You are a creature of the night, but you fight for the good guys. You have supernatural abilities and a dark side.",moves:[{name:"Immortal",description:"You do not age, and you cannot die of old age. Roll +Weird."},{name:"Unholy Strength",description:"You have inhuman strength. Roll +Tough."},{name:"Preternatural Speed",description:"You have inhuman speed. Roll +Cool."},{name:"Dark Negotiator",description:"You can make deals with dark powers. Roll +Charm."},{name:"The Big Picture",description:"When you start a mystery, roll +Sharp."},{name:"Resilience",description:"You heal faster than normal people."},{name:"Natural Attack",description:"You have a natural attack. Roll +Tough."}],gear:["Claws (3-harm hand)","Fangs (2-harm intimate)"],ratings:["Charm +1, Cool +1, Sharp +2, Tough 0, Weird -1","Charm -1, Cool +1, Sharp +2, Tough +1, Weird 0","Charm +1, Cool +2, Sharp +2, Tough 0, Weird -1","Charm +2, Cool +1, Sharp +1, Tough 0, Weird 0"],special:"Whenever you spend a Luck point, your dark sides needs come to the fore."},{name:"The Mundane",description:"You are an ordinary person, caught up in the world of monsters and magic.",moves:[{name:"Always the Victim",description:"When youre attacked, roll +Cool."},{name:"Dont Worry, Ill Check It Out",description:"When you go off alone to check out somewhere, roll +Cool."},{name:"Lets Get Out of Here",description:"When you lead people out of danger, roll +Charm."},{name:"What Could Go Wrong?",description:"When you charge into immediate danger without hedging your bets, roll +Cool."},{name:"Trust Me",description:"When you tell a normal person the truth in order to protect them, roll +Charm."},{name:"Panic Button",description:"When you need to escape, roll +Cool."},{name:"The Power of Heart",description:"When fighting a monster, if you help someone, roll +Charm."}],gear:["Kitchen knife (1-harm hand)","Baseball bat (1-harm hand)","Fire axe (3-harm hand heavy)","Chainsaw (3-harm hand messy heavy)"],ratings:["Charm +2, Cool 0, Sharp +1, Tough 0, Weird -1","Charm +1, Cool +2, Sharp 0, Tough 0, Weird -1","Charm +2, Cool +1, Sharp 0, Tough -1, Weird 0","Charm +2, Cool 0, Sharp -1, Tough +1, Weird 0"],special:"Whenever you spend a Luck point, something goes terribly wrong."},{name:"The Professional",description:"You work for an organization that fights the supernatural. You have the training and resources to deal with these threats.",moves:[{name:"Battlefield Awareness",description:"You always know whats happening around you. Roll +Sharp."},{name:"Tactical Genius",description:"When you plan a combat situation, roll +Sharp."},{name:"Heavy Weapons",description:"You are trained in the use of heavy weapons. Roll +Tough."},{name:"The Big Picture",description:"When you start a mystery, roll +Sharp."},{name:"Resilience",description:"You heal faster than normal people."},{name:"Cool Under Pressure",description:"You can take a moment to center yourself. Roll +Cool."}],gear:["Assault rifle (3-harm close/far area)","Submachinegun (2-harm close area)","Shotgun (3-harm close messy)","Hunting rifle (2-harm far loud)"],ratings:["Charm +1, Cool +2, Sharp +1, Tough 0, Weird -1","Charm -1, Cool +2, Sharp +2, Tough 0, Weird 0","Charm +2, Cool +1, Sharp +2, Tough -1, Weird 0","Charm +1, Cool +1, Sharp +2, Tough 0, Weird +1"],special:"Whenever you spend a Luck point, your organization provides you with valuable resources or support."},{name:"The Spooky",description:"You have psychic or supernatural abilities, but they come with a cost. Your powers are both a blessing and a curse.",moves:[{name:"Premonitions",description:"You get premonitions of danger. Roll +Weird."},{name:"The Big Whammy",description:"You can use your powers as a weapon. Roll +Weird."},{name:"Hex",description:"You can cast hexes. Roll +Weird."},{name:"The Sight",description:"You can see the invisible, especially spirits and magical influences. Roll +Weird."},{name:"Jinx",description:"You can encourage coincidences to occur, the way you want. Roll +Weird."},{name:"The Big Picture",description:"When you start a mystery, roll +Sharp."},{name:"Resilience",description:"You heal faster than normal people."}],gear:["Protective amulet (1-armour)","Ancient weapon (2-harm hand)"],ratings:["Charm +1, Cool +1, Sharp +2, Tough 0, Weird -1","Charm -1, Cool +1, Sharp +2, Tough +1, Weird 0","Charm +1, Cool +2, Sharp +2, Tough 0, Weird -1","Charm +2, Cool +1, Sharp +1, Tough 0, Weird 0"],special:"Whenever you spend a Luck point, your powers backfire in a dangerous way."},{name:"The Wronged",description:"You have suffered at the hands of the supernatural, and now you seek revenge. You are driven by anger and a need for justice.",moves:[{name:"I Know My Prey",description:"You have learned about your prey through personal experience. Roll +Sharp."},{name:"Berserk",description:"When you are enraged, you can fight without any concern for your own safety. Roll +Tough."},{name:"NEVER AGAIN",description:"In combat, you may choose to protect someone without rolling. Roll +Tough."},{name:"What Does Not Kill Me",description:"If you survive an injury, you gain +1 forward. Roll +Cool."},{name:"The Big Picture",description:"When you start a mystery, roll +Sharp."},{name:"Resilience",description:"You heal faster than normal people."}],gear:["Hunting rifle (2-harm far loud)","Shotgun (3-harm close messy)","Big knife (1-harm hand)","Baseball bat (1-harm hand)"],ratings:["Charm +1, Cool +1, Sharp +2, Tough 0, Weird -1","Charm -1, Cool +1, Sharp +2, Tough +1, Weird 0","Charm +1, Cool +2, Sharp +2, Tough 0, Weird -1","Charm +2, Cool +1, Sharp +1, Tough 0, Weird 0"],special:"Whenever you spend a Luck point, you are driven to a reckless course of action."}],VR={name:"Profile",data(){return{profile:{name:"",age:"",background:"",playbook:""},playbooks:WR,selectedPlaybook:null,db:null,userId:localStorage.getItem("motw-uid")}},created(){this.app=Tn(Gn.firebaseConfig),this.db=wn(this.app),this.fetchProfile()},methods:{fetchProfile(){const t=it(this.db,"profiles/"+this.userId);Il(t).then(e=>{e.exists()?(this.profile=e.val(),this.selectPlaybook()):console.log("No profile data available")}).catch(e=>{console.error("Error fetching profile:",e)})},saveProfile(){const t=it(this.db,"profiles/"+this.userId);Oo(t,this.profile).catch(e=>{console.error("Error saving profile:",e)})},selectPlaybook(){this.selectedPlaybook=this.playbooks.find(t=>t.name===this.profile.playbook)}}},Sn=t=>(ln("data-v-9e7aa2f6"),t=t(),cn(),t),$R={class:"profile"},HR=Sn(()=>v("h1",null,"Hunter Profile",-1)),zR={class:"form-group"},jR=Sn(()=>v("label",{for:"name"},"Name:",-1)),qR={class:"form-group"},GR=Sn(()=>v("label",{for:"age"},"Age:",-1)),KR={class:"form-group"},YR=Sn(()=>v("label",{for:"background"},"Background:",-1)),QR={class:"form-group"},XR=Sn(()=>v("label",{for:"playbook"},"Playbook:",-1)),JR=["value"],ZR={key:0},eP={class:"playbook-details"},tP=Sn(()=>v("h3",null,"Moves:",-1)),nP=Sn(()=>v("h3",null,"Gear:",-1)),iP=Sn(()=>v("h3",null,"Ratings:",-1)),sP=Sn(()=>v("h3",null,"Special:",-1)),rP=Sn(()=>v("button",{type:"submit"},"Save Profile",-1));function oP(t,e,n,i,s,r){return N(),W("div",$R,[HR,v("form",{onSubmit:e[5]||(e[5]=Zi((...o)=>r.saveProfile&&r.saveProfile(...o),["prevent"]))},[v("div",zR,[jR,ge(v("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.profile.name=o),id:"name",required:""},null,512),[[Ce,s.profile.name]])]),v("div",qR,[GR,ge(v("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=o=>s.profile.age=o),id:"age",required:""},null,512),[[Ce,s.profile.age]])]),v("div",KR,[YR,ge(v("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.profile.background=o),id:"background",required:""},null,512),[[Ce,s.profile.background]])]),v("div",QR,[XR,ge(v("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.profile.playbook=o),id:"playbook",onChange:e[4]||(e[4]=(...o)=>r.selectPlaybook&&r.selectPlaybook(...o))},[(N(!0),W(Ne,null,zt(s.playbooks,o=>(N(),W("option",{key:o.name,value:o.name},ce(o.name),9,JR))),128))],544),[[P1,s.profile.playbook]])]),s.selectedPlaybook?(N(),W("div",ZR,[v("div",eP,[v("h2",null,ce(s.selectedPlaybook.name),1),v("p",null,ce(s.selectedPlaybook.description),1),tP,v("ul",null,[(N(!0),W(Ne,null,zt(s.selectedPlaybook.moves,o=>(N(),W("li",{key:o.name},[v("strong",null,ce(o.name),1),Ge(": "+ce(o.description),1)]))),128))]),nP,v("ul",null,[(N(!0),W(Ne,null,zt(s.selectedPlaybook.gear,o=>(N(),W("li",{key:o},ce(o),1))),128))]),iP,v("ul",null,[(N(!0),W(Ne,null,zt(s.selectedPlaybook.ratings,o=>(N(),W("li",{key:o},ce(o),1))),128))]),sP,v("p",null,ce(s.selectedPlaybook.special),1)])])):_e("",!0),rP],32)])}const Jh=Xt(VR,[["render",oP],["__scopeId","data-v-9e7aa2f6"]]),aP={name:"UnAuthBackGr",setup(){console.log("This was created");const e=Ss("ERROR: Unauthorized!".split("")),n=Ss(null);return il(async()=>{await go(),console.log(74,n.value);var i=Ms.timeline();i.to(".top-msg .st0",{opacity:1,duration:.6,delay:.5,ease:"power3.out"}),n.value&&i.from(n.value.querySelectorAll(".letter-unauth"),{opacity:0,duration:.6,delay:.3,ease:"power3.out",stagger:.05}),i.to(".st0",{opacity:1,duration:1,delay:.3,ease:"power3.out"})}),Au(async()=>{tl2.reverse()}),{splitTextUnauth:e,lettersRefUnAuth:n}}},lP=t=>(ln("data-v-dc5ad988"),t=t(),cn(),t),cP={class:"top-msg",ref:"lettersRefUnAuth"},uP={class:"top-slash",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 500 500",style:{"enable-background":"new 0 0 500 500"},"xml:space":"preserve"},hP=lP(()=>v("g",{id:"DESIGN"},[v("g",null,[v("polygon",{class:"st0",points:"88.33,250 78.33,250 78.33,421.67 250,421.67 250,411.67 88.33,411.67 		"}),v("polygon",{class:"st0",points:"250,78.33 250,88.33 411.67,88.33 411.67,250 421.67,250 421.67,78.33 		"}),v("rect",{x:"245",y:"14.3",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -103.5534 249.9995)",class:"st0",width:"10",height:"471.4"})])],-1)),dP=[hP],fP={class:"unauth-backgr",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 500 500",style:{"enable-background":"new 0 0 500 500"},"xml:space":"preserve"},pP=Pu(`<g id="DESIGN" data-v-dc5ad988><g data-v-dc5ad988><path class="st0" d="M421.57,415.69c-0.06-0.32-0.16-0.63-0.29-0.94c-0.12-0.3-0.28-0.59-0.46-0.86\r
                    c-0.18-0.27-0.39-0.53-0.62-0.76c-0.23-0.23-0.48-0.44-0.76-0.62c-0.27-0.18-0.56-0.34-0.86-0.46c-0.3-0.13-0.62-0.22-0.94-0.29\r
                    c-0.64-0.13-1.31-0.13-1.95,0c-0.32,0.07-0.63,0.16-0.94,0.29c-0.3,0.12-0.59,0.28-0.86,0.46c-0.27,0.18-0.53,0.39-0.76,0.62\r
                    c-0.23,0.23-0.44,0.49-0.62,0.76s-0.34,0.56-0.46,0.86c-0.13,0.31-0.22,0.62-0.29,0.94c-0.06,0.32-0.09,0.65-0.09,0.98\r
                    c0,1.31,0.53,2.6,1.46,3.53c0.23,0.23,0.49,0.44,0.76,0.62c0.27,0.18,0.56,0.34,0.86,0.46c0.31,0.13,0.62,0.22,0.94,0.29\r
                    c0.32,0.06,0.65,0.1,0.98,0.1c0.32,0,0.65-0.04,0.97-0.1c0.32-0.07,0.64-0.16,0.94-0.29c0.3-0.12,0.59-0.28,0.86-0.46\r
                    c0.28-0.18,0.53-0.39,0.76-0.62c0.93-0.93,1.47-2.22,1.47-3.53C421.67,416.34,421.63,416.01,421.57,415.69z" data-v-dc5ad988></path><path class="st0" d="M80.56,87.49c0.27,0.18,0.56,0.34,0.86,0.46c0.3,0.13,0.62,0.22,0.94,0.29c0.32,0.06,0.65,0.09,0.97,0.09\r
                    c1.32,0,2.61-0.53,3.54-1.46c0.93-0.93,1.46-2.22,1.46-3.54c0-0.32-0.03-0.65-0.1-0.97c-0.06-0.32-0.16-0.64-0.28-0.94\r
                    c-0.13-0.3-0.28-0.59-0.46-0.86c-0.18-0.28-0.39-0.53-0.62-0.76c-1.16-1.16-2.89-1.7-4.51-1.37c-0.32,0.07-0.64,0.16-0.94,0.29\r
                    c-0.3,0.12-0.59,0.28-0.86,0.46c-0.28,0.18-0.53,0.39-0.76,0.62s-0.44,0.48-0.62,0.76c-0.19,0.27-0.34,0.56-0.46,0.86\r
                    c-0.13,0.3-0.23,0.62-0.29,0.94c-0.07,0.32-0.1,0.65-0.1,0.97c0,1.32,0.54,2.61,1.47,3.54C80.03,87.1,80.28,87.31,80.56,87.49z" data-v-dc5ad988></path><path class="st0" d="M79.8,170.2c0.98,0.98,2.26,1.46,3.54,1.46s2.56-0.49,3.54-1.46l83.33-83.33c1.95-1.95,1.95-5.12,0-7.07\r
                    c-1.95-1.95-5.12-1.95-7.07,0L79.8,163.13C77.84,165.08,77.84,168.25,79.8,170.2z" data-v-dc5ad988></path><path class="st0" d="M79.8,253.54c0.98,0.98,2.26,1.46,3.54,1.46s2.56-0.49,3.54-1.46L253.54,86.87c1.95-1.95,1.95-5.12,0-7.07\r
                    c-1.95-1.95-5.12-1.95-7.07,0L79.8,246.46C77.84,248.42,77.84,251.58,79.8,253.54z" data-v-dc5ad988></path><path class="st0" d="M79.8,336.87c0.98,0.98,2.26,1.46,3.54,1.46s2.56-0.49,3.54-1.46l250-250c1.95-1.95,1.95-5.12,0-7.07\r
                    c-1.95-1.95-5.12-1.95-7.07,0l-250,250C77.84,331.75,77.84,334.92,79.8,336.87z" data-v-dc5ad988></path><path class="st0" d="M420.2,79.8c-1.95-1.95-5.12-1.95-7.07,0L79.8,413.13c-1.95,1.95-1.95,5.12,0,7.07\r
                    c0.98,0.98,2.26,1.46,3.54,1.46s2.56-0.49,3.54-1.46L420.2,86.87C422.16,84.92,422.16,81.75,420.2,79.8z" data-v-dc5ad988></path><path class="st0" d="M420.2,163.13c-1.95-1.95-5.12-1.95-7.07,0l-250,250c-1.95,1.95-1.95,5.12,0,7.07\r
                    c0.98,0.98,2.26,1.46,3.54,1.46s2.56-0.49,3.54-1.46l250-250C422.16,168.25,422.16,165.08,420.2,163.13z" data-v-dc5ad988></path><path class="st0" d="M420.2,246.46c-1.95-1.95-5.12-1.95-7.07,0L246.46,413.13c-1.95,1.95-1.95,5.12,0,7.07\r
                    c0.98,0.98,2.26,1.46,3.54,1.46s2.56-0.49,3.54-1.46L420.2,253.54C422.16,251.58,422.16,248.42,420.2,246.46z" data-v-dc5ad988></path><path class="st0" d="M420.2,329.8c-1.95-1.95-5.12-1.95-7.07,0l-83.33,83.33c-1.95,1.95-1.95,5.12,0,7.07\r
                    c0.98,0.98,2.26,1.46,3.54,1.46s2.56-0.49,3.54-1.46l83.33-83.33C422.16,334.92,422.16,331.75,420.2,329.8z" data-v-dc5ad988></path></g></g>`,1),_P=[pP];function mP(t,e,n,i,s,r){return N(),W(Ne,null,[v("div",cP,[(N(),W("svg",uP,dP)),(N(!0),W(Ne,null,zt(i.splitTextUnauth,(o,a)=>(N(),W("span",{key:a,class:"letter-unauth",style:Bs({whiteSpace:o===" "?"pre":"normal"})},ce(o),5))),128))],512),(N(),W("svg",fP,_P))],64)}const gP=Xt(aP,[["render",mP],["__scopeId","data-v-dc5ad988"]]),yP={width:"100%",height:"100%",viewBox:"0 0 800 600",xmlns:"http://www.w3.org/2000/svg",fill:"none"},vP=Pu('<circle class="circle-rotate-1" cx="400" cy="300" r="120" stroke="#FFD700" stroke-width="2" fill="none" stroke-dasharray="5,5"></circle><g class="circle-rotate-2" style="transform-origin:400px 300px;"><path d="M 480 300 A 80 80 0 0 1 400 380" stroke="#FFD700" stroke-width="2" fill="none"></path><path d="M 400 380 A 80 80 0 0 1 320 300" stroke="#FFD700" stroke-width="2" fill="none"></path><path d="M 320 300 A 80 80 0 0 1 400 220" stroke="#FFD700" stroke-width="2" fill="none"></path></g>',2);function CP(t,e){return N(),W("svg",yP,[(N(),xt(h_("style"),null,{default:_t(()=>[Ge(" .circle-rotate-1 { animation: rotate1 8s linear infinite; transform-origin: 400px 300px; } .circle-rotate-2 { animation: rotate2 12s linear infinite; transform-origin: 400px 300px; } @keyframes rotate1 { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } @keyframes rotate2 { from { transform: rotate(0deg); } to { transform: rotate(-360deg); } } ")]),_:1})),vP])}const DP={render:CP},EP={name:"Home",setup(){const e=Ss("The Night Sees Everything.".split("")),i=Ss("In the darkness, we watch. In the silence, we act.".split("")),s=Ss(null);il(async()=>{await go();var a=Ms.timeline();a.from(".letter",{opacity:0,duration:.6,delay:.3,ease:"power3.out",stagger:.05}),a.to(".link",{opacity:1,y:0,duration:.6,ease:"power3.out"})});function r(){Ms.to(".sign-in-modal",{visibility:"visible",height:"auto",duration:.6})}function o(){Ms.to(".sign-in-modal",{height:0,duration:.6,visibility:"hidden"})}return{splitText:e,splitText2:i,lettersRef:s,store:Ze,showModal:r,closeModal:o}},components:{CaseFiles:Qh,Bestiary:Xh,Profile:Jh,UnAuthBackGr:gP}},In=t=>(ln("data-v-8a18bd9f"),t=t(),cn(),t),wP={class:"home"},bP={class:"sign-in-modal"},TP={class:"icon-bar"},SP=In(()=>v("img",{class:"modal-logo",src:fh},null,-1)),IP=In(()=>v("g",{id:"close-icon-svg"},[v("g",null,[v("polygon",{class:"st0",points:`88.33,88.33 194.44,88.33 194.44,78.33 78.33,78.33 78.33,421.67 194.44,421.67 194.44,411.67 \r
                        88.33,411.67 		`}),v("polygon",{class:"st0",points:`305.56,78.33 305.56,88.33 411.67,88.33 411.67,411.67 305.56,411.67 305.56,421.67 421.67,421.67 \r
                        421.67,78.33 		`}),v("polygon",{class:"st0",points:`325.03,167.9 250,242.93 174.97,167.9 167.9,174.97 242.93,250 167.9,325.03 174.97,332.1 \r
                        250,257.07 325.03,332.1 332.1,325.03 257.07,250 332.1,174.97`})])],-1)),AP=[IP],kP={class:"grid-container"},RP={key:0,class:"left-side-flair-top"},PP=In(()=>v("img",{src:DP},null,-1)),xP=[PP],OP={key:1,class:"left-side-flair-top"},FP={class:"left-side-flair-mid"},NP=In(()=>v("p",null," Acquisitions (Equipment & Artifacts)",-1)),MP={class:"left-side-flair-bot"},LP=In(()=>v("p",null,"Reliquary (Artifacts of Power)",-1)),UP={class:"box-el-1 center-flair-top"},BP=In(()=>v("img",{class:"main-logo",src:fh},null,-1)),WP={class:"home-text"},VP={class:"home-text-subtitle"},$P={class:"center-flair-mid-left c-bracket-box__container"},HP=In(()=>v("p",null,"Mission Files (Case Logs)",-1)),zP={class:"center-flair-mid-right c-bracket-box__container"},jP=In(()=>v("p",null,"Operations (Recent Activity & Mission Logs)",-1)),qP={class:"right-side-flair-top"},GP=In(()=>v("p",null,"Player Character Sheets (Operative Profiles)",-1)),KP={class:"right-side-flair-mid"},YP=In(()=>v("p",null,"Bestiary (Threat Index)",-1));function QP(t,e,n,i,s,r){const o=ct("router-view"),a=ct("UnAuthBackGr"),l=ct("router-link"),c=ct("CaseFiles"),u=ct("Profile"),h=ct("Bestiary");return N(),W("div",wP,[v("div",bP,[v("div",TP,[SP,(N(),W("svg",{id:"close-icon",onClick:e[0]||(e[0]=(...d)=>i.closeModal&&i.closeModal(...d)),version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 500 500",style:{"enable-background":"new 0 0 500 500"},"xml:space":"preserve"},AP))]),fe(o)]),v("div",kP,[i.store.isAuthenticated?(N(),W("div",RP,xP)):(N(),W("div",OP,[fe(a)])),v("div",FP,[NP,i.store.isAuthenticated?_e("",!0):(N(),xt(a,{key:0}))]),v("div",MP,[LP,i.store.isAuthenticated?_e("",!0):(N(),xt(a,{key:0}))]),v("div",UP,[BP,v("h1",WP,[(N(!0),W(Ne,null,zt(i.splitText,(d,f)=>(N(),W("span",{key:f,class:"letter",style:Bs({whiteSpace:d===" "?"pre":"normal"})},ce(d),5))),128))]),v("h3",VP,[(N(!0),W(Ne,null,zt(i.splitText2,(d,f)=>(N(),W("span",{key:f,class:"letter",style:Bs({whiteSpace:d===" "?"pre":"normal"})},ce(d),5))),128))]),fe(l,{to:{name:"LoginComp"},class:"link",onClick:i.showModal},{default:_t(()=>[Ge("Access Secure Channel")]),_:1},8,["onClick"])]),v("div",$P,[HP,i.store.isAuthenticated?(N(),xt(c,{key:1})):(N(),xt(a,{key:0}))]),v("div",zP,[jP,i.store.isAuthenticated?_e("",!0):(N(),xt(a,{key:0}))]),v("div",qP,[GP,i.store.isAuthenticated?(N(),xt(u,{key:1})):(N(),xt(a,{key:0}))]),v("div",KP,[YP,i.store.isAuthenticated?(N(),xt(h,{key:1})):(N(),xt(a,{key:0}))])])])}const XP=Xt(EP,[["render",QP],["__scopeId","data-v-8a18bd9f"]]),JP={data(){return{message:"We doin our best here",email:"",password:"",name:"",showRegister:!1,errorMessage:""}},created(){this.app=Tn(Gn.firebaseConfig),this.auth=Fm(this.app),mE(this.auth,t=>{t?(Ze.login({uid:t.uid}),this.fetchUserName(t.uid)):Ze.logout()})},methods:{setCookie(t,e,n){const i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);const s=`expires=${i.toUTCString()}`;document.cookie=`${t}=${e}; ${s}; path=/`},displayMessage(t){console.log(t)},registerUser(){hE(this.auth,this.email,this.password).then(t=>{const e=t.user,n={name:this.name,email:this.email,isAdmin:!1,last_login:Date.now()},i=wn();Oo(it(i,"profiles/"+e.uid),n),Ze.login({uid:e.uid,name:this.name,isAdmin:e.isAdmin}),this.errorMessage=""}).catch(t=>{this.errorMessage=t.message})},loginUser(){fE(this.auth,Tm).then(()=>dE(this.auth,this.email,this.password)).then(t=>{Ze.login({uid:t.user.uid}),this.fetchUserName(t.user.uid),this.errorMessage="",localStorage.setItem("motw-uid",t.user.uid),localStorage.setItem("motw-user",JSON.stringify(t.user))}).catch(t=>{this.errorMessage=t.message})},logoutUser(){Em(this.auth).then(()=>{Ze.logout(),localStorage.removeItem("motw-uid"),localStorage.removeItem("motw-user")}).catch(t=>{console.error(t)})},fetchUserName(t){console.log(128,"Fetch username");const e=wn(),n=it(e,"profiles/"+t);Il(n).then(i=>{i.exists()?(Ze.user.name=i.val().name,Ze.isAdmin=i.val().isAdmin):console.log("No user data available")}).catch(i=>{console.error(i)})}},computed:{store(){return Ze}}},kl=t=>(ln("data-v-c22759db"),t=t(),cn(),t),ZP={key:0,class:"input-container"},e2={key:0,class:"error"},t2=kl(()=>v("label",{for:"email"},"Email:",-1)),n2=kl(()=>v("label",{for:"password"},"Password:",-1)),i2={key:1},s2=kl(()=>v("label",{for:"name"},"Name:",-1)),r2={key:2},o2={key:3,class:"cta-container"},a2=kl(()=>v("br",null,null,-1)),l2={key:1};function c2(t,e,n,i,s,r){return N(),W("div",null,[v("h1",null,ce(s.message),1),r.store.isAuthenticated?(N(),W("div",l2,[v("p",null,"Welcome, "+ce(r.store.user.name)+"!",1),v("button",{onClick:e[6]||(e[6]=(...o)=>r.logoutUser&&r.logoutUser(...o))},"Logout")])):(N(),W("div",ZP,[s.errorMessage?(N(),W("div",e2,ce(s.errorMessage),1)):_e("",!0),v("div",null,[t2,ge(v("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=o=>s.email=o),id:"email"},null,512),[[Ce,s.email]])]),v("div",null,[n2,ge(v("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>s.password=o),id:"password"},null,512),[[Ce,s.password]])]),s.showRegister?(N(),W("div",i2,[s2,ge(v("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>s.name=o),id:"name"},null,512),[[Ce,s.name]])])):_e("",!0),s.showRegister?(N(),W("div",r2,[v("button",{onClick:e[3]||(e[3]=(...o)=>r.registerUser&&r.registerUser(...o))},"Register")])):(N(),W("div",o2,[v("button",{onClick:e[4]||(e[4]=(...o)=>r.loginUser&&r.loginUser(...o))},"Login"),v("p",null,[Ge("No account?"),a2,Ge(),v("a",{href:"#",onClick:e[5]||(e[5]=Zi(o=>s.showRegister=!0,["prevent"]))},"Click here to register")])]))]))])}const u2=Xt(JP,[["render",c2],["__scopeId","data-v-c22759db"]]),h2={name:"Dashboard",components:{CaseFiles:Qh,Bestiary:Xh,Profile:Jh}},uy=t=>(ln("data-v-29f37951"),t=t(),cn(),t),d2={class:"dashboard"},f2=uy(()=>v("div",{class:"header"},[v("h1",{class:"title"},"Dashboard")],-1)),p2={class:"menu"},_2={class:"dashboard-sections"},m2={class:"dashboard-section"},g2={class:"dashboard-section"},y2={class:"dashboard-section"},v2=uy(()=>v("div",{class:"footer"},[v("p",null," 2024 The Night Watch")],-1));function C2(t,e,n,i,s,r){const o=ct("router-link"),a=ct("case-files"),l=ct("profile"),c=ct("bestiary");return N(),W("div",d2,[f2,v("ul",p2,[v("li",null,[fe(o,{to:"/case-files"},{default:_t(()=>[Ge("Case Files")]),_:1})]),v("li",null,[fe(o,{to:"/bestiary"},{default:_t(()=>[Ge("Bestiary")]),_:1})]),v("li",null,[fe(o,{to:"/profile"},{default:_t(()=>[Ge("Profile")]),_:1})])]),v("main",null,[v("div",_2,[v("div",m2,[fe(a)]),v("div",g2,[fe(l)]),v("div",y2,[fe(c)])])]),v2])}const D2=Xt(h2,[["render",C2],["__scopeId","data-v-29f37951"]]),E2={name:"CaseDetail",props:["id"],data(){return{caseFile:null,newNote:"",newClue:{summary:"",details:"",password:""},newLocation:{name:"",description:""},isAdmin:Ze.isAdmin}},created(){this.app=Tn(Gn.firebaseConfig),this.db=wn(this.app),this.fetchCaseFile()},methods:{fetchCaseFile(){var t=it(this.db,"caseFiles/"+this.id);Il(t).then(e=>{e.exists()?(this.caseFile=e.val(),this.caseFile.notes||(this.caseFile.notes=[]),this.caseFile.clues||(this.caseFile.clues=[]),this.caseFile.locations||(this.caseFile.locations=[])):console.log("No case data available")}).catch(e=>{console.error("Error fetching case:",e)})},addNote(){var t={content:this.newNote,timestamp:Date.now()};this.caseFile.notes.push(t),this.updateCaseFile(),this.newNote=""},addClue(){var t={id:Date.now().toString(),summary:this.newClue.summary,details:this.newClue.details,password:this.newClue.password,detailsVisible:!1,enteredPassword:""};this.caseFile.clues.push(t),this.updateCaseFile(),this.newClue={summary:"",details:"",password:""}},unlockClue(t){t.enteredPassword===t.password?(t.detailsVisible=!0,ja(t.id,"detailsVisible = true")):alert("Incorrect password")},addLocation(){var t={name:this.newLocation.name,description:this.newLocation.description};this.caseFile.locations.push(t),this.updateCaseFile(),this.newLocation={name:"",description:""}},updateCaseFile(){var t=it(this.db,"caseFiles/"+this.id);ly(t,this.caseFile).catch(e=>{console.error("Error updating case:",e)})},checkVisibility(t){var e=Gi(t.id);e!==null&&e.indexOf("detailsVisible")>-1&&(t.detailsVisible=!0)}}},Bt=t=>(ln("data-v-ca649d10"),t=t(),cn(),t),w2={key:0,class:"case-detail"},b2={class:"locations"},T2=Bt(()=>v("h2",null,"Locations",-1)),S2=Bt(()=>v("label",{for:"location-name"},"Location Name:",-1)),I2=Bt(()=>v("label",{for:"location-description"},"Location Description:",-1)),A2=Bt(()=>v("button",{type:"submit"},"Add Location",-1)),k2={class:"clues"},R2=Bt(()=>v("h2",null,"Clues",-1)),P2=["onUpdate:modelValue"],x2=["onClick"],O2={key:2},F2={key:0},N2=Bt(()=>v("h3",null,"Add a Clue",-1)),M2=Bt(()=>v("label",{for:"clue-summary"},"Clue Summary:",-1)),L2=Bt(()=>v("label",{for:"clue-details"},"Clue Details:",-1)),U2=Bt(()=>v("label",{for:"clue-password"},"Clue Password:",-1)),B2=Bt(()=>v("button",{type:"submit"},"Add Clue",-1)),W2={class:"notes"},V2=Bt(()=>v("h2",null,"Notes",-1)),$2=Bt(()=>v("label",{for:"note"},"Add Note:",-1)),H2=Bt(()=>v("button",{type:"submit"},"Add Note",-1));function z2(t,e,n,i,s,r){const o=ct("router-link");return s.caseFile?(N(),W("div",w2,[v("h1",null,ce(s.caseFile.title),1),v("p",null,ce(s.caseFile.summary),1),v("p",null,ce(s.caseFile.details),1),v("div",b2,[T2,v("ul",null,[(N(!0),W(Ne,null,zt(s.caseFile.locations,a=>(N(),W("li",{key:a.name},[v("h3",null,ce(a.name),1),v("p",null,ce(a.description),1)]))),128))]),v("form",{onSubmit:e[2]||(e[2]=Zi((...a)=>r.addLocation&&r.addLocation(...a),["prevent"]))},[S2,ge(v("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.newLocation.name=a),id:"location-name",required:""},null,512),[[Ce,s.newLocation.name]]),I2,ge(v("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.newLocation.description=a),id:"location-description",required:""},null,512),[[Ce,s.newLocation.description]]),A2],32)]),v("div",k2,[R2,v("ul",null,[(N(!0),W(Ne,null,zt(s.caseFile.clues,a=>(N(),W("li",{class:"clue-item",key:a.id},[Ge(ce(r.checkVisibility(a))+" ",1),v("p",null,ce(a.summary),1),a.detailsVisible?_e("",!0):ge((N(),W("input",{key:0,type:"password","onUpdate:modelValue":l=>a.enteredPassword=l,placeholder:"Enter password to view clue"},null,8,P2)),[[Ce,a.enteredPassword]]),a.detailsVisible?_e("",!0):(N(),W("button",{key:1,onClick:l=>r.unlockClue(a)},"Unlock Clue",8,x2)),a.detailsVisible?(N(),W("p",O2,ce(a.details),1)):_e("",!0)]))),128))]),s.isAdmin?(N(),W("div",F2,[N2,v("form",{onSubmit:e[6]||(e[6]=Zi((...a)=>r.addClue&&r.addClue(...a),["prevent"]))},[M2,ge(v("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>s.newClue.summary=a),id:"clue-summary",required:""},null,512),[[Ce,s.newClue.summary]]),L2,ge(v("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>s.newClue.details=a),id:"clue-details",required:""},null,512),[[Ce,s.newClue.details]]),U2,ge(v("input",{type:"password","onUpdate:modelValue":e[5]||(e[5]=a=>s.newClue.password=a),id:"clue-password",required:""},null,512),[[Ce,s.newClue.password]]),B2],32)])):_e("",!0)]),v("div",W2,[V2,v("ul",null,[(N(!0),W(Ne,null,zt(s.caseFile.notes,a=>(N(),W("li",{key:a.timestamp},ce(a.content)+" ("+ce(new Date(a.timestamp).toLocaleString())+") ",1))),128))]),v("form",{onSubmit:e[8]||(e[8]=Zi((...a)=>r.addNote&&r.addNote(...a),["prevent"]))},[$2,ge(v("textarea",{"onUpdate:modelValue":e[7]||(e[7]=a=>s.newNote=a),id:"note",required:""},null,512),[[Ce,s.newNote]]),H2],32)]),fe(o,{to:"/case-files"},{default:_t(()=>[Ge("Back to Case Files")]),_:1})])):_e("",!0)}const j2=Xt(E2,[["render",z2],["__scopeId","data-v-ca649d10"]]),q2={name:"Acquisitions"},G2=t=>(ln("data-v-db5bbd25"),t=t(),cn(),t),K2={class:"acquisitions"},Y2=G2(()=>v("h1",null,"Acquisitions",-1)),Q2=[Y2];function X2(t,e,n,i,s,r){return N(),W("div",K2,Q2)}const J2=Xt(q2,[["render",X2],["__scopeId","data-v-db5bbd25"]]),Z2=[{path:"/",redirect:"/home"},{path:"/motw-frontend-hq",redirect:"/home"},{path:"/home",name:"Home",component:XP,children:[{path:"login",name:"LoginComp",component:u2}]},{path:"/dashboard",name:"Dashboard",component:D2},{path:"/case-files",name:"CaseFiles",component:Qh},{path:"/case-files/:id",name:"CaseDetail",component:j2,props:!0},{path:"/acquisitions",name:"Acquisitions",component:J2},{path:"/profile",name:"Profile",component:Jh},{path:"/bestiary",name:"Bestiary",component:Xh}],ex=rS({history:FT(),routes:Z2});M1(iT).use(ex).mount("#app");
